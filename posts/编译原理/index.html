

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head><!-- hexo injector head_begin start --><meta name="msvalidate.01" content="DF9F232801BA9D0CABB002E4774A3228" />
<meta name="google-site-verification" content="vOm5Zs9tuUlEh-wVBlpvs_spnOou-q2CoTiFQ1ZV1h4" />
<!-- hexo injector head_begin end -->
  <meta charset="UTF-8">

  <link rel="apple-touch-icon" sizes="76x76" href="/img/avatar/avatar2.webp">
  <link rel="icon" href="/img/avatar/avatar2.webp">
  

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="youyeyejie">
  <meta name="keywords" content="yyyj,YYYJ,youyeyejie,æœ‰é‡é‡èŠ¥">
  
    <meta name="description" content="NIS2336 ç¼–è¯‘åŸç† ç¬”è®°">
<meta property="og:type" content="article">
<meta property="og:title" content="ç¼–è¯‘åŸç†">
<meta property="og:url" content="https://youyeyejie.github.io/posts/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/index.html">
<meta property="og:site_name" content="æœ‰é‡é‡èŠ¥çš„åšå®¢">
<meta property="og:description" content="NIS2336 ç¼–è¯‘åŸç† ç¬”è®°">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://youyeyejie.github.io/img/cover/nis2336.webp">
<meta property="article:published_time" content="2025-06-09T11:47:21.000Z">
<meta property="article:modified_time" content="2025-07-14T09:36:36.201Z">
<meta property="article:author" content="youyeyejie">
<meta property="article:tag" content="SJTU">
<meta property="article:tag" content="ç¼–è¯‘åŸç†">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://youyeyejie.github.io/img/cover/nis2336.webp">
  
  
    <meta name="referrer" content="no-referrer-when-downgrade">
  
  
  <title>ç¼–è¯‘åŸç† - æœ‰é‡é‡èŠ¥çš„åšå®¢</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- ä¸»é¢˜ä¾èµ–çš„å›¾æ ‡åº“ï¼Œä¸è¦è‡ªè¡Œä¿®æ”¹ -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1749284_5i9bdhy70f8.css">



<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1736178_k526ubmyhba.css">
<link rel="stylesheet" href="//lib.baomitu.com/font-awesome/6.1.2/css/all.min.css">


<link  rel="stylesheet" href="/css/main.css" />




  
<link rel="stylesheet" href="/css/CodeBlock.css">
<link rel="stylesheet" href="/css/CodeInLine.css">
<link rel="stylesheet" href="/css/FrostedGlassBg.css">
<link rel="stylesheet" href="/css/Gallery.css">
<link rel="stylesheet" href="/css/IndexImgHover.css">
<link rel="stylesheet" href="/css/LinkCard.css">
<link rel="stylesheet" href="/css/ScrollAnimation.css">
<link rel="stylesheet" href="/css/ScrollBar.css">
<link rel="stylesheet" href="/css/StrongInDark.css">
<link rel="stylesheet" href="/css/TitleGradient.css">
<link rel="stylesheet" href="/css/TitleNeon.css">
<link rel="stylesheet" href="/css/UnifyImgWidth.css">



  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"youyeyejie.github.io","root":"/","version":"1.9.8","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":false,"default":"TEXT"},"copy_btn":false,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading/loading3.gif","onlypost":true,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":{"measurement_id":null},"tencent":{"sid":null,"cid":null},"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false},"umami":{"src":null,"website_id":null,"domains":null,"start_time":"2024-01-01T00:00:00.000Z","token":null,"api_server":null}},"search_path":"/local-search.xml","include_content_in_search":true};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-shiki-plugin@latest/lib/codeblock.css">
<style>:root{--hl-color:#abb2bf;--hl-bg:#282c34;--hltools-bg:#21252b;--hltools-color:#bbbbbc;--hlnumber-bg:#282c34;--hlnumber-color:#495162;--hlscrollbar-bg:#373c47;--hlexpand-bg:linear-gradient(180deg,rgba(40,44,52,0.1),rgba(40,44,52,0.9))}</style>
    <style>
    .code-expand-btn:not(.expand-done) ~ div.codeblock,
    .code-expand-btn:not(.expand-done) ~ * div.codeblock {
      overflow: hidden;
      height: 360px;
    }
    </style>
  <!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.3.0">
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
</head>


<body>
  <div id="loader-container"> 
    <div id="loader" class="loader"></div>
    <div class="loader-inner">
        <div class="loader-line-wrap">
            <div class="loader-line"></div>
        </div>
        <div class="loader-line-wrap">
            <div class="loader-line"></div>
        </div>
        <div class="loader-line-wrap">
            <div class="loader-line"></div>
        </div>
        <div class="loader-line-wrap">
            <div class="loader-line"></div>
        </div>
        <div class="loader-line-wrap">
            <div class="loader-line"></div>
        </div>
    </div>
</div>

<script src="/js/RainbowLoading.js" type="text/javascript"></script>
<link href="/css/RainbowLoading.css" type="text/css" rel="stylesheet"/><div id="tooltip-rightmenu" class="tooltip-rightmenu">å¦‚éœ€åŸå§‹å³é”®èœå•è¯·æŒ‰ä¸‹ <strong>Ctrl+å³é”®</strong></div>
<div id="tooltip-rightmenu-return" class="tooltip-rightmenu"></div>

<div id="rightmenu-wrapper">
  <ul class="list-v rightmenu" id="rightmenu-content">
	    <li class="navigation menuNavigation-Content">
            <a class="nav icon-only fix-cursor-default" onclick="history.back()"><i class="fa-solid fa-chevron-left"></i></a>
            <a class="nav icon-only fix-cursor-default" onclick="history.forward()"><i class="fa-solid fa-chevron-right"></i></a>
            <a class="nav icon-only fix-cursor-default" onclick="window.location.reload()"><i class="fa-solid fa-rotate-right"></i></a>
            <a class="nav icon-only fix-cursor-default" aria-label="TOP" href="#" role="button"><i class="fa-solid fa-chevron-up"></i></a>
            <a class="nav icon-only fix-cursor-default" aria-label="bottom" href="javascript:void(0);" role="button" onclick="window.scrollTo(0, document.body.scrollHeight);"><i class="fa-solid fa-chevron-down"></i></a>
	    </li>

        <hr class="menuLoad-Content" style="display: block;" id="top-line" hidden>

        <li class="menuLoad-Content" style="display: block;" id="copy-selected-text" hidden>
            <a class="vlts-menu fix-cursor-default" target="_self" onclick="copySelectedText();">
                <span>
                    <i class="fa-solid fa-copy"></i>
                    &nbsp;å¤åˆ¶é€‰ä¸­
                </span>
            </a>
        </li>

        <li class="menuLoad-Content" style="display: block;" id="search-selected-text-BING" hidden>
            <a class="vlts-menu fix-cursor-default" target="_blank" onclick="searchSelectedTextBing();">
                <span>
                    <i class="fa-solid fa-magnifying-glass-arrow-right"></i>
                    &nbsp;å¿…åº”æœç´¢
                </span>
            </a>
        </li>

        <li class="menuLoad-Content" style="display: block;" id="go-to-link" hidden>
            <a class="vlts-menu fix-cursor-default" target="_blank" onclick="goToLink();">
                <span>
                    <i class="fa-solid fa-arrow-up-right-from-square"></i>
                    &nbsp;è½¬åˆ°é“¾æ¥
                </span>
            </a>
        </li>

        <li class="menuLoad-Content" style="display: block;" id="download-image" hidden>
            <a class="vlts-menu fix-cursor-default" target="_self" onclick="downloadImage();">
                <span>
                    <i class="fa-solid fa-image"></i>
                    &nbsp;ä¸‹è½½å›¾ç‰‡
                </span>
            </a>
        </li>

        <li class="menuLoad-Content" style="display: block;" id="copy-image-link" hidden>
            <a class="vlts-menu fix-cursor-default" target="_self" onclick="copyImageLink();">
                <span>
                    <i class="fa-solid fa-link"></i>
                    å¤åˆ¶å›¾ç‰‡é“¾æ¥
                </span>
            </a>
        </li>

		<hr class="menuLoad-Content" style="display: block;">

        <li class="menuLoad-Content" style="display: block;">
		    <a class="vlts-menu fix-cursor-default" target="_self" onclick="RandomGo()">
		        <span>
			        <i class="fa-solid fa-paper-plane"></i>
                    &nbsp;éšä¾¿çœ‹çœ‹
		        </span>
		    </a>
	    </li>
	    <li class="menuLoad-Content" style="display: block;">
		    <a class="vlts-menu fix-cursor-default" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
		        <span>
			        <i class="fa-solid fa-magnifying-glass"></i>
                    &nbsp;ç«™å†…æœç´¢
		        </span>
		    </a>
	    </li>
        <li class="menuLoad-Content" style="display: block;">
		    <a class="vlts-menu fix-cursor-default" target="_self" href="/categories/">
		        <span>
			        <i class="iconfont icon-category-fill"></i>
                    &nbsp;åšå®¢åˆ†ç±»
		        </span>
		    </a>
	    </li>
        <li class="menuLoad-Content" style="display: block;">
		    <a class="vlts-menu fix-cursor-default" target="_self" href="/tags/">
		        <span>
			        <i class="fa-solid fa-tags"></i>
                    &nbsp;æ–‡ç« æ ‡ç­¾
		        </span>
		    </a>
	    </li>
        
	    <hr class="menuLoad-Content" style="display: block;">

        <li class="menuLoad-Content" style="display: block;">
            <a class="vlts-menu fix-cursor-default" target="_self" onclick="copyLink();">
                <span>
                    <i class="fa-solid fa-copy"></i>
                    &nbsp;å¤åˆ¶é“¾æ¥
                </span>
            </a>
        </li>
        <li class="menuLoad-Content" style="display: block;">
            <a class="vlts-menu fix-cursor-default" target="_self" onclick="document.getElementById('color-toggle-btn').click();">
            <span>
                <i class="fa-solid fa-circle-half-stroke"></i>
                &nbsp;åˆ‡æ¢æ˜¼å¤œ
            </span>
            </a>
        </li>
    </ul>
</div>


<script src="/js/RightMenu.js" type="text/javascript"></script>
<link href="/css/RightMenu.css" type="text/css" rel="stylesheet"/>

  <header>
    

<div class="header-inner" style="height: 100vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <!-- <strong>YYYJ&#39;s Blog</strong> -->
       <strong class="navbar-title">YYYJ&#39;s Blog</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/" target="_self">
                <i class="iconfont icon-home-fill"></i>
                <span>é¦–é¡µ</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/" target="_self">
                <i class="iconfont icon-archive-fill"></i>
                <span>å½’æ¡£</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/" target="_self">
                <i class="iconfont icon-category-fill"></i>
                <span>åˆ†ç±»</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/" target="_self">
                <i class="iconfont icon-tags-fill"></i>
                <span>æ ‡ç­¾</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/DayDream-Gallery/" target="_self">
                <i class="fas fa-images"></i>
                <span>å›¾é›†</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/" target="_self">
                <i class="iconfont icon-user-fill"></i>
                <span>å…³äº</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="https://www.travellings.cn/go-by-clouds.html" target="_self">
                <i class="fas fa-train-subway"></i>
                <span>å¼€å¾€</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/banner/banner.webp') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="ç¼–è¯‘åŸç†"></span>
          
        </div>

        
          
  <div class="mt-3">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-author" aria-hidden="true"></i>
        youyeyejie
      </span>
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2025-06-09 19:47" pubdate>
          2025å¹´6æœˆ9æ—¥ æ™šä¸Š
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          <!-- compatible with older versions-->
          7.5k å­—
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          <!-- compatible with older versions-->
          63 åˆ†é’Ÿ
        
      </span>
    

    
    
      
        <span id="busuanzi_container_page_pv" style="display: none">
          <i class="iconfont icon-eye" aria-hidden="true"></i>
          <span id="busuanzi_value_page_pv"></span> æ¬¡
        </span>
        

      
    
  </div>


        
      </div>

      
        <div class="scroll-down-bar">
          <i class="iconfont icon-arrowdown"></i>
        </div>
      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar category-bar" style="margin-right: -1rem">
    





<div class="category-list">
  
  
    
    
    
    <div class="category row nomargin-x">
      <a class="category-item 
          list-group-item category-item-action col-10 col-md-11 col-xm-11" title="SJTU Notes"
        id="heading-23fc8849f7fe9b9a570be52f7807b4ac" role="tab" data-toggle="collapse" href="#collapse-23fc8849f7fe9b9a570be52f7807b4ac"
        aria-expanded="true"
      >
        SJTU Notes
        <span class="list-group-count">(14)</span>
        <i class="iconfont icon-arrowright"></i>
      </a>
      
      <div class="category-collapse collapse show" id="collapse-23fc8849f7fe9b9a570be52f7807b4ac"
           role="tabpanel" aria-labelledby="heading-23fc8849f7fe9b9a570be52f7807b4ac">
        
        
          
  <div class="category-post-list">
    
    
      
      
        <a href="/posts/%E4%B8%AD%E5%9B%BD%E8%BF%91%E7%8E%B0%E4%BB%A3%E5%8F%B2%E7%BA%B2%E8%A6%81/" title="ä¸­å›½è¿‘ç°ä»£å²çº²è¦"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">ä¸­å›½è¿‘ç°ä»£å²çº²è¦</span>
        </a>
      
    
      
      
        <a href="/posts/%E4%B9%A0%E8%BF%91%E5%B9%B3%E6%96%B0%E6%97%B6%E4%BB%A3%E4%B8%AD%E5%9B%BD%E7%89%B9%E8%89%B2%E7%A4%BE%E4%BC%9A%E4%B8%BB%E4%B9%89%E6%80%9D%E6%83%B3%E6%A6%82%E8%AE%BA/" title="ä¹ è¿‘å¹³æ–°æ—¶ä»£ä¸­å›½ç‰¹è‰²ç¤¾ä¼šä¸»ä¹‰æ€æƒ³æ¦‚è®º"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">ä¹ è¿‘å¹³æ–°æ—¶ä»£ä¸­å›½ç‰¹è‰²ç¤¾ä¼šä¸»ä¹‰æ€æƒ³æ¦‚è®º</span>
        </a>
      
    
      
      
        <a href="/posts/%E4%BF%A1%E6%81%AF%E8%AE%BA%E5%9F%BA%E7%A1%80/" title="ä¿¡æ¯è®ºåŸºç¡€"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">ä¿¡æ¯è®ºåŸºç¡€</span>
        </a>
      
    
      
      
        <a href="/posts/%E5%86%9B%E4%BA%8B%E7%90%86%E8%AE%BA/" title="å†›äº‹ç†è®º"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">å†›äº‹ç†è®º</span>
        </a>
      
    
      
      
        <a href="/posts/%E6%80%9D%E6%83%B3%E9%81%93%E5%BE%B7%E4%B8%8E%E6%B3%95%E6%B2%BB/" title="æ€æƒ³é“å¾·ä¸æ³•æ²»"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">æ€æƒ³é“å¾·ä¸æ³•æ²»</span>
        </a>
      
    
      
      
        <a href="/posts/%E6%8A%BD%E8%B1%A1%E4%BB%A3%E6%95%B0/" title="æŠ½è±¡ä»£æ•°"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">æŠ½è±¡ä»£æ•°</span>
        </a>
      
    
      
      
        <a href="/posts/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86/" title="æ“ä½œç³»ç»ŸåŸç†"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">æ“ä½œç³»ç»ŸåŸç†</span>
        </a>
      
    
      
      
        <a href="/posts/%E6%95%B0%E5%AD%A6%E5%8F%B2/" title="æ•°å­¦å²"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">æ•°å­¦å²</span>
        </a>
      
    
      
      
        <a href="/posts/%E6%A6%82%E7%8E%87%E7%BB%9F%E8%AE%A1/" title="æ¦‚ç‡ç»Ÿè®¡"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">æ¦‚ç‡ç»Ÿè®¡</span>
        </a>
      
    
      
      
        <a href="/posts/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/" title="ç¼–è¯‘åŸç†"
           class="list-group-item list-group-item-action
           active">
          <span class="category-post">ç¼–è¯‘åŸç†</span>
        </a>
      
    
      
      
        <a href="/posts/%E7%BD%91%E7%BB%9C%E7%A9%BA%E9%97%B4%E5%AE%89%E5%85%A8%E5%AF%BC%E8%AE%BA/" title="ç½‘ç»œç©ºé—´å®‰å…¨å¯¼è®º"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">ç½‘ç»œç©ºé—´å®‰å…¨å¯¼è®º</span>
        </a>
      
    
      
      
        <a href="/posts/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E4%B8%8E%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84/" title="è®¡ç®—æœºç»„æˆä¸ç³»ç»Ÿç»“æ„"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">è®¡ç®—æœºç»„æˆä¸ç³»ç»Ÿç»“æ„</span>
        </a>
      
    
      
      
        <a href="/posts/%E9%87%8F%E5%AD%90%E5%8A%9B%E5%AD%A6/" title="é‡å­åŠ›å­¦"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">é‡å­åŠ›å­¦</span>
        </a>
      
    
      
      
        <a href="/posts/%E9%A9%AC%E5%85%8B%E6%80%9D%E4%B8%BB%E4%B9%89%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86/" title="é©¬å…‹æ€ä¸»ä¹‰åŸºæœ¬åŸç†"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">é©¬å…‹æ€ä¸»ä¹‰åŸºæœ¬åŸç†</span>
        </a>
      
    
  </div>

        
      </div>
    </div>
  
</div>


  </aside>


    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <h1 id="seo-header">ç¼–è¯‘åŸç†</h1>
            
            
              <div class="markdown-body">
                
                <blockquote>
<p>æœ¬ç¬”è®°åŸºäºä¸Šæµ·äº¤é€šå¤§å­¦ <em>èƒ¡æ˜“å¤è€å¸ˆ</em> 2024-2025
å­¦å¹´æ˜¥å­£å­¦æœŸæ•™å­¦å†…å®¹è¿›è¡Œæ•´ç†ï¼Œéƒ¨åˆ†å›¾ç‰‡æ¥è‡ªèƒ¡è€å¸ˆçš„PPTï¼Œè‹¥æœ‰ä¾µæƒè¯·è”ç³»åˆ é™¤ã€‚</p>
</blockquote>
<h1 id="quick-links">Quick Links</h1>

    <div class="fold">
      <div class="fold-title fold-info collapsed" data-toggle="collapse" href="#collapse-5b4e0fea" role="button" aria-expanded="false" aria-controls="collapse-5b4e0fea">
        <div class="fold-arrow">â–¶</div>è€ƒç‚¹è·³è½¬é“¾æ¥
      </div>
      <div class="fold-collapse collapse" id="collapse-5b4e0fea">
        <div class="fold-content">
          <ul>
<li><a href="#conversion-regex----nfa">Regex to NFA</a></li>
<li><a href="#conversion-nfa----dfa">NFA to DFA</a></li>
<li><a href="#dfa-simplification">DFA Simplification</a></li>
</ul>
<hr>
<ul>
<li><a href="#top-down-parsing">Top-Down Parsing</a>
<ul>
<li><a href="#recursive-descent-parsing">Recursive-Descent
Parsing</a></li>
<li><a href="#predictive-parsing">Predictive Parsing</a>
<ul>
<li><a href="#ll1-parsing">LL(1) Parsing</a></li>
</ul></li>
</ul></li>
<li><a href="#bottom-up-parsing">Bottom-Up Parsing</a>
<ul>
<li><a href="#shift-reduce-parsing-ç§»ä½å½’çº¦è§£æ">Shift-Reduce
Parsing</a></li>
<li><a href="#operator-precedence-parsing-è¿ç®—ç¬¦ä¼˜å…ˆè§£æ">OPP</a></li>
<li><a href="#lr-parsing">LR Parsing</a>
<ul>
<li><a href="#lr0-parsing">LR(0) Parsing</a></li>
<li><a href="#slr1-parsing">SLR(1) Parsing</a></li>
<li><a href="#lr1-parsing">LR(1) Parsing</a></li>
<li><a href="#lalr1-parsing">LALR(1) Parsing</a></li>
</ul></li>
</ul></li>
</ul>
<hr>
<ul>
<li><a href="#first-and-follow">FIRST and FOLLOW</a></li>
<li><a href="#leading-and-trailing">LEADING and TRAILING</a></li>
<li><a href="#closure-and-goto">CLOSURE and GOTO</a></li>
<li><a href="#lr1s-closure-and-goto">LR(1)â€™s CLOSURE and GOTO</a></li>
</ul>
        </div>
      </div>
    </div>
<h1 id="quick-check">Quick Check</h1>

    <div class="fold">
      <div class="fold-title fold-info collapsed" data-toggle="collapse" href="#collapse-fea42ee7" role="button" aria-expanded="false" aria-controls="collapse-fea42ee7">
        <div class="fold-arrow">â–¶</div>å„ç±»æ–‡æ³•ä¸è§£ææ–¹æ³•
      </div>
      <div class="fold-collapse collapse" id="collapse-fea42ee7">
        <div class="fold-content">
          <ul>
<li><strong>LL(1) Grammar</strong>
<ul>
<li>L: ä»å·¦åˆ°å³æ‰«æè¾“å…¥ï¼›Lï¼šæœ€å·¦æ´¾ç”Ÿï¼›1ï¼šæå‰çœ‹ä¸€ä¸ªè¾“å…¥ç¬¦å·</li>
<li>æ— å·¦é€’å½’å’Œå·¦å› å­</li>
<li><span class="math inline"><strong>A</strong>â€„â†’â€„<strong>Î±</strong>&nbsp;|&nbsp;<strong>Î²</strong></span>è¡¨ç¤ºä¸¤ä¸ªä¸åŒçš„äº§ç”Ÿå¼ï¼Œåˆ™<span class="math inline"><strong>F</strong><strong>I</strong><strong>R</strong><strong>S</strong><strong>T</strong><strong>(</strong><strong>Î±</strong><strong>)</strong></span>
å’Œ <span class="math inline"><strong>F</strong><strong>I</strong><strong>R</strong><strong>S</strong><strong>T</strong><strong>(</strong><strong>Î²</strong><strong>)</strong></span>
æ˜¯äº’ä¸ç›¸äº¤çš„é›†åˆ
<ul>
<li>äºŒè€…ä¸ä¼šåŒæ—¶æ´¾ç”Ÿä»¥<span class="math inline"><strong>a</strong></span>å¼€å¤´çš„å­—ç¬¦ä¸²</li>
<li>è‡³å¤šä¸€ä¸ª<span class="math inline"><strong>Î±</strong></span>å’Œ<span class="math inline"><strong>Î²</strong></span>å¯ä»¥æ´¾ç”Ÿç©ºå­—ç¬¦ä¸²</li>
</ul></li>
<li>å¦‚æœ<span class="math inline"><strong>Ïµ</strong>â€„âˆˆâ€„<strong>F</strong><strong>I</strong><strong>R</strong><strong>S</strong><strong>T</strong><strong>(</strong><strong>Î²</strong><strong>)</strong></span>ï¼Œåˆ™<span class="math inline"><strong>F</strong><strong>I</strong><strong>R</strong><strong>S</strong><strong>T</strong><strong>(</strong><strong>Î±</strong><strong>)</strong></span>å’Œ<span class="math inline"><strong>F</strong><strong>O</strong><strong>L</strong><strong>L</strong><strong>O</strong><strong>W</strong><strong>(</strong><strong>A</strong><strong>)</strong></span>æ˜¯äº’ä¸ç›¸äº¤çš„é›†åˆ</li>
</ul></li>
<li><strong>LL(1) Parsing</strong>
<ul>
<li>æå–å·¦å› å­</li>
<li>æ¶ˆé™¤ç›´æ¥å·¦é€’å½’</li>
<li>è®¡ç®—<span class="math inline"><strong>F</strong><strong>I</strong><strong>R</strong><strong>S</strong><strong>T</strong></span>å’Œ<span class="math inline"><strong>F</strong><strong>O</strong><strong>L</strong><strong>L</strong><strong>O</strong><strong>W</strong></span></li>
<li>æ„é€ é¢„æµ‹åˆ†æè¡¨ï¼ˆåˆ—ä¸ºç»ˆç»“ç¬¦ï¼Œè¡Œä¸ºéç»ˆç»“ç¬¦ï¼‰</li>
<li>ä»Start Symbolå¼€å§‹é¢„æµ‹/æˆ–ä½¿ç”¨æ ˆå’Œè¾“å…¥ç¼“å†²åŒºè¿›è¡Œé¢„æµ‹åˆ†æ
<ul>
<li>æŸ¥è¡¨ï¼ˆæœ€å·¦ä¾§éç»ˆç»“ç¬¦ï¼Œæœ€å·¦ä¾§æœªåŒ¹é…è¾“å…¥ç¬¦å·ï¼‰ä½œä¸ºæ´¾ç”Ÿçš„äº§ç”Ÿå¼è¿›è¡Œæ´¾ç”Ÿ</li>
<li>è‹¥ä½¿ç”¨æ ˆå’Œè¾“å…¥ç¼“å†²åŒºï¼Œåˆ™
<ul>
<li>è‹¥æ ˆé¡¶ç¬¦å·ä¸ºç»ˆç»“ç¬¦ä¸”ä¸è¾“å…¥ç¬¦å·åŒ¹é…ï¼Œåˆ™å‡ºæ ˆå¹¶å°†è¾“å…¥æŒ‡é’ˆåç§»</li>
<li>è‹¥æ ˆé¡¶ç¬¦å·ä¸ºéç»ˆç»“ç¬¦ï¼Œåˆ™æŸ¥è¡¨ï¼ˆæ ˆé¡¶ç¬¦å·ï¼Œè¾“å…¥æŒ‡é’ˆå¯¹åº”ç¬¦å·ï¼‰å¾—åˆ°æ´¾ç”Ÿçš„äº§ç”Ÿå¼ï¼Œå°†æ ˆé¡¶ç¬¦å·å‡ºæ ˆå¹¶å°†äº§ç”Ÿå¼å³ä¾§ç¬¦å·é€†åºå…¥æ ˆ</li>
<li>ç›´åˆ°æ ˆä¸ºç©ºï¼Œè¾“å…¥æŒ‡é’ˆæŒ‡å‘<span class="math inline">$</span>ï¼Œåˆ™æ¥å—è¾“å…¥</li>
</ul></li>
</ul></li>
</ul></li>
<li><strong>OG Grammarï¼ˆç®—ç¬¦æ–‡æ³•ï¼‰</strong>
<ul>
<li>ä»»æ„ç”Ÿæˆå¼ä¸å«ä¸¤ä¸ªç›¸é‚»çš„éç»ˆç»“ç¬¦</li>
<li>ä¸å«ç©ºç”Ÿæˆå¼</li>
</ul></li>
<li><strong>OPP Grammarï¼ˆç®—ç¬¦ä¼˜å…ˆæ–‡æ³•ï¼‰</strong>
<ul>
<li>é¦–å…ˆæ»¡è¶³OG Grammarçš„è¦æ±‚</li>
<li>ä»»æ„ä¸¤ä¸ªç»ˆç»“ç¬¦å·å¯¹ï¼ˆæœ‰åºï¼‰ä¹‹é—´ä¸€å®šæ»¡è¶³å”¯ä¸€çš„ä¼˜å…ˆçº§å…³ç³»</li>
</ul></li>
<li><strong>OPP Parsing</strong>
<ul>
<li>è®¡ç®—<span class="math inline"><strong>L</strong><strong>E</strong><strong>A</strong><strong>D</strong><strong>I</strong><strong>N</strong><strong>G</strong></span>å’Œ<span class="math inline"><strong>T</strong><strong>R</strong><strong>A</strong><strong>I</strong><strong>L</strong><strong>I</strong><strong>N</strong><strong>G</strong></span></li>
<li>æ„é€ ä¼˜å…ˆçº§å…³ç³»è¡¨</li>
<li>ä½¿ç”¨æ ˆå’Œè¾“å…¥ç¼“å†²åŒºè¿›è¡Œè¿ç®—ç¬¦ä¼˜å…ˆè§£æ/æˆ–ä½¿ç”¨ä¼˜å…ˆçº§çˆ¬å‡æ³•
<ul>
<li>è‹¥æ ˆé¡¶ç»ˆç»“ç¬¦å·ä¼˜å…ˆçº§ &lt;Â· / =Â· è¾“å…¥ç¬¦å·ä¼˜å…ˆçº§ï¼Œåˆ™ç§»è¿›</li>
<li>è‹¥æ ˆé¡¶ç»ˆç»“ç¬¦å·ä¼˜å…ˆçº§ &gt;Â· è¾“å…¥ç¬¦å·ä¼˜å…ˆçº§ï¼Œåˆ™å½’çº¦</li>
</ul></li>
</ul></li>
<li><strong>LR(0) Grammar</strong>
<ul>
<li>L:
ä»å·¦åˆ°å³æ‰«æè¾“å…¥ï¼›Rï¼šæœ€å³æ´¾ç”Ÿï¼Œæœ€å·¦å½’çº¦ï¼›0ï¼šæå‰çœ‹ä¸€ä¸ªè¾“å…¥ç¬¦å·</li>
<li>ä»»ä¸€é¡¹é›†çš„çŠ¶æ€è½¬ç§»ä¸å«å½’çº¦-å½’çº¦æˆ–ç§»è¿›-å½’çº¦å†²çª</li>
</ul></li>
<li><strong>LR(0) Parsing</strong>
<ul>
<li>æ‰©å±•æ–‡æ³•</li>
<li>é€šè¿‡<span class="math inline"><strong>G</strong><strong>O</strong><strong>T</strong><strong>O</strong></span>å’Œ<span class="math inline"><strong>C</strong><strong>L</strong><strong>O</strong><strong>S</strong><strong>U</strong><strong>R</strong><strong>E</strong></span>æ„é€ LR(0)é¡¹é›†æ—</li>
<li>æ„é€ LR(0)åˆ†æè¡¨ï¼ˆåˆ—ä¸ºè¾“å…¥ç¬¦å·ï¼Œè¡Œä¸ºçŠ¶æ€ï¼‰</li>
<li>ä½¿ç”¨æ ˆå’Œè¾“å…¥ç¼“å†²åŒºè¿›è¡ŒLR(0)è§£æ
<ul>
<li>æŸ¥è¡¨ï¼Œï¼ˆæ ˆé¡¶ï¼Œè¾“å…¥ç¬¦å·ï¼‰ä¸ºs nï¼Œåˆ™ç§»è¿›å¹¶pushçŠ¶æ€nåˆ°æ ˆé¡¶ï¼Œ</li>
<li>è‹¥ä¸ºr
mï¼Œåˆ™ç”¨ç¬¬mæ¡äº§ç”Ÿå¼è¿›è¡Œå½’çº¦ï¼Œpopæ ˆé¡¶çš„ç¬¦å·æ•°ç›®ç­‰äºäº§ç”Ÿå¼å³ä¾§ç¬¦å·æ•°ç›®ï¼ŒæŸ¥ï¼ˆæ ˆé¡¶ç¬¦å·ï¼Œäº§ç”Ÿå¼å·¦ä¾§ç¬¦å·ï¼‰ä¸ºnï¼Œåˆ™pushçŠ¶æ€nåˆ°æ ˆé¡¶</li>
<li>è‹¥ä¸ºACCEPTï¼Œåˆ™æ¥å—è¾“å…¥</li>
</ul></li>
</ul></li>
<li><strong>SLR(1) Grammar</strong>
<ul>
<li>ä»»ä¸€é¡¹é›†çš„çŠ¶æ€è½¬ç§»ä¸å«å½’çº¦-å½’çº¦æˆ–ç§»è¿›-å½’çº¦å†²çª
<ul>
<li>LR(0)é¡¹ç›®é›†ä¸­å­˜åœ¨å½’çº¦-å½’çº¦å†²çªæ—¶ï¼Œä¸¤ä¸ª<span class="math inline"><strong>F</strong><strong>O</strong><strong>L</strong><strong>L</strong><strong>O</strong><strong>W</strong></span>é›†çš„äº¤é›†ä¸ºç©º</li>
<li>LR(0)é¡¹ç›®é›†ä¸­å­˜åœ¨ç§»è¿›-å½’çº¦å†²çªæ—¶ï¼Œç§»è¿›çš„ç»ˆç»“ç¬¦å·ä¸åœ¨å½’çº¦çš„<span class="math inline"><strong>F</strong><strong>O</strong><strong>L</strong><strong>L</strong><strong>O</strong><strong>W</strong></span>é›†ä¸­</li>
</ul></li>
</ul></li>
<li><strong>SLR(1) Parsing</strong>
<ul>
<li>æ‰©å±•æ–‡æ³•ã€æ„é€ é›†æ—åŒLR(0)</li>
<li>æ„é€ SLR(1)åˆ†æè¡¨æ—¶ï¼š
<ul>
<li>å¯¹<span class="math inline"><strong>A</strong>â€„â†’â€„<strong>Î²</strong>â‹…</span>
å½’çº¦æ—¶, åªå¯¹<span class="math inline"><strong>F</strong><strong>O</strong><strong>L</strong><strong>L</strong><strong>O</strong><strong>W</strong><strong>(</strong><strong>A</strong><strong>)</strong></span>ä¸­çš„ç»ˆç»“ç¬¦è¿›è¡Œå½’çº¦</li>
<li>å¯¹<span class="math inline"><strong>S</strong><sup><strong>â€²</strong></sup>â€„â†’â€„<strong>S</strong><sup><strong>â€²</strong></sup></span>
èµ‹å€¼ACCEPTæ—¶, åªå¯¹<span class="math inline">$</span>æ¥å—</li>
</ul></li>
<li>ä½¿ç”¨æ ˆå’Œè¾“å…¥ç¼“å†²åŒºè¿›è¡ŒSLR(1)è§£æ</li>
</ul></li>
<li><strong>LR(1) Grammar</strong>
<ul>
<li>L:
ä»å·¦åˆ°å³æ‰«æè¾“å…¥ï¼›Rï¼šæœ€å³æ´¾ç”Ÿï¼Œæœ€å·¦å½’çº¦ï¼›1ï¼šæå‰çœ‹ä¸€ä¸ªè¾“å…¥ç¬¦å·</li>
<li>LR(1)çš„é¡¹ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼šLR(0)çš„é¡¹å’Œä¸€ä¸ªlookaheadç¬¦å·</li>
<li>ä»»ä¸€é¡¹é›†çš„çŠ¶æ€è½¬ç§»ä¸å«å½’çº¦-å½’çº¦æˆ–ç§»è¿›-å½’çº¦å†²çª
<ul>
<li>æ— å½’çº¦-å½’çº¦å†²çªï¼šåŒä¸€çŠ¶æ€ä¸‹å¦‚æœæœ‰å¤šä¸ªå½’çº¦ï¼Œåˆ™å‰ç»ç¬¦å·ä¸ç›¸äº¤</li>
<li>æ— ç§»è¿›-å½’çº¦å†²çªï¼šåŒä¸€çŠ¶æ€ä¸‹å¦‚æœåŒæ—¶æœ‰ç§»è¿›å’Œå½’çº¦ï¼Œåˆ™ç§»è¿›çš„ç»ˆç»“ç¬¦å·ä¸åœ¨å½’çº¦çš„å‰ç»ç¬¦å·ä¸­</li>
</ul></li>
</ul></li>
<li><strong>LR(1) Parsing</strong>
<ul>
<li>æ‰©å±•æ–‡æ³•</li>
<li>é€šè¿‡<span class="math inline"><strong>G</strong><strong>O</strong><strong>T</strong><strong>O</strong></span>å’Œ<span class="math inline"><strong>C</strong><strong>L</strong><strong>O</strong><strong>S</strong><strong>U</strong><strong>R</strong><strong>E</strong></span>æ„é€ LR(1)é¡¹é›†æ—</li>
<li>æ„é€ LR(1)åˆ†æè¡¨æ—¶ï¼š
<ul>
<li>å¯¹<span class="math inline">[<strong>A</strong>â€„â†’â€„<strong>Î²</strong>â‹…,â€†<em>a</em>]</span>
å½’çº¦æ—¶, åªå¯¹<span class="math inline"><strong>a</strong></span>è¿›è¡Œå½’çº¦</li>
<li>å¯¹<span class="math inline">[<strong>S</strong><sup><strong>â€²</strong></sup>â€„â†’â€„<strong>S</strong>â‹…,â€†$]</span>
èµ‹å€¼ACCEPTæ—¶, åªå¯¹<span class="math inline">$</span>æ¥å—</li>
</ul></li>
<li>ä½¿ç”¨æ ˆå’Œè¾“å…¥ç¼“å†²åŒºè¿›è¡ŒLR(1)è§£æ</li>
</ul></li>
<li><strong>LALR(1) Grammar</strong>
<ul>
<li>LA: LookAheadï¼›L:
ä»å·¦åˆ°å³æ‰«æè¾“å…¥ï¼›Rï¼šæœ€å³æ´¾ç”Ÿï¼Œæœ€å·¦å½’çº¦ï¼›1ï¼šæå‰çœ‹ä¸€ä¸ªè¾“å…¥ç¬¦å·</li>
<li>LALR(1)çš„é¡¹é›†æ—æ˜¯LR(1)çš„é¡¹é›†æ—çš„åŒå¿ƒé›†åˆå¹¶</li>
<li>ä»»ä¸€é¡¹é›†çš„çŠ¶æ€è½¬ç§»ä¸å«å½’çº¦-å½’çº¦æˆ–ç§»è¿›-å½’çº¦å†²çª</li>
</ul></li>
<li><strong>LALR(1) Parsing</strong>
<ul>
<li>æ‰©å±•æ–‡æ³•ã€æ„é€ é›†æ—åŒLR(0)ä½œä¸ºå¿ƒ</li>
<li>å¯¹æ¯ä¸ªçŠ¶æ€çš„åˆå§‹é¡¹çš„å¿ƒï¼Œç”¨å ä½ç¬¦#ä½œä¸ºå‰ç»ç¬¦å·ï¼Œé€šè¿‡é—­åŒ…è®¡ç®—è‡ªå‘ç”Ÿæˆçš„å‰ç»ç¬¦å·å’Œä¼ é€’å…³ç³»</li>
<li>å¯¹äºä¼ é€’å…³ç³»ï¼Œä¿ç•™æ¯ä¸ªçŠ¶æ€çš„å†…æ ¸é¡¹ï¼Œæ„é€ ä¼ æ’­è¡¨</li>
<li>æ ¹æ®ä¼ æ’­è¡¨å’Œè‡ªå‘ç”Ÿæˆçš„å‰ç»ç¬¦å·ï¼Œé€šè¿‡è‹¥å¹²è½®ä¼ æ’­å¾—åˆ°æ¯ä¸ªå¿ƒæœ€ç»ˆå¯¹åº”çš„å‰ç»ç¬¦å·ï¼Œå¾—åˆ°å½’çº¦å†…æ ¸é¡¹çš„[å¿ƒï¼Œå‰ç»ç¬¦å·(è‹¥å¹²ä¸ª)]å¯¹</li>
<li>æ„é€ LALR(1)åˆ†æè¡¨ï¼Œä¸LR(1)ç›¸åŒ</li>
<li>ä½¿ç”¨æ ˆå’Œè¾“å…¥ç¼“å†²åŒºè¿›è¡ŒLALR(1)è§£æ</li>
</ul></li>
</ul>
        </div>
      </div>
    </div>
<h1 id="ch1-intro">Ch1 Intro</h1>
<h2 id="ç¼–è¯‘æµç¨‹">ç¼–è¯‘æµç¨‹</h2>
<p><img src="image-1.webp" srcset="/img/loading/loading3.gif" lazyload></p>
<ul>
<li>è§£é‡Šå™¨ vs.&nbsp;ç¼–è¯‘å™¨ (Interpreter vs.&nbsp;Compiler)
<ul>
<li>è§£é‡Šå™¨æ–¹ä¾¿é”™è¯¯è¯Šæ–­ (Error Diagnosis)</li>
<li>ç¼–è¯‘å™¨å¾—åˆ°çš„ä»£ç æ›´åŠ é«˜æ•ˆ <img src="image-2.webp" srcset="/img/loading/loading3.gif" lazyload></li>
</ul></li>
</ul>
<h3 id="ç¼–è¯‘å™¨">ç¼–è¯‘å™¨</h3>
<p><img src="image.webp" srcset="/img/loading/loading3.gif" lazyload></p>
<ul>
<li>å‰ç«¯ï¼šè¯æ³•åˆ†æ(Lexical Analysis)ã€è¯­æ³•åˆ†æ(Syntax
Analysis)ã€è¯­ä¹‰åˆ†æ(Semantic Analysis)ã€ä¸­é—´ä»£ç ç”Ÿæˆ(Intermediate Code
Generation)</li>
<li>åç«¯ï¼šä»£ç ä¼˜åŒ–(Optimization)ã€ç›®æ ‡ä»£ç ç”Ÿæˆ(Code Generation)</li>
</ul>
<h2 id="è¯æ³•åˆ†ælexical-analysis">è¯æ³•åˆ†æï¼šLexical Analysis</h2>
<ul>
<li>Lexical Analysis: Scanning ï¼ˆè¯æ³•åˆ†æï¼šæ‰«æï¼‰
<ul>
<li>Lexical Analyzer: Scanner ï¼ˆè¯æ³•åˆ†æå™¨ï¼šæ‰«æå™¨ï¼‰</li>
<li>Recognize Words (Lexemes) -&gt; Tokens &amp; Symbol Table
ï¼ˆè¯†åˆ«å•è¯ï¼ˆè¯ç´ ï¼‰-&gt; ç”Ÿæˆæ ‡è®°å’Œç¬¦å·è¡¨ï¼‰</li>
<li>Token: &lt;token-name, attribute-value (opt.)&gt;
<ul>
<li>token-name: id, number, keywords, operators, etc.
ï¼ˆæ ‡è®°åï¼šæ ‡è¯†ç¬¦ã€æ•°å­—ã€å…³é”®å­—ã€è¿ç®—ç¬¦ç­‰ï¼‰</li>
<li>attribute-value: a pointer to the symbol table
ï¼ˆå±æ€§å€¼ï¼šæŒ‡å‘ç¬¦å·è¡¨çš„æŒ‡é’ˆï¼‰</li>
</ul></li>
</ul></li>
</ul>
<h2 id="è¯­æ³•åˆ†æsyntax-analysis">è¯­æ³•åˆ†æï¼šSyntax Analysis</h2>
<ul>
<li>Syntax Analysis: Parsing ï¼ˆè¯­æ³•åˆ†æï¼šè§£æï¼‰
<ul>
<li>Syntax Analyzer: Parser ï¼ˆè¯­æ³•åˆ†æå™¨ï¼šè§£æå™¨ï¼‰</li>
<li>Produce the Grammatical Structure ï¼ˆç”Ÿæˆè¯­æ³•ç»“æ„ï¼‰
<ul>
<li>The Relationships among Tokens ï¼ˆæ ‡è®°ä¹‹é—´çš„å…³ç³»ï¼‰</li>
<li>Tree-like Intermediate Representation ï¼ˆæ ‘çŠ¶ä¸­é—´è¡¨ç¤ºï¼‰</li>
</ul></li>
<li>Parse Tree ï¼ˆè§£ææ ‘ï¼‰
<ul>
<li>Parser generates the Parse Tree, from which produces the Syntax Tree
ï¼ˆè§£æå™¨ç”Ÿæˆè§£ææ ‘ï¼Œä»ä¸­ç”Ÿæˆè¯­æ³•æ ‘ï¼‰</li>
</ul></li>
<li>Syntax Tree: Simplified Parse Tree ï¼ˆè¯­æ³•æ ‘ï¼šç®€åŒ–çš„è§£ææ ‘ï¼‰
<ul>
<li>Interior Node: Operation ï¼ˆå†…éƒ¨èŠ‚ç‚¹ï¼šæ“ä½œï¼‰</li>
<li>Children: Arguments of the Operation ï¼ˆå­èŠ‚ç‚¹ï¼šæ“ä½œçš„å‚æ•°ï¼‰</li>
</ul></li>
</ul></li>
</ul>
<h2 id="è¯æ³•åˆ†æ-vs.-è¯­æ³•åˆ†æ">è¯æ³•åˆ†æ vs.&nbsp;è¯­æ³•åˆ†æ</h2>
<ul>
<li>åšç€ç›¸ä¼¼çš„äº‹æƒ…ï¼šå¤„ç†å­—ç¬¦ä¸²</li>
<li>è¯æ³•åˆ†æ (Scanning)ï¼šæ‹†åˆ†å­—ç¬¦ä¸²æˆLexemesï¼Œå¹¶æŠ½è±¡æˆTokens</li>
<li>è¯­æ³•åˆ†æ (Parsing)ï¼šæ•´ç†Tokensçš„é€»è¾‘å…³ç³»</li>
</ul>
<h2 id="è¯­ä¹‰åˆ†æsemantic-analysis">è¯­ä¹‰åˆ†æï¼šSemantic Analysis</h2>
<ul>
<li>Semantic Analysis ï¼ˆè¯­ä¹‰åˆ†æï¼‰
<ul>
<li>computing additional info needed for compilation
ï¼ˆè®¡ç®—ç¼–è¯‘æ‰€éœ€çš„é™„åŠ ä¿¡æ¯ï¼‰
<ul>
<li>which is not regarded as syntax ï¼ˆè¿™äº›ä¿¡æ¯ä¸è¢«è§†ä¸ºè¯­æ³•ï¼‰</li>
</ul></li>
<li>checking source code semantic consistency with the language
definition ï¼ˆæ£€æŸ¥æºä»£ç ä¸è¯­è¨€å®šä¹‰çš„è¯­ä¹‰ä¸€è‡´æ€§ï¼‰
<ul>
<li>Type Checking ï¼ˆç±»å‹æ£€æŸ¥ï¼‰</li>
</ul></li>
</ul></li>
</ul>
<h2 id="ä¸­é—´ä»£ç ç”Ÿæˆintermediate-code-generation">ä¸­é—´ä»£ç ç”Ÿæˆï¼šIntermediate
Code Generation</h2>
<ul>
<li>Intermediate Code Generation ï¼ˆä¸­é—´ä»£ç ç”Ÿæˆï¼‰
<ul>
<li>Intermediate Representations (IR), e.g., Syntax Tree, etc.
ï¼ˆä¸­é—´è¡¨ç¤ºï¼Œä¾‹å¦‚è¯­æ³•æ ‘ç­‰ï¼‰</li>
<li>Low-level or Machine-like IR ï¼ˆä½çº§æˆ–ç±»ä¼¼æœºå™¨çš„ä¸­é—´è¡¨ç¤ºï¼‰
<ul>
<li>LLVM-IR (LLVM, Clang), Gimple (GCC), etc.
ï¼ˆLLVM-IRï¼ˆLLVMï¼ŒClangï¼‰ï¼ŒGimpleï¼ˆGCCï¼‰ç­‰ï¼‰</li>
<li>Three-address Code, with at Most Three Operands per Instruction
ï¼ˆä¸‰åœ°å€ç ï¼Œæ¯æ¡æŒ‡ä»¤æœ€å¤šä¸‰ä¸ªæ“ä½œæ•°ï¼‰</li>
<li>Static Single Assignment (SSA) ï¼ˆé™æ€å•èµ‹å€¼ï¼‰
<ul>
<li>Every variable is only assigned (defined) once and defined before
used. ï¼ˆæ¯ä¸ªå˜é‡åªèƒ½è¢«èµ‹å€¼ï¼ˆå®šä¹‰ï¼‰ä¸€æ¬¡ï¼Œå¹¶ä¸”åœ¨ä½¿ç”¨å‰å¿…é¡»å®šä¹‰ã€‚ï¼‰</li>
</ul></li>
</ul></li>
</ul></li>
</ul>
<h2 id="ä¼˜åŒ–optimization">ä¼˜åŒ–ï¼šOptimization</h2>
<ul>
<li>Optimization ï¼ˆä¼˜åŒ–ï¼‰
<ul>
<li>Improve the IR for Better Target Code
ï¼ˆæ”¹è¿›ä¸­é—´è¡¨ç¤ºä»¥ç”Ÿæˆæ›´å¥½çš„ç›®æ ‡ä»£ç ï¼‰</li>
<li>Better: Faster, Smaller, Greener ï¼ˆæ›´å¥½ï¼šæ›´å¿«ã€æ›´å°ã€æ›´ç¯ä¿ï¼‰</li>
</ul></li>
</ul>
<h2 id="ç›®æ ‡ä»£ç ç”Ÿæˆtarget-code-generation">ç›®æ ‡ä»£ç ç”Ÿæˆï¼šTarget Code
Generation</h2>
<ul>
<li>Target Code Generation ï¼ˆç›®æ ‡ä»£ç ç”Ÿæˆï¼‰
<ul>
<li>Instruction Selection ï¼ˆæŒ‡ä»¤é€‰æ‹©ï¼‰
<ul>
<li>RISC vs.&nbsp;CISC
<ul>
<li>RISC: Reduced Instruction Set Computer ï¼ˆç²¾ç®€æŒ‡ä»¤é›†è®¡ç®—æœºï¼‰</li>
<li>CISC: Complex Instruction Set Computer ï¼ˆå¤æ‚æŒ‡ä»¤é›†è®¡ç®—æœºï¼‰</li>
</ul></li>
<li>Intel Manual: &gt; 6000 Pages ï¼ˆè‹±ç‰¹å°”æ‰‹å†Œï¼šè¶…è¿‡6000é¡µï¼‰</li>
</ul></li>
<li>Register Allocation ï¼ˆå¯„å­˜å™¨åˆ†é…ï¼‰
<ul>
<li>Graph Coloring Problem ï¼ˆå›¾ç€è‰²é—®é¢˜ï¼‰</li>
</ul></li>
<li>Evaluation Order ï¼ˆè®¡ç®—é¡ºåºï¼‰
<ul>
<li>Arrange the Computation Order for Less Register Occupation
ï¼ˆå®‰æ’è®¡ç®—é¡ºåºä»¥å‡å°‘å¯„å­˜å™¨å ç”¨ï¼‰</li>
<li>NPC (Non-Polynomial Complete) Problem ï¼ˆéå¤šé¡¹å¼å®Œå…¨é—®é¢˜ï¼‰</li>
</ul></li>
</ul></li>
</ul>
<h1 id="ch2-syntax-definition">Ch2 Syntax Definition</h1>
<h2 id="æ–‡æ³•çš„å®šä¹‰definition-of-grammars">æ–‡æ³•çš„å®šä¹‰ï¼šDefinition of
Grammars</h2>
<h3 id="å®šä¹‰">å®šä¹‰</h3>
<ul>
<li>Grammar: a Set of Rules to Describe a Language.</li>
<li>Language: a Sorted Set of Strings over some fixed Alphabet.</li>
<li>å…³ç³»ï¼šGrammar Abstracts the Language to Cover All Its Strings.
ï¼ˆæ–‡æ³•æ˜¯å¯¹è¯­è¨€çš„æŠ½è±¡ï¼Œè¦†ç›–äº†è¯­è¨€çš„æ‰€æœ‰å­—ç¬¦ä¸²ï¼‰</li>
<li>âˆ…: Empty Language (Set of Strings)</li>
<li>ğœº: Empty String (Set of Symbols)</li>
</ul>
<h3 id="ç»„æˆ">ç»„æˆ</h3>
<ul>
<li>Grammar G[S] = (VN, VT, P, S)
<ul>
<li>VT: A set of Terminal Symbols (ç»ˆç»“ç¬¦)
<ul>
<li>Atomic: åŸºæœ¬ç¬¦å·ï¼Œä¸å¯å†åˆ†</li>
</ul></li>
<li>VN : A set of Non-terminals (éç»ˆç»“ç¬¦)
<ul>
<li>A Non-terminal: a set of strings of Terminals</li>
</ul></li>
<li>P: A set of Productions (ç”Ÿæˆå¼ã€è§„åˆ™)
<ul>
<li>A Non-terminal, an Arrow, a sequence of Terminals and/or
Non-terminals</li>
</ul></li>
<li>S: A Start Symbol (å¼€å§‹ç¬¦)
<ul>
<li>A Non-terminal</li>
</ul></li>
</ul></li>
</ul>
<h2 id="æ¨å¯¼derivations">æ¨å¯¼ï¼šDerivations</h2>
<h3 id="å®šä¹‰-1">å®šä¹‰</h3>
<ul>
<li>A Grammar derives strings by beginning with the <strong>Start
Symbol</strong> and repeatedly replacing a <strong>Non-terminal</strong>
with <strong>Terminals</strong> via its <strong>Productions</strong>.
ï¼ˆæ–‡æ³•é€šè¿‡ä»å¼€å§‹ç¬¦å¼€å§‹ï¼Œåå¤ç”¨ç”Ÿæˆå¼å°†éç»ˆç»“ç¬¦æ›¿æ¢ä¸ºç»ˆç»“ç¬¦æ¥æ´¾ç”Ÿå­—ç¬¦ä¸²ï¼‰
<ul>
<li>æ¨å¯¼ï¼ˆDerivationï¼‰ï¼šåå¤æ ¹æ®ç”Ÿæˆè§„åˆ™ç”¨ç»ˆç»“ç¬¦æ›¿æ¢éç»ˆç»“ç¬¦</li>
<li>å½’çº¦ï¼ˆReductionï¼‰ï¼šæ¨å¯¼çš„åè¿‡ç¨‹</li>
</ul></li>
</ul>
<h3 id="è¯­æ³•åˆ†æsyntax-analysis-parsing">è¯­æ³•åˆ†æï¼ˆSyntax Analysis,
Parsingï¼‰</h3>
<ul>
<li>given a sequence of Terminals, figure out Whether it can be Derived
from the Grammar and How if possible.
ï¼ˆç»™å®šä¸€ä¸ªç»ˆç»“ç¬¦åºåˆ—ï¼Œåˆ¤æ–­å®ƒæ˜¯å¦å¯ä»¥ç”±æ–‡æ³•æ¨å¯¼è€Œæ¥ï¼Œå¦‚æœå¯ä»¥ï¼Œæ¨å¯¼è¿‡ç¨‹æ˜¯ä»€ä¹ˆï¼‰</li>
<li>ä¸€ä¸ªè¯­è¨€å¯èƒ½æœ‰å¤šä¸ªæ–‡æ³•æè¿°ï¼Œè€Œä¸€ä¸ªæ–‡æ³•åªä¼šæ´¾ç”Ÿä¸€ä¸ªå”¯ä¸€è¯­è¨€</li>
</ul>
<h2 id="æ–‡æ³•çš„äºŒä¹‰æ€§ambiguity">æ–‡æ³•çš„äºŒä¹‰æ€§ï¼šAmbiguity</h2>
<h3 id="å®šä¹‰-2">å®šä¹‰</h3>
<ul>
<li>è¯­æ³•æ ‘ï¼ˆParse Treeï¼‰: A Graphical Representation of a Derivation
without the Order of Applying Productions.
ï¼ˆè¯­æ³•æ ‘æ˜¯ä¸€ä¸ªå›¾å½¢è¡¨ç¤ºï¼Œè¡¨ç¤ºäº†ä¸€ä¸ªæ¨å¯¼è¿‡ç¨‹ï¼Œä½†ä¸è€ƒè™‘ç”Ÿæˆå¼åº”ç”¨çš„é¡ºåºï¼‰</li>
<li>äºŒä¹‰æ€§ï¼ˆAmbiguityï¼‰: When Parsing, given a sequence of Terminals, a
Grammar is Ambiguous if there are more than one Parse Tree for the
Derivation.ï¼ˆäºŒä¹‰æ€§æ˜¯æŒ‡ä¸€ä¸ªæ–‡æ³•å¯ä»¥äº§ç”Ÿå¤šæ£µè¯­æ³•æ ‘ï¼‰ ### Fix the
Grammar</li>
<li>Example:
<ul>
<li>stmt -&gt; if expr then stmt | if expr then stmt else stmt |
other</li>
<li>if E1 then if E2 then S1 else S2</li>
</ul></li>
<li>Match each else with the <strong>closest unmatched then</strong>
<ul>
<li>the statement appearing between a then and an else must be
â€œmatchedâ€</li>
<li>the interior statement must not end with an unmatched (open)
then</li>
</ul></li>
<li>Listing All Cases then Tidying Them Up
<ul>
<li>if expr then matched_stmt</li>
<li>if expr then open_stmt</li>
<li>if expr then matched_stmt else matched_stmt</li>
<li>if expr then matched_stmt else open_stmt</li>
<li>so that:
<ul>
<li>matched_stmt -&gt; if expr then matched_stmt else matched_stmt |
other</li>
<li>open_stmt -&gt; if expr then matched_stmt | if expr then open_stmt |
if expr then matched_stmt else open_stm</li>
</ul></li>
<li>finally:
<ul>
<li>stmt -&gt; matched_stmt | open_stmt</li>
<li>matched_stmt -&gt; if expr then matched_stmt else matched_stmt |
other</li>
<li>open_stmt -&gt; if expr then stmt | if expr then matched_stmt else
open_stmt</li>
</ul></li>
</ul></li>
</ul>
<h2 id="æ–‡æ³•å’Œè¯­è¨€çš„åˆ†ç±»classes-of-languages">æ–‡æ³•å’Œè¯­è¨€çš„åˆ†ç±»ï¼šClasses
of Languages</h2>
<p><img src="image-3.webp" srcset="/img/loading/loading3.gif" lazyload></p>
<ul>
<li>èŒƒå›´ç”± Type 0 åˆ° Type 3 é€æ¸ç¼©å°</li>
</ul>
<h1 id="ch3-scanning">Ch3 Scanning</h1>
<h2 id="è¯æ³•åˆ†ælexical-analysis-1">è¯æ³•åˆ†æï¼šLexical Analysis</h2>
<h3 id="token-pattern-and-lexemes">Token, Pattern, and Lexemes</h3>
<ul>
<li>The Analysis Partitions Input String into Substrings.
ï¼ˆåˆ†æå°†è¾“å…¥å­—ç¬¦ä¸²åˆ’åˆ†ä¸ºå­å­—ç¬¦ä¸²ã€‚ï¼‰ <img src="image-4.webp" srcset="/img/loading/loading3.gif" lazyload></li>
<li><strong>Token</strong>: &lt;token-name, attribute-value(opt.)&gt;
<ul>
<li>token-name: the role of lexical unit ï¼ˆè¯æ³•å•å…ƒçš„è§’è‰²ï¼‰
<ul>
<li>often refer to Token by its token-name</li>
</ul></li>
<li>attribute-value: any info associated to the Token
ï¼ˆä¸Tokenç›¸å…³çš„ä»»ä½•ä¿¡æ¯ï¼‰
<ul>
<li>Generally, it has only ONE value: a pointer to the Symbol Table
ï¼ˆé€šå¸¸åªæœ‰ä¸€ä¸ªå€¼ï¼šæŒ‡å‘ç¬¦å·è¡¨çš„æŒ‡é’ˆï¼‰
<ul>
<li>In practice, the value of a constant can be stored as the attribute.
ï¼ˆåœ¨å®è·µä¸­ï¼Œå¸¸é‡çš„å€¼å¯ä»¥ä½œä¸ºå±æ€§å­˜å‚¨ã€‚ï¼‰
<ul>
<li>constant: strings, numbers ï¼ˆå¸¸é‡ï¼šå­—ç¬¦ä¸²ã€æ•°å­—ï¼‰</li>
</ul></li>
</ul></li>
</ul></li>
</ul></li>
<li><strong>Pattern</strong>: description of the form lexemes of a token
may ï¼ˆæè¿°è¯æ³•å•å…ƒçš„å½¢å¼ï¼‰
<ul>
<li>regular expression: , ?, *, +, â€¦</li>
</ul></li>
<li><strong>Lexeme</strong>: a sequence of characters matches a tokenâ€™s
pattern ï¼ˆä¸æ¨¡å¼åŒ¹é…çš„å­—ç¬¦åºåˆ—ï¼‰
<ul>
<li>Token vs.&nbsp;Lexeme: Class vs.&nbsp;Instance in C++</li>
</ul></li>
</ul>
<p><img src="image-7.webp" srcset="/img/loading/loading3.gif" lazyload></p>
<h2 id="specification-of-tokens">Specification of Tokens</h2>
<h3 id="strings-and-languages">Strings and Languages</h3>
<ul>
<li>String: a finite sequence of Symbols from an Alphabet
ï¼ˆå­—ç¬¦ä¸²ï¼šæ¥è‡ªå­—æ¯è¡¨çš„æœ‰é™ç¬¦å·åºåˆ—ï¼‰</li>
<li>Language: any countable set of Strings
ï¼ˆè¯­è¨€ï¼šä»»ä½•å¯æ•°çš„å­—ç¬¦ä¸²é›†åˆï¼‰</li>
<li>Terms for Parts of a String s ï¼ˆå­—ç¬¦ä¸²sçš„éƒ¨åˆ†æœ¯è¯­ï¼‰:
<ul>
<li>prefixï¼šå‰ç¼€
<ul>
<li>any string obtained by removing zero or more symbols from the end of
s</li>
</ul></li>
<li>suffixï¼šåç¼€
<ul>
<li>any string obtained by removing zero or more symbols from the
beginning of s</li>
</ul></li>
<li>substringï¼šå­ä¸²
<ul>
<li>any string obtained by removing any prefix or any suffix from s
ï¼ˆå»æ‰å‰ç¼€æˆ–åç¼€ï¼‰</li>
</ul></li>
<li>subsequenceï¼šå­åºåˆ—
<ul>
<li>any string obtained by removing zero or more not necessarily
consecutive position of s ï¼ˆä¸ä¸€å®šè¿ç»­çš„ä½ç½®ï¼‰</li>
</ul></li>
</ul></li>
</ul>
<h3 id="operations-on-languages">Operations on Languages</h3>
<ul>
<li><strong>Union</strong>: ï¼ˆå¹¶é›†ï¼‰
<ul>
<li><span class="math inline"><em>L</em><sub>1</sub>â€…âˆªâ€…<em>L</em><sub>2</sub>â€„=â€„{<em>x</em>|<em>x</em>â€„âˆˆâ€„<em>L</em><sub>1</sub>â€Šâ€<em>o</em><em>r</em>â€Šâ€<em>x</em>â€„âˆˆâ€„<em>L</em><sub>2</sub>}</span></li>
</ul></li>
<li><strong>Concatenation</strong>: ï¼ˆè¿æ¥ï¼‰
<ul>
<li><span class="math inline"><em>L</em><sub>1</sub><em>L</em><sub>2</sub>â€„=â€„{<em>x</em><em>y</em>|<em>x</em>â€„âˆˆâ€„<em>L</em><sub>1</sub>â€Šâ€<em>a</em><em>n</em><em>d</em>â€Šâ€<em>y</em>â€„âˆˆâ€„<em>L</em><sub>2</sub>}</span></li>
</ul></li>
<li><strong>Kleene closure</strong>: ï¼ˆæ˜Ÿé—­åŒ…ï¼‰
<ul>
<li><span class="math inline">$L^* = \bigcup_{1=0}^\infty L^i \\= {ğœ–} âˆª
L âˆª L^2 âˆª L^3 âˆª ... \\= \{x | x = x_1x_2...x_n, n â‰¥ 0, xi âˆˆ
L\}$</span></li>
<li>ğœ– is the empty string</li>
</ul></li>
<li><strong>Positive closure</strong>: ï¼ˆæ­£é—­åŒ…ï¼‰
<ul>
<li><span class="math inline">$L^+ = \bigcup_{1=1}^\infty L^i \\= LL^*
\\= \{x | x = x_1x_2...x_n, n â‰¥ 1, xi âˆˆ L\}$</span></li>
</ul></li>
</ul>
<h3 id="regular-expressions">Regular Expressions</h3>
<h4 id="å®šä¹‰-3">å®šä¹‰</h4>
<ul>
<li><strong>Regular Expression (Regex)</strong>: a way to describe
Patterns of Tokens of a programming language.
ï¼ˆæ­£åˆ™è¡¨è¾¾å¼ï¼šæè¿°ç¼–ç¨‹è¯­è¨€çš„è¯æ³•å•å…ƒæ¨¡å¼çš„ä¸€ç§æ–¹å¼ï¼‰
<ul>
<li>Each Regular Expression r denotes a Language L<span class="math inline">(<em>r</em>)</span>.
ï¼ˆæ¯ä¸ªæ­£åˆ™è¡¨è¾¾å¼rè¡¨ç¤ºä¸€ä¸ªè¯­è¨€L<span class="math inline">(<em>r</em>)</span>ï¼‰
<ul>
<li>Regular Language, Type-3 Language</li>
</ul></li>
<li>The Regular Expressions are built recursively out of smaller ones,
using the rules. ï¼ˆæ­£åˆ™è¡¨è¾¾å¼æ˜¯ç”¨è§„åˆ™é€’å½’æ„å»ºçš„ï¼‰</li>
</ul></li>
</ul>
<h4 id="è¯­æ³•">è¯­æ³•</h4>
<ul>
<li><strong>BASIS</strong> ï¼ˆåŸºç¡€ï¼‰
<ul>
<li>ğœ€ is a regular expression, and L(ğœ€) = {ğœ€}, the empty set.
ï¼ˆç©ºå­—ç¬¦ï¼‰</li>
<li>a is a symbol in a set Î£, then a is a regular expression, and L(a) =
{a}. ï¼ˆé›†åˆä¸­çš„å­—ç¬¦ï¼‰</li>
</ul></li>
<li><strong>INDUCTION</strong> ï¼ˆå½’çº³ï¼‰ï¼šSuppose <span class="math inline"><em>r</em></span> and <span class="math inline"><em>s</em></span> are expressions denoting <span class="math inline"><em>L</em>(<em>r</em>)</span> and <span class="math inline"><em>L</em>(<em>s</em>)</span>
<ul>
<li><span class="math inline"><em>r</em>|<em>s</em></span> : a regular
expression denoting <span class="math inline"><em>L</em>(<em>r</em>)â€…âˆªâ€…<em>L</em>(<em>s</em>)</span></li>
<li><span class="math inline"><em>r</em><em>s</em></span> : a regular
expression denoting <span class="math inline"><em>L</em>(<em>r</em>)<em>L</em>(<em>s</em>)</span></li>
<li><span class="math inline"><em>r</em><sup>*</sup></span> : a regular
expression denoting <span class="math inline">(<em>L</em>(<em>r</em>))<sup>*</sup></span></li>
<li><span class="math inline">(<em>r</em>)</span> : a regular expression
denoting <span class="math inline"><em>L</em>(<em>r</em>)</span>
<ul>
<li>We can add additional brackets around expressions.
ï¼ˆæˆ‘ä»¬å¯ä»¥åœ¨è¡¨è¾¾å¼å‘¨å›´æ·»åŠ é¢å¤–çš„æ‹¬å·ã€‚ï¼‰</li>
</ul></li>
</ul></li>
<li><strong>å®šå¾‹</strong>ï¼š <img src="image-6.webp" srcset="/img/loading/loading3.gif" lazyload></li>
</ul>
<h3 id="regular-definitions">Regular Definitions</h3>
<ul>
<li><strong>Regular Definition</strong>: a set of productions with
non-terminals derived by regular expressions.
ï¼ˆæ­£åˆ™å®šä¹‰ï¼šä¸€ç»„é€šè¿‡æ­£åˆ™è¡¨è¾¾å¼æ´¾ç”Ÿçš„éç»ˆç»“ç¬¦çš„äº§ç”Ÿå¼ï¼‰</li>
</ul>
<h3 id="extensions-of-regex">Extensions of Regex</h3>
<ul>
<li><span class="math inline">+</span> : one or more instances
<ul>
<li><span class="math inline"><em>r</em><sup>*</sup></span> = <span class="math inline"><em>r</em><sup>+</sup></span> | ğœ–</li>
<li><span class="math inline"><em>r</em><sup>+</sup></span> = <span class="math inline"><em>r</em><em>r</em><sup>*</sup></span> = <span class="math inline"><em>r</em><sup>*</sup><em>r</em></span></li>
</ul></li>
<li><span class="math inline">?</span> : zero or one instance
<ul>
<li><span class="math inline"><em>r</em>?</span> = <span class="math inline"><em>r</em></span> | ğœ–</li>
</ul></li>
<li><span class="math inline">[â€Šâ€]</span> : character classes
<ul>
<li><span class="math inline">[<em>a</em><em>b</em><em>c</em>]</span> =
<span class="math inline"><em>a</em></span> | <span class="math inline"><em>b</em></span> | <span class="math inline"><em>c</em></span></li>
<li><span class="math inline">[<em>a</em>â€…âˆ’â€…<em>z</em>]</span> = <span class="math inline"><em>a</em></span> | <span class="math inline"><em>b</em></span> | â€¦ | <span class="math inline"><em>z</em></span></li>
</ul></li>
</ul>
<h3 id="regular-language-grammar-and-regex">Regular Language / Grammar,
and Regex</h3>
<p><img src="image-5.webp" srcset="/img/loading/loading3.gif" lazyload></p>
<ul>
<li><strong>Regular Expression</strong> <span class="math inline"><em>r</em></span> denotes a Language <span class="math inline"><em>L</em>(<em>r</em>)</span>.
<ul>
<li>Regular Language is Type-3 Language ï¼ˆæ­£åˆ™è¯­è¨€æ˜¯ç±»å‹3è¯­è¨€ï¼‰</li>
<li>Regular Language is that denoted by Regular Expressions.
ï¼ˆæ­£åˆ™è¯­è¨€æ˜¯ç”±æ­£åˆ™è¡¨è¾¾å¼è¡¨ç¤ºçš„ï¼‰</li>
</ul></li>
<li><strong>Regular Grammar</strong> is the grammar describes a Regular
Language.
<ul>
<li>with the production form of <span class="math inline"><strong>A</strong>â€„â†’â€„<em>Î±</em></span> or <span class="math inline"><strong>A</strong>â€„â†’â€„<em>Î±</em><strong>B</strong></span></li>
</ul></li>
</ul>
<h2 id="recognition-of-tokens">Recognition of Tokens</h2>
<h3 id="input-buffer">Input Buffer</h3>
<p><img src="image-8.webp" srcset="/img/loading/loading3.gif" lazyload></p>
<h3 id="transition-diagrams">Transition Diagrams</h3>
<ul>
<li><strong>Transition Diagram = Nodes + Edges</strong>, a Flowchart
ï¼ˆçŠ¶æ€æµç¨‹å›¾ = èŠ‚ç‚¹ + è¾¹ï¼‰
<ul>
<li><strong>Nodes</strong>: <strong>states, conditions</strong> that
could occur when looking for a lexeme that matches one pattern.
ï¼ˆèŠ‚ç‚¹ï¼šçŠ¶æ€ï¼‰
<ul>
<li><strong>States</strong>: Circles ï¼ˆçŠ¶æ€ï¼šåœ†åœˆï¼‰</li>
<li><strong>Start State</strong>: Arrowhead, Beginning of a Pattern
ï¼ˆèµ·å§‹çŠ¶æ€ï¼šç®­å¤´ï¼Œå¼€å§‹ï¼‰</li>
<li><strong>End State(s)</strong>: <strong>Double Circles</strong>, End
of a Pattern ï¼ˆç»ˆæ­¢çŠ¶æ€ï¼šåŒåœ†åœˆï¼Œç»“æŸï¼‰</li>
</ul></li>
<li><strong>Edge</strong>: <strong>actions</strong>, taken to transit
from one State to Another. ï¼ˆè¾¹ï¼šåŠ¨ä½œï¼‰
<ul>
<li>labeled by a Symbol or a set of Symbols for matching
ï¼ˆæ ‡è®°ä¸ºç¬¦å·æˆ–ç¬¦å·é›†ä»¥è¿›è¡ŒåŒ¹é…ï¼‰</li>
</ul></li>
<li><strong>Deterministic</strong>: at most ONE edge out of a given
state with a given label. ï¼ˆç¡®å®šæ€§ï¼šåœ¨ç»™å®šçŠ¶æ€ä¸‹ï¼Œæœ€å¤šæœ‰ä¸€æ¡è¾¹ï¼‰</li>
</ul></li>
<li><strong>Example</strong>: <img src="image-51.webp" srcset="/img/loading/loading3.gif" lazyload>
<ul>
<li>*<strong>(Retract)</strong>: A Token has been accepted while another
char has been read which must be unread.
ï¼ˆå›é€€ï¼šä¸€ä¸ªTokenå·²ç»è¢«æ¥å—ï¼Œè€Œå¦ä¸€ä¸ªä¸åº”è¯»å–å­—ç¬¦å·²ç»è¢«è¯»å–ï¼Œå¿…é¡»å›é€€ï¼‰</li>
</ul></li>
</ul>
<h3 id="reserved-words-ä¿ç•™å­—">Reserved Words ï¼ˆä¿ç•™å­—ï¼‰</h3>
<ul>
<li>Keywords look like Identifiers.
<ul>
<li>if, then, â€¦</li>
</ul></li>
<li>Add reserved words into symbol table initially.
ï¼ˆåœ¨ç¬¦å·è¡¨ä¸­æ·»åŠ ä¿ç•™å­—ï¼‰</li>
<li>Create <strong>separate transition diagrams</strong> for each
keyword. ï¼ˆä¸ºæ¯ä¸ªå…³é”®å­—åˆ›å»ºå•ç‹¬çš„è½¬æ¢å›¾ï¼‰
<ul>
<li>thenextone</li>
<li><img src="image-52.webp" srcset="/img/loading/loading3.gif" lazyload></li>
</ul></li>
</ul>
<h2 id="æœ‰ç©·è‡ªåŠ¨æœºfinite-automata">æœ‰ç©·è‡ªåŠ¨æœºï¼šFinite Automata</h2>
<h3 id="finite-automata">Finite Automata</h3>
<ul>
<li><strong>What</strong>: an Abstract Machine that can be in exactly
one of a Finite number of States at any given time.
ï¼ˆæœ‰é™è‡ªåŠ¨æœºï¼šåœ¨ä»»ä½•ç»™å®šæ—¶é—´åªèƒ½å¤„äºæœ‰é™æ•°é‡çš„çŠ¶æ€ä¹‹ä¸€çš„æŠ½è±¡æœºå™¨ï¼‰
<ul>
<li>Finite Automation = Finite-state Automation (FSA, plural: automata)
ï¼ˆæœ‰é™è‡ªåŠ¨æœº = æœ‰é™çŠ¶æ€è‡ªåŠ¨æœºï¼‰
<ul>
<li>Finite-state Machine (FSM), or simply State Machine
ï¼ˆæœ‰é™çŠ¶æ€æœºï¼Œæˆ–ç®€å•åœ°ç§°ä¸ºçŠ¶æ€æœºï¼‰</li>
</ul></li>
<li>changes from one state to another according to Inputs, called
Transition ï¼ˆæ ¹æ®è¾“å…¥ï¼Œä»ä¸€ä¸ªçŠ¶æ€å˜åŒ–åˆ°å¦ä¸€ä¸ªçŠ¶æ€ï¼Œç§°ä¸ºè½¬æ¢ï¼‰</li>
</ul></li>
<li><strong>Why</strong>: used as the Recognizer for Scanning,
identifying Tokens ï¼ˆç”¨äºæ‰«æçš„è¯†åˆ«å™¨ï¼Œè¯†åˆ«tokenï¼‰</li>
<li><strong>How</strong>: answers â€œYESâ€ or â€œNOâ€ about each input String
ï¼ˆå¦‚ä½•ï¼šå¯¹æ¯ä¸ªè¾“å…¥å­—ç¬¦ä¸²å›ç­”â€œæ˜¯â€æˆ–â€œå¦â€ï¼‰
<ul>
<li>determines whether the String is valid for the given Grammar
ï¼ˆç¡®å®šå­—ç¬¦ä¸²æ˜¯å¦ç¬¦åˆç»™å®šçš„è¯­æ³•ï¼‰</li>
</ul></li>
</ul>
<h3 id="dfa-vs.-nfa">DFA vs.&nbsp;NFA</h3>
<ul>
<li>FA: <strong>Deterministic (DFA) or Non-deterministic
(NFA)</strong></li>
<li><strong>DFA</strong>: have <strong>exactly/at most one
action</strong> for each input symbol ï¼ˆæ¯ä¸ªè¾“å…¥ç¬¦å·æœ‰ä¸€ä¸ªåŠ¨ä½œï¼‰
<ul>
<li>can be represented with a Transition Diagram</li>
<li>Recognition with DFA: Faster, may take More Space
ï¼ˆè¯†åˆ«DFAï¼šæ›´å¿«ï¼Œå¯èƒ½å ç”¨æ›´å¤šç©ºé—´ï¼‰</li>
<li>complex to represent Regex, but more Precise, widely used
ï¼ˆå¤æ‚è¡¨ç¤ºæ­£åˆ™è¡¨è¾¾å¼ï¼Œä½†æ›´ç²¾ç¡®ï¼Œå¹¿æ³›ä½¿ç”¨ï¼‰</li>
</ul></li>
<li><strong>NFA</strong>: can have <strong>multiple actions</strong> for
the same input symbol ï¼ˆåŒä¸€è¾“å…¥ç¬¦å·å¯ä»¥æœ‰å¤šä¸ªåŠ¨ä½œï¼‰
<ul>
<li>can be represented with a Transition Graph</li>
<li>Recognition with NFA: Slower, may take Less Space
ï¼ˆè¯†åˆ«NFAï¼šè¾ƒæ…¢ï¼Œå¯èƒ½å ç”¨æ›´å°‘çš„ç©ºé—´ï¼‰</li>
<li>simply represents Regex, but less Precise
ï¼ˆç®€å•è¡¨ç¤ºæ­£åˆ™è¡¨è¾¾å¼ï¼Œä½†ä¸å¤Ÿç²¾ç¡®ï¼‰</li>
</ul></li>
<li><strong>Example</strong>: <img src="image-9.webp" srcset="/img/loading/loading3.gif" lazyload></li>
<li>Lexical Analysis <strong>Workflow</strong> with FA:
<ul>
<li>Regex -&gt; NFA -&gt; DFA</li>
<li>Regex -&gt; DFA</li>
</ul></li>
</ul>
<h3 id="nondeterministic-finite-automata-nfa">Nondeterministic Finite
Automata (NFA)</h3>
<ul>
<li><strong>An NFA M = <span class="math inline"><strong>(</strong><strong>S</strong><strong>,</strong>â€†<strong>ğœ®</strong><strong>,</strong>â€†<strong>m</strong><strong>o</strong><strong>v</strong><strong>e</strong><strong>,</strong>â€†<strong>ğ’”</strong><sub><strong>0</strong></sub><strong>,</strong>â€†<strong>F</strong><strong>)</strong></span></strong>
consists of:
<ul>
<li><span class="math inline"><strong>S</strong></span>: a finite set of
States ï¼ˆæœ‰é™çŠ¶æ€é›†ï¼‰</li>
<li><span class="math inline"><strong>ğœ®</strong></span>: the Input
Alphabet, excluding ğœ– ï¼ˆä¸åŒ…å«ğœ–çš„è¾“å…¥ç¬¦å·é›†åˆï¼‰</li>
<li><span class="math inline"><strong>m</strong><strong>o</strong><strong>v</strong><strong>e</strong></span>,
a Transition Function ï¼ˆè½¬æ¢å‡½æ•°ï¼‰
<ul>
<li>move(State, Symbol) = set of Next States</li>
<li>move: <span class="math inline"><em>ğ‘†</em>â€…Ã—â€…(<em>Î£</em>â€…âˆªâ€…{<em>ğœ–</em>})â€„âŸ¶â€„<em>â„™</em>(<em>ğ‘†</em>)</span></li>
</ul></li>
<li><span class="math inline"><strong>s</strong><sub><strong>0</strong></sub>â€„âˆˆâ€„<strong>S</strong></span>,
the Start State (or Initial State) ï¼ˆèµ·å§‹çŠ¶æ€ï¼‰</li>
<li><span class="math inline"><strong>F</strong>â€„âŠ†â€„<strong>S</strong></span>, a
set of Accepting States (or Final States) ï¼ˆç»ˆæ­¢çŠ¶æ€ï¼‰</li>
</ul></li>
<li>An NFA accepts Input String <span class="math inline"><em>s</em></span> iff
<ul>
<li>there exists some path in the Transition Graph from the Start State
to one Accepting State, ï¼ˆå­˜åœ¨ä¸€æ¡è·¯å¾„ä»èµ·å§‹çŠ¶æ€åˆ°ä¸€ä¸ªæ¥å—çŠ¶æ€ï¼‰</li>
<li>such that symbols along the path spell out <span class="math inline"><em>s</em></span> ï¼ˆè·¯å¾„ä¸Šçš„ç¬¦å·æ‹¼å†™å‡º<span class="math inline"><em>s</em></span>ï¼‰</li>
</ul></li>
<li><strong>Transition Tables</strong>ï¼š<strong>rows</strong> for
States, <strong>columns</strong> for Input Symbols and ğ
<ul>
<li>Example: <img src="image-10.webp" srcset="/img/loading/loading3.gif" lazyload></li>
</ul></li>
</ul>
<h3 id="deterministic-finite-automata-dfa">Deterministic Finite Automata
(DFA)</h3>
<ul>
<li><strong>What</strong>: a Special Case of an NFA, where
<ul>
<li>there are <strong>no moves</strong> on symbol ğœ–, and</li>
<li>for each state s and input symbol a, there is <strong>Exactly
ONE</strong> edge out of s labeled by a.
ï¼ˆæ¯ä¸ªçŠ¶æ€så’Œè¾“å…¥ç¬¦å·aï¼Œæ°å¥½æœ‰ä¸€æ¡è¾¹å‡ºsæ ‡è®°ä¸ºaï¼‰
<ul>
<li><strong>COMPLETE</strong>: It defines from each state a transition
for each input symbol. ï¼ˆå®Œæ•´ï¼šå®ƒå®šä¹‰äº†ä»æ¯ä¸ªçŠ¶æ€åˆ°æ¯ä¸ªè¾“å…¥ç¬¦å·çš„è½¬æ¢ï¼‰
<ul>
<li>Transition function is a total function.</li>
</ul></li>
<li><strong>Local Automation</strong>: DFA not necessarily complete (â€¦
At Most ONE edge â€¦) ï¼ˆå±€éƒ¨è‡ªåŠ¨æœºï¼šDFAä¸ä¸€å®šæ˜¯å®Œå…¨å›¾ï¼‰
<ul>
<li>Transition function is a partial function.</li>
</ul></li>
</ul></li>
</ul></li>
</ul>
<h2 id="algorithm-for-simulation">Algorithm for Simulation</h2>
<h3 id="conversion-nfa-dfa">Conversion: NFA â€“&gt; DFA</h3>
<ul>
<li><strong>Subset Construction</strong> ï¼ˆå­é›†æ„é€ ï¼‰
<ul>
<li>removing ğœ–-transitions</li>
<li>combining multiple NFAâ€™s states into ONE constructed DFAâ€™s state
ï¼ˆå°†å¤šä¸ªNFAçš„çŠ¶æ€ç»„åˆæˆä¸€ä¸ªæ„é€ çš„DFAçš„çŠ¶æ€ï¼Œå³ï¼šç­‰åŠ¿ç‚¹åˆå¹¶ï¼‰</li>
</ul></li>
<li><strong>Definitions</strong>:
<ul>
<li><strong>ğœ–-closure(s)</strong>:
<ul>
<li>s: some State</li>
<li>= Set of NFA <strong>States</strong> reached by state s via
ğœ–-transitions, including s itself.
ï¼ˆNFAä¸­å¯ä»¥é€šè¿‡è‹¥å¹²ä¸ªç©ºå˜æ¢åˆ°è¾¾çš„çŠ¶æ€çš„é›†åˆï¼‰</li>
</ul></li>
<li><strong>ğœ–-closure(T)</strong>:
<ul>
<li>T: set of <strong>States</strong></li>
<li>= <span class="math inline">âˆª<sub><em>s</em>â€„âˆˆâ€„<em>T</em></sub></span>
ğœ–-closure(s)</li>
</ul></li>
<li><strong>move(T, a)</strong>:
<ul>
<li>T: set of States</li>
<li>a: Input Symbol</li>
<li>= NFAâ€™s <strong>States</strong> reached by ğ‘  âˆˆ ğ‘‡ on a.</li>
</ul></li>
</ul></li>
<li><strong>Algorithm Subset Construction</strong>
<ul>
<li>Input: the start State <strong>s0</strong> and the Transition
Diagram of NFA <strong>N</strong>.</li>
<li>Output: Transition Graph of DFA <strong>Dtran</strong>
<figure class="shiki java"><div class="codeblock"><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></div><div class="code"><pre class="shiki one-dark-pro"><code><span class="line"><span style="color: #E06C75">add ğ</span><span style="color: #56B6C2">-</span><span style="color: #61AFEF">closure</span><span style="color: #E06C75">(s0) into Dstates </span><span style="color: #7F848E; font-style: italic">//å°†åˆå§‹çŠ¶æ€s0çš„ğé—­åŒ…åŠ å…¥Dstates</span></span>
<span class="line"><span style="color: #C678DD">while</span><span style="color: #E06C75"> (</span><span style="color: #E5C07B">Dstates</span><span style="color: #E06C75"> has unsearched state S) { </span><span style="color: #7F848E; font-style: italic">//å½“Dstatesæœ‰æœªæœç´¢çš„çŠ¶æ€Sæ—¶</span></span>
<span class="line"><span style="color: #E06C75">    tag </span><span style="color: #E5C07B">S</span><span style="color: #E06C75"> as searched </span><span style="color: #7F848E; font-style: italic">//å°†Sæ ‡è®°ä¸ºå·²æœç´¢</span></span>
<span class="line"><span style="color: #E06C75">    foreach input symbol a { </span><span style="color: #7F848E; font-style: italic">//å¯¹æ¯ä¸ªè¾“å…¥ç¬¦å·a</span></span>
<span class="line"><span style="color: #E06C75">        U </span><span style="color: #56B6C2">=</span><span style="color: #E06C75"> ğ</span><span style="color: #56B6C2">-</span><span style="color: #61AFEF">closure</span><span style="color: #E06C75">(</span><span style="color: #61AFEF">move</span><span style="color: #E06C75">(S</span><span style="color: #ABB2BF">,</span><span style="color: #E06C75"> a)) </span><span style="color: #7F848E; font-style: italic">//è®¾Uä¸ºSè¿›è¡ŒaåŠ¨ä½œåçŠ¶æ€S'çš„ğé—­åŒ…</span></span>
<span class="line"><span style="color: #E06C75">        </span><span style="color: #C678DD">if</span><span style="color: #E06C75"> (</span><span style="color: #E5C07B">U</span><span style="color: #E06C75"> is </span><span style="color: #C678DD">new</span><span style="color: #E06C75"> to Dstates) { </span><span style="color: #7F848E; font-style: italic">//å¦‚æœUæ˜¯Dstatesä¸­çš„æ–°çŠ¶æ€</span></span>
<span class="line"><span style="color: #E06C75">            add </span><span style="color: #E5C07B">U</span><span style="color: #E06C75"> into </span><span style="color: #E5C07B">Dstates</span><span style="color: #E06C75"> as unsearched </span><span style="color: #7F848E; font-style: italic">//å°†UåŠ å…¥Dstateså¹¶æ ‡è®°ä¸ºæœªæœç´¢</span></span>
<span class="line"><span style="color: #E06C75">        }</span></span>
<span class="line"><span style="color: #E06C75">        </span><span style="color: #61AFEF">Dtran</span><span style="color: #E06C75">(S</span><span style="color: #ABB2BF">,</span><span style="color: #E06C75"> a) </span><span style="color: #56B6C2">=</span><span style="color: #E06C75"> U </span><span style="color: #7F848E; font-style: italic">//å°†Dtran(S, a)è®¾ä¸ºU</span></span>
<span class="line"><span style="color: #E06C75">    }</span></span>
<span class="line"><span style="color: #E06C75">}</span></span></code></pre></div></div></figure></li>
<li><strong>æœ€åå¾—åˆ°çš„Dtranæ˜¯ä¸€ä¸ªDFAçš„è½¬æ¢è¡¨</strong>ï¼ŒDstatesæ˜¯DFAçš„çŠ¶æ€é›†åˆã€‚</li>
</ul></li>
<li><strong>Algorithm ğœ–-closure(T) Computation</strong>:
<ul>
<li>ä¸Šä¸€æ­¥ä¸­<code>U = ğ-closure(move(S, a))</code>çš„å®ç°é€»è¾‘ï¼š</li>
<li>Input: the State Set T</li>
<li>Output: ğœ–-closure(T) <figure class="shiki java"><div class="codeblock"><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></div><div class="code"><pre class="shiki one-dark-pro"><code><span class="line"><span style="color: #E06C75">push all states in </span><span style="color: #E5C07B">T</span><span style="color: #E06C75"> onto Stack </span><span style="color: #7F848E; font-style: italic">//å°†Tä¸­çš„æ‰€æœ‰çŠ¶æ€å‹å…¥æ ˆä¸­</span></span>
<span class="line"><span style="color: #C678DD">while</span><span style="color: #E06C75"> (</span><span style="color: #E5C07B">Stack</span><span style="color: #E06C75"> is not empty) { </span><span style="color: #7F848E; font-style: italic">//å½“æ ˆä¸ä¸ºç©ºæ—¶</span></span>
<span class="line"><span style="color: #E06C75">    s </span><span style="color: #56B6C2">=</span><span style="color: #E06C75"> </span><span style="color: #E5C07B">Stack</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">pop</span><span style="color: #ABB2BF">()</span><span style="color: #E06C75"> </span><span style="color: #7F848E; font-style: italic">//å¼¹å‡ºæ ˆé¡¶å…ƒç´ s</span></span>
<span class="line"><span style="color: #E06C75">    </span><span style="color: #61AFEF">foreach</span><span style="color: #E06C75"> (state u reached by s via ğœ–) { </span><span style="color: #7F848E; font-style: italic">//å¯¹äºæ¯ä¸ªsé€šè¿‡ğœ–èƒ½è¾¾åˆ°çš„çŠ¶æ€u</span></span>
<span class="line"><span style="color: #E06C75">        </span><span style="color: #C678DD">if</span><span style="color: #E06C75"> (u is not in ğœ–</span><span style="color: #56B6C2">-</span><span style="color: #61AFEF">closure</span><span style="color: #E06C75">(T)) { </span><span style="color: #7F848E; font-style: italic">//å¦‚æœuä¸åœ¨Tçš„ğœ–é—­åŒ…ä¸­</span></span>
<span class="line"><span style="color: #E06C75">            add u into ğœ–</span><span style="color: #56B6C2">-</span><span style="color: #61AFEF">closure</span><span style="color: #E06C75">(T) </span><span style="color: #7F848E; font-style: italic">// å°†å…¶åŠ å…¥Tçš„ğœ–é—­åŒ…</span></span>
<span class="line"><span style="color: #E06C75">            </span><span style="color: #E5C07B">Stack</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">push</span><span style="color: #ABB2BF">(u)</span><span style="color: #E06C75"> </span><span style="color: #7F848E; font-style: italic">//å°†uå‹å…¥æ ˆä¸­</span></span>
<span class="line"><span style="color: #E06C75">        }</span></span>
<span class="line"><span style="color: #E06C75">    }</span></span>
<span class="line"><span style="color: #E06C75">}</span></span></code></pre></div></div></figure></li>
</ul></li>
<li><strong>Example</strong>: <img src="image-11.webp" srcset="/img/loading/loading3.gif" lazyload></li>
</ul>
<h3 id="conversion-regex-nfa">Conversion: Regex â€“&gt; NFA</h3>
<ul>
<li>McNaughton-Yamada-Thompson Algorithm</li>
<li>Regexâ€™s Definition:
<ul>
<li><strong>BASIS</strong>: <img src="image-12.webp" srcset="/img/loading/loading3.gif" lazyload></li>
<li><strong>INDUCTION</strong>: <img src="image-13.webp" srcset="/img/loading/loading3.gif" lazyload></li>
</ul></li>
<li><strong>Example</strong>: <img src="image-14.webp" srcset="/img/loading/loading3.gif" lazyload></li>
</ul>
<h2 id="workflow">Workflow</h2>
<ul>
<li>The <strong>Workflow</strong> of Lexical Analyzer
<ul>
<li>Regex â€“&gt; NFA Construction</li>
<li>NFA â€“&gt; DFA Construction</li>
<li>Simulating DFA to Recognize Tokens</li>
</ul></li>
<li>Convert Regex Directly into DFA: PASS</li>
<li><strong>DFA Simplification</strong>: Minimizing the Number of
States</li>
</ul>
<h2 id="dfa-simplification">DFA Simplification</h2>
<ul>
<li><strong>What and Why</strong>:
<ul>
<li><strong>no REDUNDANT states</strong> ï¼ˆæ— å†—ä½™çŠ¶æ€ï¼‰
<ul>
<li>REDUNDANCE: the states that NO accepted input stringâ€™s path passes
through ï¼ˆæ²¡æœ‰è·¯å¾„åˆ°è¾¾ç»ˆæ­¢çŠ¶æ€çš„çŠ¶æ€ï¼‰</li>
<li>(in the transition graph)</li>
</ul></li>
<li><strong>no EQUIVALENT states</strong> ï¼ˆæ— ç­‰æ•ˆçŠ¶æ€ï¼‰
<ul>
<li>EQUIVALENCE: states with the SAME side effects
ï¼ˆå…·æœ‰ç›¸åŒå‰¯ä½œç”¨çš„çŠ¶æ€ï¼‰</li>
<li>(making the states indistinguishable)</li>
</ul></li>
<li><strong>Distinguish States via Input String</strong>
ï¼ˆé€šè¿‡è¾“å…¥å­—ç¬¦ä¸²åŒºåˆ†çŠ¶æ€ï¼‰
<ul>
<li>State: s, t</li>
<li>String: x</li>
<li>x distinguishes s from t,
<ul>
<li>if one state can reach an accepting state via x, while the other
cannot. ï¼ˆå¦‚æœä¸€ä¸ªçŠ¶æ€å¯ä»¥é€šè¿‡xåˆ°è¾¾ç»ˆæ­¢çŠ¶æ€ï¼Œè€Œå¦ä¸€ä¸ªçŠ¶æ€ä¸èƒ½ï¼‰</li>
</ul></li>
<li>s is distinguishable from t,
<ul>
<li>if there is some string distinguishes them.
ï¼ˆå­˜åœ¨ä¸€äº›å­—ç¬¦ä¸²å¯ä»¥åŒºåˆ†å®ƒä»¬ï¼‰</li>
</ul></li>
<li>Unify Indistinguishable States into One.
ï¼ˆå°†ä¸å¯åŒºåˆ†çš„çŠ¶æ€åˆå¹¶ä¸ºä¸€ä¸ªï¼‰</li>
</ul></li>
</ul></li>
<li><strong>How</strong>ï¼š
<ol type="1">
<li>Start with the initial partition <span class="math inline"><strong>Î </strong></span> with two groups, the
<strong>accepting</strong> and <strong>non-accepting</strong> states of
the DFA. ï¼ˆå°†DFAçš„æ¥å—çŠ¶æ€å’Œéæ¥å—çŠ¶æ€åˆ†ä¸ºä¸¤ä¸ªç»„ï¼‰</li>
<li>Let <span class="math inline"><strong>Î </strong><sub><strong>n</strong><strong>e</strong><strong>w</strong></sub>â€„<strong>:=</strong>â€„<strong>Î </strong></span>.
Then, for each group <span class="math inline"><strong>G</strong></span>
of <span class="math inline"><strong>Î </strong></span>: ï¼ˆåˆå§‹æ—¶ä»¤<span class="math inline"><strong>Î </strong><sub><strong>n</strong><strong>e</strong><strong>w</strong></sub>â€„<strong>=</strong>â€„<strong>Î </strong></span>ï¼Œç„¶åå¯¹äºæ¯ä¸ªç»„Gï¼‰
<ul>
<li>For each input symbol <span class="math inline"><strong>a</strong></span>, states <span class="math inline"><strong>s</strong>,â€†<strong>t</strong></span> in
<span class="math inline"><strong>G</strong></span> are partitioned if
they transit to different groups of <span class="math inline"><strong>Î </strong></span> via <span class="math inline"><strong>a</strong></span>;
ï¼ˆå¯¹äºæ¯ä¸ªè¾“å…¥ç¬¦å·aï¼Œå¦‚æœçŠ¶æ€så’Œté€šè¿‡aè½¬ç§»åˆ°ä¸åŒçš„ç»„ï¼Œåˆ™ä»–ä»¬è¢«åˆ’åˆ†ä¸ºä¸åŒçš„ç»„ï¼‰</li>
<li>Replace <span class="math inline"><strong>G</strong></span> in <span class="math inline"><strong>Î </strong><sub><strong>n</strong><strong>e</strong><strong>w</strong></sub></span>
by the new subgroups. ï¼ˆç”¨æ–°çš„å­ç»„æ›¿æ¢<span class="math inline"><strong>G</strong></span>ï¼‰</li>
</ul></li>
<li>If <span class="math inline"><strong>Î </strong><sub><strong>n</strong><strong>e</strong><strong>w</strong></sub>â€„â‰ â€„<strong>Î </strong></span>,
<span class="math inline"><strong>Î </strong>â€„<strong>:</strong>â€„â€„<strong>=</strong>â€„<strong>Î </strong><sub><strong>n</strong><strong>e</strong><strong>w</strong></sub></span>
and repeat Step 2, Step 4 otherwise. ï¼ˆå¦‚æœ<span class="math inline"><strong>Î </strong><sub><strong>n</strong><strong>e</strong><strong>w</strong></sub>â€„â‰ â€„<strong>Î </strong></span>ï¼Œåˆ™ä»¤<span class="math inline"><strong>Î </strong>â€„<strong>:</strong>â€„â€„<strong>=</strong>â€„<strong>Î </strong><sub><strong>n</strong><strong>e</strong><strong>w</strong></sub></span>å¹¶é‡å¤æ­¥éª¤2ï¼Œå¦åˆ™è·³åˆ°æ­¥éª¤4ï¼‰</li>
<li>Aggregate the transitions among groups. ï¼ˆå°†ç»„ä¹‹é—´çš„è½¬æ¢èšåˆï¼‰</li>
<li>The resulting DFA is the minimized DFA.
ï¼ˆå¾—åˆ°çš„DFAæ˜¯æœ€å°åŒ–çš„DFAï¼‰</li>
</ol></li>
<li><strong>Example</strong>:<img src="image-15.webp" srcset="/img/loading/loading3.gif" lazyload></li>
</ul>
<h1 id="ch4-parsing">Ch4 Parsing</h1>
<h2 id="è¯æ³•åˆ†ælexical-analysis-2">è¯æ³•åˆ†æï¼šLexical Analysis</h2>
<h3 id="parser">Parser</h3>
<ul>
<li><strong>What</strong>: Given Tokens, Parsing Verifies whether the
Token Names Can Be Generated by the Grammar for the Source Language.
ï¼ˆç»™å®štokensï¼Œè§£æä¼šéªŒè¯tokenåç§°æ˜¯å¦å¯ä»¥ç”±æºè¯­è¨€çš„è¯­æ³•ç”Ÿæˆï¼‰</li>
<li><strong>Why</strong>: We expect the Parser
<ul>
<li>to <strong>report Syntax Errors</strong> ï¼ˆæŠ¥å‘Šè¯­æ³•é”™è¯¯ï¼‰</li>
<li>to recover from Errors to continue following processes.
ï¼ˆä»é”™è¯¯ä¸­æ¢å¤ä»¥ç»§ç»­åç»­è¿‡ç¨‹ï¼‰</li>
</ul></li>
<li><strong>How</strong>: Derivation or Reduction
<ul>
<li><strong>Top-down</strong> and <strong>Bottom-up</strong>
Parsing</li>
</ul></li>
</ul>
<p><img src="image-16.webp" srcset="/img/loading/loading3.gif" lazyload></p>
<h3 id="compiler-errors">Compiler Errors</h3>
<ul>
<li>Lexical Errors
<ul>
<li>The string does not match the pattern of any token.
ï¼ˆå­—ç¬¦ä¸²ä¸ä»»ä½•tokençš„æ¨¡å¼ä¸åŒ¹é…ï¼‰</li>
</ul></li>
<li>Syntactic Errors
<ul>
<li>The string does not meet the requirements of the grammar.
ï¼ˆå­—ç¬¦ä¸²ä¸ç¬¦åˆè¯­æ³•è¦æ±‚ï¼‰</li>
</ul></li>
<li>Semantic Errors: Type Mismatching ï¼ˆè¯­ä¹‰é”™è¯¯ï¼šç±»å‹ä¸åŒ¹é…ï¼‰</li>
</ul>
<h3 id="error-recovery-strategies">Error-Recovery Strategies</h3>
<ul>
<li><strong>Panic-Mode Recovery</strong>
<ul>
<li>Discarding input symbols one at a time until meeting synchronizing
tokens ï¼ˆä¸¢å¼ƒè¾“å…¥ç¬¦å·ï¼Œç›´åˆ°é‡åˆ°åŒæ­¥tokensï¼‰
<ul>
<li>synchronizing tokens, e.g.&nbsp;â€œ;â€, â€œ}â€, etc., decided by designers</li>
</ul></li>
<li>simple, but may cause more errors</li>
</ul></li>
<li><strong>Phrase-Level Recovery</strong>
<ul>
<li>Local Correction on Input, allowing the parser to continue
ï¼ˆå…è®¸è§£æå™¨ç»§ç»­ï¼‰
<ul>
<li>e.g., â€œ,â€ â†’ â€œ;â€, delete/insert â€œ;â€</li>
<li>designersâ€™ responsibility</li>
</ul></li>
<li>helpless if error occurs before the point of detection</li>
</ul></li>
<li><strong>Error Productions</strong>
<ul>
<li>augmenting grammar with productions generating erroneous constructs
ï¼ˆç”¨äº§ç”Ÿé”™è¯¯æ„é€ çš„äº§ç”Ÿå¼æ‰©å……è¯­æ³•ï¼‰</li>
<li>relying on designers</li>
</ul></li>
<li><strong>Global Correction</strong>
<ul>
<li>choosing a minimal sequence of changes for a globally least-cost
correction ï¼ˆé€‰æ‹©ä¸€ç³»åˆ—æœ€å°çš„å˜åŒ–ï¼Œä»¥å®ç°å…¨å±€æœ€ä½æˆæœ¬çš„ä¿®æ­£ï¼‰</li>
<li>costly, yardstick? should defined by designers</li>
</ul></li>
</ul>
<h2 id="context-free-grammar-cfg">Context-Free Grammar (CFG)</h2>
<h3 id="definition">Definition</h3>
<ul>
<li>A <strong>Context-Free Grammar</strong> consists of:
<ul>
<li>Terminals</li>
<li>Non-terminals</li>
<li>Start Symbol</li>
<li>Productions: <span class="math inline"><strong>A</strong>â€„â†’â€„<strong>Î±</strong></span>
<ul>
<li>Header / Left Side â†’ Body / Right Side
<ul>
<li>Header: A <strong>Non-terminal</strong></li>
<li>Body: <strong>zero or more Terminals or Non-terminals</strong></li>
</ul></li>
<li><span class="math inline"><strong>V</strong><sub><strong>N</strong></sub>â€„â†’â€„(<strong>V</strong><sub><strong>T</strong></sub>|<strong>V</strong><sub><strong>N</strong></sub>)<sup>*</sup></span></li>
</ul></li>
</ul></li>
</ul>
<h3 id="derivation">Derivation</h3>
<ul>
<li><p><strong>What</strong>: Beginning with the Start Symbol, replace a
Non-terminal by the body of one of its Production.
ï¼ˆä»èµ·å§‹ç¬¦å·å¼€å§‹ï¼Œç”¨å…¶äº§ç”Ÿå¼çš„å³ä¾§æ›¿æ¢éç»ˆç»“ç¬¦ï¼‰</p></li>
<li><p><strong>Why</strong>:</p>
<ul>
<li>corresponding to <strong>Top-down</strong> Construction of a Parse
Tree ï¼ˆå¯¹åº”äºè‡ªé¡¶å‘ä¸‹æ„é€ è§£ææ ‘ï¼‰</li>
<li>helpful for Bottom-up Parsing</li>
</ul></li>
<li><p><strong>How</strong>:</p>
<ul>
<li>$$ : derive in one step</li>
<li>$ $ : derive in zero or more steps
<ul>
<li><span class="math inline">$\alpha \overset{*}{\Rightarrow}
\alpha$</span></li>
<li>if <span class="math inline">$\alpha \overset{*}{\Rightarrow}
\beta$</span> and <span class="math inline">$\beta
\overset{*}{\Rightarrow} \gamma$</span>, then <span class="math inline">$\alpha \overset{*}{\Rightarrow} \gamma$</span></li>
</ul></li>
<li>$ $ : derive in one or more steps</li>
</ul></li>
<li><p><span class="math inline">$\mathbf{S} \overset{*}{\Rightarrow}
\alpha$</span></p>
<ul>
<li><span class="math inline"><em>Î±</em></span> is a <strong>Sentential
Form</strong> of S. ï¼ˆ<span class="math inline"><em>Î±</em></span>æ˜¯Sçš„ä¸€ä¸ªå¥å­å½¢å¼ï¼‰</li>
<li><span class="math inline"><em>Î±</em></span> may contain
<strong>Terminals</strong>, <strong>Non-terminals</strong>, or may be
<strong>Empty</strong>.</li>
<li>Sentence: a Sentential Form without Non-terminals.
ï¼ˆæ²¡æœ‰éç»ˆç»“ç¬¦çš„å¥å­å½¢å¼ï¼‰</li>
</ul></li>
<li><p>What is a <strong>Language</strong>?</p>
<ul>
<li><span class="math inline"><em>L</em>(<em>G</em>)</span>: set of
Sentences generated by the Grammar <span class="math inline"><em>G</em></span></li>
<li>A string of terminals $ L(G) $ if and only if $ $ is a Sentence of $
G $ (or $ S $).</li>
</ul></li>
<li><p><strong>Example</strong>: <img src="image-17.webp" srcset="/img/loading/loading3.gif" lazyload></p></li>
<li><p><strong>Leftmost Derivation</strong>: the Leftmost Non-terminal
is always replaced at first ï¼ˆæœ€å·¦è¾¹çš„éç»ˆç»“ç¬¦æ€»æ˜¯ç¬¬ä¸€ä¸ªè¢«æ›¿æ¢ï¼‰</p>
<ul>
<li>$ $</li>
</ul></li>
<li><p><strong>Rightmost Derivation</strong>: $ $</p></li>
<li><p><strong>Parse Trees and Derivations</strong></p>
<ul>
<li>What: A Graphical Representation of a Derivation ï¼ˆæ´¾ç”Ÿçš„å›¾å½¢è¡¨ç¤ºï¼‰
<ul>
<li>filtering out the order in which productions applied to replace
non-terminals ï¼ˆè¿‡æ»¤å‡ºåº”ç”¨äºæ›¿æ¢éç»ˆç»“ç¬¦çš„äº§ç”Ÿå¼çš„é¡ºåºï¼‰</li>
</ul></li>
<li><strong>Example</strong>ï¼š <img src="image-18.webp" srcset="/img/loading/loading3.gif" lazyload></li>
</ul></li>
</ul>
<h2 id="top-down-parsing">Top-Down Parsing</h2>
<ul>
<li><strong>What</strong>: Create the Parse Tree from Top to Bottom
ï¼ˆä»ä¸Šåˆ°ä¸‹åˆ›å»ºè§£ææ ‘ï¼‰
<ul>
<li>from root to leaves ï¼ˆä»æ ¹åˆ°å¶ï¼‰</li>
</ul></li>
<li><strong>Why</strong>: for Parsing</li>
<li><strong>How</strong>: Derive an Input String in the
<strong>Leftmost</strong> Manner ï¼ˆä»¥æœ€å·¦è¾¹çš„æ–¹å¼æ´¾ç”Ÿè¾“å…¥å­—ç¬¦ä¸²ï¼‰
<ul>
<li>consistent with string scanning ï¼ˆä¸å­—ç¬¦ä¸²æ‰«æä¸€è‡´ï¼‰</li>
<li><strong>Key</strong>: determine the production to be applied for a
non-terminal ï¼ˆç¡®å®šè¦åº”ç”¨äºéç»ˆç»“ç¬¦çš„äº§ç”Ÿå¼ï¼‰</li>
<li><strong>Recursive-Descent Parsing</strong>
<ul>
<li>require <strong>backtracking</strong> to find right production
ï¼ˆéœ€è¦å›æº¯ä»¥æ‰¾åˆ°æ­£ç¡®çš„äº§ç”Ÿå¼ï¼‰</li>
<li>general, but inefficient</li>
</ul></li>
<li><strong>Predictive Parsing</strong>
<ul>
<li>a special case of Recursive-Descent Parsing</li>
<li>no backtracking, choosing by <strong>looking ahead</strong> at input
symbols ï¼ˆæ— éœ€å›æº¯ï¼Œé€šè¿‡æå‰æŸ¥çœ‹è¾“å…¥ç¬¦å·è¿›è¡Œé€‰æ‹©ï¼‰</li>
</ul></li>
</ul></li>
</ul>
<h3 id="recursive-descent-parsing">Recursive-Descent Parsing</h3>
<figure class="shiki java"><div class="codeblock"><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></div><div class="code"><pre class="shiki one-dark-pro"><code><span class="line"><span style="color: #C678DD">void</span><span style="color: #E06C75"> </span><span style="color: #61AFEF">A</span><span style="color: #E06C75">() {</span></span>
<span class="line"><span style="color: #E06C75">    </span><span style="color: #7F848E; font-style: italic">// Choose an A-production, A --&gt; X1 X2 ...Xk;</span></span>
<span class="line"><span style="color: #E06C75">    </span><span style="color: #C678DD">for</span><span style="color: #E06C75"> (i </span><span style="color: #56B6C2">=</span><span style="color: #E06C75"> </span><span style="color: #D19A66">1</span><span style="color: #E06C75"> to k) {</span></span>
<span class="line"><span style="color: #E06C75">        </span><span style="color: #C678DD">if</span><span style="color: #E06C75"> (</span><span style="color: #E5C07B">Xi</span><span style="color: #E06C75"> is a non</span><span style="color: #56B6C2">-</span><span style="color: #E06C75">terminal)</span></span>
<span class="line"><span style="color: #E06C75">            call </span><span style="color: #61AFEF">Xi</span><span style="color: #E06C75">()</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #E06C75">        </span><span style="color: #C678DD">else</span><span style="color: #E06C75"> </span><span style="color: #C678DD">if</span><span style="color: #E06C75"> (</span><span style="color: #E5C07B">Xi</span><span style="color: #E06C75"> equals the current input symbol a)</span></span>
<span class="line"><span style="color: #E06C75">            advance the input to the next symbol</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #E06C75">        </span><span style="color: #C678DD">else</span><span style="color: #E06C75"> </span><span style="color: #ABB2BF">...</span><span style="color: #E06C75"> </span><span style="color: #7F848E; font-style: italic">// an error has occurred</span></span>
<span class="line"><span style="color: #E06C75">    }</span></span>
<span class="line"><span style="color: #E06C75">}</span></span></code></pre></div></div></figure>
<ul>
<li>Example: <img src="image-19.webp" srcset="/img/loading/loading3.gif" lazyload></li>
</ul>
<h4 id="left-recursion-å·¦é€’å½’">Left Recursion ï¼ˆå·¦é€’å½’ï¼‰</h4>
<ul>
<li><strong>What</strong>: The Grammar has a non-terminal A such that
there exists a derivation <span class="math inline">$\mathbf{A}
\overset{+}{\Rightarrow} \mathbf{A} \alpha$</span>
ï¼ˆæ–‡æ³•æœ‰ä¸€ä¸ªéç»ˆç»“ç¬¦Aï¼Œä½¿å¾—å­˜åœ¨ä¸€ä¸ªæ´¾ç”Ÿ<span class="math inline">$\mathbf{A} \overset{+}{\Rightarrow} \mathbf{A}
\alpha$</span>ï¼‰</li>
<li><strong>Why</strong>: Recursive-Descent Parsing cannot handle Left
Recursion. ï¼ˆé€’å½’ä¸‹é™è§£ææ— æ³•å¤„ç†å·¦é€’å½’ï¼‰</li>
<li><strong>How</strong>: Transform the grammar to <strong>eliminate
Left Recursion</strong>. ï¼ˆè½¬æ¢æ–‡æ³•ä»¥æ¶ˆé™¤å·¦é€’å½’ï¼‰
<ul>
<li>==<strong>Immediate Elimination</strong>: <span class="math inline"><strong>A</strong>â€„â†’â€„<strong>A</strong><em>Î±</em>|<em>Î²</em>â€Šâ€â€„â‡’â€„<strong>A</strong>â€„â†’â€„<em>Î²</em><strong>A</strong><sup><strong>â€²</strong></sup>,â€†<strong>A</strong><sup><strong>â€²</strong></sup>â€„â†’â€„<em>Î±</em><strong>A</strong><sup><strong>â€²</strong></sup>|<em>ğ</em></span>==</li>
<li>$ _1 | | _m &nbsp;| &nbsp;_1 | | _n &nbsp; (_1 | | _n) , (_1 | | _m) | $</li>
</ul></li>
<li><strong>Example</strong>: <img src="image-20.webp" srcset="/img/loading/loading3.gif" lazyload></li>
</ul>
<h4 id="left-recursion-elimination-æ¶ˆé™¤å·¦é€’å½’">Left Recursion
Elimination ï¼ˆæ¶ˆé™¤å·¦é€’å½’ï¼‰</h4>
<ul>
<li><strong>INPUT</strong>: Grammar G without Cycles or ğ-productions
ï¼ˆæ— å¾ªç¯æˆ–ğäº§ç”Ÿå¼çš„æ–‡æ³•ï¼‰
<ul>
<li>Cycle: <span class="math inline">$\mathbf{A}
\overset{+}{\Rightarrow} \mathbf{A}$</span></li>
<li>ğ-production: <span class="math inline"><strong>A</strong>â€„â†’â€„<em>Ïµ</em></span></li>
</ul></li>
<li><strong>OUTPUT</strong>: Equivalent Grammar <strong>without Left
Recursions</strong> ï¼ˆæ²¡æœ‰å·¦é€’å½’çš„ç­‰æ•ˆæ–‡æ³•ï¼‰</li>
<li><strong>Steps</strong>: <figure class="shiki javascript"><div class="codeblock"><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></div><div class="code"><pre class="shiki one-dark-pro"><code><span class="line"><span style="color: #E06C75">supposing</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">there</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">are</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">the</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">Non</span><span style="color: #56B6C2">-</span><span style="color: #E06C75">terminals</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">with</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">Order</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">A1</span><span style="color: #ABB2BF">, </span><span style="color: #E5C07B">A2</span><span style="color: #ABB2BF">..., </span><span style="color: #E06C75">An</span></span>
<span class="line"><span style="color: #C678DD">for</span><span style="color: #ABB2BF"> (</span><span style="color: #E06C75">i</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">from</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">to</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">n</span><span style="color: #ABB2BF">) {</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #C678DD">for</span><span style="color: #ABB2BF"> (</span><span style="color: #E06C75">j</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">from</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">to</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">i</span><span style="color: #56B6C2">-</span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">) {</span></span>
<span class="line"><span style="color: #ABB2BF">        </span><span style="color: #E06C75">replace</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">each</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">Ai</span><span style="color: #ABB2BF"> â†’ </span><span style="color: #E06C75">Ajğ›¾</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">by</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">Ai</span><span style="color: #ABB2BF"> â†’ </span><span style="color: #E06C75">ğ›¿1ğ›¾</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">|</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">ğ›¿2ğ›¾</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">|</span><span style="color: #ABB2BF"> ... </span><span style="color: #56B6C2">|</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">ğ›¿ğ‘˜ğ›¾</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">where</span><span style="color: #ABB2BF">:</span></span>
<span class="line"><span style="color: #ABB2BF">            </span><span style="color: #E06C75">Aj</span><span style="color: #ABB2BF">  â†’ </span><span style="color: #E06C75">ğ›¿1</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">|</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">ğ›¿2</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">|</span><span style="color: #ABB2BF"> ... </span><span style="color: #56B6C2">|</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">ğ›¿ğ‘˜</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">are</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">all</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">current</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">Aj</span><span style="color: #56B6C2">-</span><span style="color: #E06C75">productions</span></span>
<span class="line"><span style="color: #ABB2BF">    }</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #E06C75">eliminate</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">the</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">Immediate</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">Left</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">Recursion</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">among</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">the</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">Ai</span><span style="color: #56B6C2">-</span><span style="color: #E06C75">productions</span></span>
<span class="line"><span style="color: #ABB2BF">}</span></span></code></pre></div></div></figure></li>
<li><strong>Example</strong>: <img src="image-21.webp" srcset="/img/loading/loading3.gif" lazyload></li>
</ul>
<h3 id="predictive-parsing">Predictive Parsing</h3>
<ul>
<li><strong>What</strong>: recursive-descent parsers needing no
backtracking ï¼ˆä¸éœ€è¦å›æº¯çš„é€’å½’ä¸‹é™è§£æå™¨ï¼‰
<ul>
<li>can be constructed for LL(k) grammar ï¼ˆå¯ä»¥ä¸ºLL(k)æ–‡æ³•æ„é€ ï¼‰
<ul>
<li><strong>L</strong>: scanning input <strong>from Left to
right</strong></li>
<li><strong>L</strong>: producing a <strong>Leftmost
derivation</strong></li>
<li><strong>k</strong>: using <strong>k input symbols</strong> of
lookahead at each step to make decision</li>
</ul></li>
</ul></li>
<li><strong>Why</strong>: a unique production to apply, or none to use
(error)</li>
<li><strong>Example: LL(1)</strong>
<ul>
<li>stmt â†’ <strong>i</strong>f (expr) stmt else stmt |
<strong>w</strong>hile (expr) stmt | <strong>{</strong> stmt_list}</li>
</ul></li>
<li><strong>How</strong>: FIRST and FOLLOW
<ul>
<li>assist in choosing which production to apply, based on the next
input symbol ï¼ˆæ ¹æ®ä¸‹ä¸€ä¸ªè¾“å…¥ç¬¦å·é€‰æ‹©åº”ç”¨å“ªä¸ªäº§ç”Ÿå¼ï¼‰</li>
</ul></li>
</ul>
<h4 id="first-and-follow">FIRST and FOLLOW</h4>
<ul>
<li><strong>FIRST</strong>: the set of terminals that begin strings
derived from a non-terminal or a string of grammar symbols.
ï¼ˆä»éç»ˆç»“ç¬¦æˆ–è¯­æ³•ç¬¦å·å­—ç¬¦ä¸²æ´¾ç”Ÿçš„å­—ç¬¦ä¸²å¼€å§‹çš„ç»ˆç»“ç¬¦é›†åˆï¼‰
<ul>
<li><strong>FIRST(ğœ¶)</strong>: what the first symbol would be for ğœ¶</li>
<li><strong>ğœ¶</strong>: string of grammar symbols</li>
<li><strong>return</strong>: set of terminals that begin strings derived
from ğœ¶
<ul>
<li>first symbols of strings derived from ğœ¶</li>
</ul></li>
<li><strong>HOW</strong>ï¼š
<ul>
<li>if <span class="math inline"><strong>X</strong></span> is a
terminal, then <span class="math inline"><strong>F</strong><strong>I</strong><strong>R</strong><strong>S</strong><strong>T</strong><strong>(</strong><strong>X</strong><strong>)</strong>â€„=â€„{<strong>X</strong>}</span></li>
<li>if <span class="math inline"><strong>X</strong></span> is a
non-terminal, and <span class="math inline"><strong>X</strong>â€„â†’â€„<strong>Y</strong><sub><strong>1</strong></sub><strong>Y</strong><sub><strong>2</strong></sub>â€¦<strong>Y</strong><sub><strong>k</strong></sub></span>
<ul>
<li>add all <strong>non-ğ</strong> symbols of <span class="math inline"><strong>Y</strong><sub><strong>1</strong></sub></span>
to <span class="math inline"><strong>F</strong><strong>I</strong><strong>R</strong><strong>S</strong><strong>T</strong><strong>(</strong><strong>X</strong><strong>)</strong></span></li>
<li>add all <strong>non-ğ</strong> symbols of <span class="math inline"><strong>Y</strong><sub><strong>2</strong></sub></span>
to <span class="math inline"><strong>F</strong><strong>I</strong><strong>R</strong><strong>S</strong><strong>T</strong><strong>(</strong><strong>X</strong><strong>)</strong></span>,
if <span class="math inline"><em>Ïµ</em>â€„âˆˆâ€„<strong>F</strong><strong>I</strong><strong>R</strong><strong>S</strong><strong>T</strong><strong>(</strong><strong>Y</strong><sub><strong>1</strong></sub><strong>)</strong></span></li>
<li>Â·Â·Â·</li>
<li>add all <strong>non-ğ</strong> symbols of <span class="math inline"><strong>Y</strong><sub><strong>k</strong></sub></span>
to <span class="math inline"><strong>F</strong><strong>I</strong><strong>R</strong><strong>S</strong><strong>T</strong><strong>(</strong><strong>X</strong><strong>)</strong></span>,
if <span class="math inline"><em>Ïµ</em>â€„âˆˆâ€„<strong>F</strong><strong>I</strong><strong>R</strong><strong>S</strong><strong>T</strong><strong>(</strong><strong>Y</strong><sub><strong>1</strong></sub><strong>)</strong></span>
and <span class="math inline"><em>Ïµ</em>â€„âˆˆâ€„<strong>F</strong><strong>I</strong><strong>R</strong><strong>S</strong><strong>T</strong><strong>(</strong><strong>Y</strong><sub><strong>2</strong></sub><strong>)</strong></span>
and Â·Â·Â· and <span class="math inline"><em>Ïµ</em>â€„âˆˆâ€„<strong>F</strong><strong>I</strong><strong>R</strong><strong>S</strong><strong>T</strong><strong>(</strong><strong>Y</strong><sub><strong>k</strong>â€…<strong>âˆ’</strong>â€…<strong>1</strong></sub><strong>)</strong></span></li>
<li>add <strong>ğ</strong> to <span class="math inline"><strong>F</strong><strong>I</strong><strong>R</strong><strong>S</strong><strong>T</strong><strong>(</strong><strong>X</strong><strong>)</strong></span>,
if <span class="math inline"><em>Ïµ</em>â€„âˆˆâ€„<strong>F</strong><strong>I</strong><strong>R</strong><strong>S</strong><strong>T</strong><strong>(</strong><strong>Y</strong><sub><strong>1</strong></sub><strong>)</strong></span>
and <span class="math inline"><em>Ïµ</em>â€„âˆˆâ€„<strong>F</strong><strong>I</strong><strong>R</strong><strong>S</strong><strong>T</strong><strong>(</strong><strong>Y</strong><sub><strong>2</strong></sub><strong>)</strong></span>
and Â·Â·Â· and <span class="math inline"><em>Ïµ</em>â€„âˆˆâ€„<strong>F</strong><strong>I</strong><strong>R</strong><strong>S</strong><strong>T</strong><strong>(</strong><strong>Y</strong><sub><strong>k</strong></sub><strong>)</strong></span></li>
</ul></li>
</ul></li>
<li><strong>Example</strong>: <img src="image-22.webp" srcset="/img/loading/loading3.gif" lazyload></li>
</ul></li>
<li><strong>FOLLOW</strong>: the set of terminals that can appear
immediately to the right of a non-terminal in some sentential form.
ï¼ˆåœ¨æŸäº›å¥å­å½¢å¼ä¸­ï¼Œå¯ä»¥å‡ºç°åœ¨éç»ˆç»“ç¬¦å³ä¾§çš„ç»ˆç»“ç¬¦é›†åˆï¼‰
<ul>
<li><strong>FOLLOW(N)</strong>: what is the next symbol of N</li>
<li><strong>N</strong>: a non-terminal</li>
<li><strong>return</strong>: set of terminals can appear immediately
after N in a sentential form</li>
<li><strong>HOW</strong>:
<ul>
<li>place <strong>$</strong> in <span class="math inline"><strong>F</strong><strong>O</strong><strong>L</strong><strong>L</strong><strong>O</strong><strong>W</strong><strong>(</strong><strong>S</strong><strong>)</strong></span>
<ul>
<li><strong>S</strong>: start symbol</li>
<li><strong>$</strong>: input right end-marker</li>
</ul></li>
<li>for each production <span class="math inline"><strong>M</strong>â€„â†’â€„<em>Î±</em><strong>N</strong><em>Î²</em></span>
<ul>
<li>add all symbols in <span class="math inline"><strong>F</strong><strong>I</strong><strong>R</strong><strong>S</strong><strong>T</strong><strong>(</strong><strong>Î²</strong><strong>)</strong></span>
to <span class="math inline"><strong>F</strong><strong>O</strong><strong>L</strong><strong>L</strong><strong>O</strong><strong>W</strong><strong>(</strong><strong>N</strong><strong>)</strong></span>,
except ğ</li>
<li>if <span class="math inline"><em>Ïµ</em>â€„âˆˆâ€„<strong>F</strong><strong>I</strong><strong>R</strong><strong>S</strong><strong>T</strong><strong>(</strong><strong>Î²</strong><strong>)</strong></span>,
add all symbols in <span class="math inline"><strong>F</strong><strong>O</strong><strong>L</strong><strong>L</strong><strong>O</strong><strong>W</strong><strong>(</strong><strong>M</strong><strong>)</strong></span>
to <span class="math inline"><strong>F</strong><strong>O</strong><strong>L</strong><strong>L</strong><strong>O</strong><strong>W</strong><strong>(</strong><strong>N</strong><strong>)</strong></span></li>
</ul></li>
<li>for each production <span class="math inline"><strong>M</strong>â€„â†’â€„<em>Î±</em><strong>N</strong></span>
<ul>
<li>add all symbols in <span class="math inline"><strong>F</strong><strong>O</strong><strong>L</strong><strong>L</strong><strong>O</strong><strong>W</strong><strong>(</strong><strong>M</strong><strong>)</strong></span>
to <span class="math inline"><strong>F</strong><strong>O</strong><strong>L</strong><strong>L</strong><strong>O</strong><strong>W</strong><strong>(</strong><strong>N</strong><strong>)</strong></span></li>
</ul></li>
</ul></li>
<li><strong>Example</strong>: <img src="image-23.webp" srcset="/img/loading/loading3.gif" lazyload></li>
</ul></li>
</ul>
<h4 id="ll1-grammar">LL(1) Grammar</h4>
<ul>
<li><strong>What</strong>: Any <span class="math inline"><strong>A</strong>â€„â†’â€„<strong>Î±</strong>&nbsp;|&nbsp;<strong>Î²</strong></span>
Represents two Distinct Productions ï¼ˆ<span class="math inline"><strong>A</strong>â€„â†’â€„<strong>Î±</strong>&nbsp;|&nbsp;<strong>Î²</strong></span>è¡¨ç¤ºä¸¤ä¸ªä¸åŒçš„äº§ç”Ÿå¼ï¼‰
<ul>
<li><span class="math inline"><strong>F</strong><strong>I</strong><strong>R</strong><strong>S</strong><strong>T</strong><strong>(</strong><strong>Î±</strong><strong>)</strong></span>
and <span class="math inline"><strong>F</strong><strong>I</strong><strong>R</strong><strong>S</strong><strong>T</strong><strong>(</strong><strong>Î²</strong><strong>)</strong></span>
are disjoint sets.ï¼ˆäºŒè€…æ˜¯äº’ä¸ç›¸äº¤çš„é›†åˆï¼‰
<ul>
<li>For no terminal <span class="math inline"><strong>a</strong></span>,
do both <span class="math inline"><strong>Î±</strong></span> and <span class="math inline"><strong>Î²</strong></span> derive strings beginning
with <span class="math inline"><strong>a</strong></span>.
ï¼ˆäºŒè€…ä¸ä¼šåŒæ—¶æ´¾ç”Ÿä»¥<span class="math inline"><strong>a</strong></span>å¼€å¤´çš„å­—ç¬¦ä¸²ï¼‰</li>
<li>At most one of <span class="math inline"><strong>Î±</strong></span>
and <span class="math inline"><strong>Î²</strong></span> can derive the
empty string. ï¼ˆè‡³å¤šä¸€ä¸ª<span class="math inline"><strong>Î±</strong></span>å’Œ<span class="math inline"><strong>Î²</strong></span>å¯ä»¥æ´¾ç”Ÿç©ºå­—ç¬¦ä¸²ï¼‰</li>
</ul></li>
<li>If <span class="math inline"><strong>Ïµ</strong>â€„âˆˆâ€„<strong>F</strong><strong>I</strong><strong>R</strong><strong>S</strong><strong>T</strong><strong>(</strong><strong>Î²</strong><strong>)</strong></span>,
then <span class="math inline"><strong>F</strong><strong>I</strong><strong>R</strong><strong>S</strong><strong>T</strong><strong>(</strong><strong>Î±</strong><strong>)</strong></span>
and <span class="math inline"><strong>F</strong><strong>O</strong><strong>L</strong><strong>L</strong><strong>O</strong><strong>W</strong><strong>(</strong><strong>A</strong><strong>)</strong></span>
are disjoint sets. ï¼ˆå¦‚æœ<span class="math inline"><strong>Ïµ</strong>â€„âˆˆâ€„<strong>F</strong><strong>I</strong><strong>R</strong><strong>S</strong><strong>T</strong><strong>(</strong><strong>Î²</strong><strong>)</strong></span>ï¼Œåˆ™<span class="math inline"><strong>F</strong><strong>I</strong><strong>R</strong><strong>S</strong><strong>T</strong><strong>(</strong><strong>Î±</strong><strong>)</strong></span>å’Œ<span class="math inline"><strong>F</strong><strong>O</strong><strong>L</strong><strong>L</strong><strong>O</strong><strong>W</strong><strong>(</strong><strong>A</strong><strong>)</strong></span>æ˜¯äº’ä¸ç›¸äº¤çš„é›†åˆï¼‰</li>
</ul></li>
<li><strong>Why</strong>: Proper Production is Selected by Looking
<strong>ONLY</strong> at the Next Input Symbol.
ï¼ˆé€šè¿‡ä»…æŸ¥çœ‹ä¸‹ä¸€ä¸ªè¾“å…¥ç¬¦å·æ¥é€‰æ‹©é€‚å½“çš„äº§ç”Ÿå¼ï¼‰</li>
<li><strong>How</strong>: By Parsing Table, a Two-Dimensional Array
<ul>
<li><span class="math inline"><strong>M</strong><strong>[</strong><strong>A</strong><strong>,</strong>â€†<strong>a</strong><strong>]</strong>â€„=â€„<strong>Î±</strong></span>,
when deriving <span class="math inline"><strong>A</strong></span>, apply
<span class="math inline"><strong>A</strong>â€„â†’â€„<strong>Î±</strong></span>
if coming up with <span class="math inline"><strong>a</strong></span>.
ï¼ˆå½“æ´¾ç”Ÿ<span class="math inline"><strong>A</strong></span>æ—¶ï¼Œå¦‚æœå‡ºç°<span class="math inline"><strong>a</strong></span>ï¼Œåˆ™åº”ç”¨<span class="math inline"><strong>A</strong>â€„â†’â€„<strong>Î±</strong></span>ï¼‰</li>
</ul></li>
</ul>
<h4 id="ll1-parsing">LL(1) Parsing</h4>
<ul>
<li><strong>Predictive Parsing Table Construction</strong>
<ul>
<li><strong>INPUT</strong>: Grammar G.</li>
<li><strong>OUTPUT</strong>: Parsing Table M.</li>
<li><strong>STEPS</strong>: For each production <span class="math inline"><strong>A</strong>â€„â†’â€„<strong>Î±</strong></span>:
<ol type="1">
<li>For each terminal <span class="math inline"><strong>a</strong>â€„âˆˆâ€„<strong>F</strong><strong>I</strong><strong>R</strong><strong>S</strong><strong>T</strong><strong>(</strong><strong>Î±</strong><strong>)</strong></span>,
add <span class="math inline"><strong>A</strong>â€„â†’â€„<strong>Î±</strong></span> to
<span class="math inline"><strong>M</strong><strong>[</strong><strong>A</strong><strong>,</strong>â€†<strong>a</strong><strong>]</strong></span>.</li>
<li>If <span class="math inline"><strong>Ïµ</strong>â€„âˆˆâ€„<strong>F</strong><strong>I</strong><strong>R</strong><strong>S</strong><strong>T</strong><strong>(</strong><strong>Î±</strong><strong>)</strong></span>,
then for each terminal <span class="math inline"><strong>b</strong>â€„âˆˆâ€„<strong>F</strong><strong>O</strong><strong>L</strong><strong>L</strong><strong>O</strong><strong>W</strong><strong>(</strong><strong>A</strong><strong>)</strong></span>,
add <span class="math inline"><strong>A</strong>â€„â†’â€„<strong>Î±</strong></span> to
<span class="math inline"><strong>M</strong><strong>[</strong><strong>A</strong><strong>,</strong>â€†<strong>b</strong><strong>]</strong></span>.</li>
<li>If <span class="math inline"><strong>Ïµ</strong>â€„âˆˆâ€„<strong>F</strong><strong>I</strong><strong>R</strong><strong>S</strong><strong>T</strong><strong>(</strong><strong>Î±</strong><strong>)</strong></span>
and <span class="math inline"><strong>$</strong>â€„âˆˆâ€„<strong>F</strong><strong>O</strong><strong>L</strong><strong>L</strong><strong>O</strong><strong>W</strong><strong>(</strong><strong>A</strong><strong>)</strong></span>,
add <span class="math inline"><strong>A</strong>â€„â†’â€„<strong>Î±</strong></span> to
<span class="math inline"><strong>M</strong><strong>[</strong><strong>A</strong><strong>,</strong>â€†<strong>$</strong><strong>]</strong></span>.</li>
</ol></li>
<li><strong>Example</strong>: <img src="image-24.webp" srcset="/img/loading/loading3.gif" lazyload> <img src="image-25.webp" srcset="/img/loading/loading3.gif" lazyload></li>
</ul></li>
<li><strong>Implementation</strong>
<ul>
<li>Stack-based Method, mimicking a leftmost derivation
ï¼ˆåŸºäºæ ˆçš„æ–¹æ³•ï¼Œæ¨¡ä»¿æœ€å·¦æ´¾ç”Ÿï¼‰</li>
</ul>
<img src="image-26.webp" srcset="/img/loading/loading3.gif" lazyload></li>
</ul>
<h4 id="left-factoring">Left Factoring</h4>
<ul>
<li>When the decision is not clear, defer it until seeing enough
symbols. ï¼ˆå½“å†³ç­–ä¸æ˜ç¡®æ—¶ï¼Œæ¨è¿Ÿåˆ°çœ‹åˆ°è¶³å¤Ÿçš„ç¬¦å·ä¸ºæ­¢ï¼‰</li>
<li><strong>Left-Factored</strong>:
<ul>
<li><span class="math inline"><strong>A</strong>â€„â†’â€„<strong>ğœ¶</strong><strong>ğœ·</strong><sub><strong>1</strong></sub>|<strong>ğœ¶</strong><strong>ğœ·</strong><sub><strong>2</strong></sub>â€Šâ€<em>b</em><em>y</em>â€Šâ€<strong>A</strong>â€„â†’â€„<strong>ğœ¶</strong><strong>A</strong><sup><strong>â€²</strong></sup>,â€†<strong>A</strong><sup><strong>â€²</strong></sup>â€„â†’â€„<strong>ğœ·</strong><sub><strong>1</strong></sub>|<strong>ğœ·</strong><sub><strong>2</strong></sub></span></li>
</ul></li>
<li><strong>How</strong>:
<ul>
<li>For each non-terminal <span class="math inline"><strong>A</strong></span>, find the longest common
prefix <span class="math inline"><strong>ğœ¶</strong></span> of its
alternatives.</li>
<li>If <span class="math inline"><strong>ğœ¶</strong></span> is not empty,
replace all of the <span class="math inline"><strong>A</strong></span>-productions</li>
</ul></li>
<li><strong>Example</strong>:
<ul>
<li><span class="math inline"><strong>A</strong>â€„â†’â€„<strong>ğœ¶</strong><strong>ğœ·</strong><sub><strong>1</strong></sub>|<strong>ğœ¶</strong><strong>ğœ·</strong><sub><strong>2</strong></sub>|...|<strong>ğœ¶</strong><strong>ğœ·</strong><sub><strong>n</strong></sub>|<strong>ğœ¸</strong>â€Šâ€â€Šâ€<em>b</em><em>y</em>â€Šâ€â€Šâ€<strong>A</strong>â€„â†’â€„<strong>ğœ¶</strong><strong>A</strong><sup><strong>â€²</strong></sup>|<em>ğœ¸</em>,â€†<strong>A</strong><sup><strong>â€²</strong></sup>â€„â†’â€„<strong>ğœ·</strong><sub><strong>1</strong></sub>|<strong>ğœ·</strong><sub><strong>2</strong></sub>|...|<strong>ğœ·</strong><sub><strong>n</strong></sub></span></li>
</ul></li>
</ul>
<h4 id="non-ll1-grammar">Non-LL(1) Grammar</h4>
<ul>
<li>Non-LL(1) Grammars:
<ul>
<li>grammars with Left Recursion ï¼ˆå·¦é€’å½’çš„æ–‡æ³•ï¼‰</li>
<li>grammars not Left Factored ï¼ˆæœªå·¦å› å­åŒ–çš„æ–‡æ³•ï¼‰</li>
<li>grammars with Ambiguity ï¼ˆæ­§ä¹‰æ–‡æ³•ï¼‰</li>
</ul></li>
<li>Thus, before Predictive Parsing,
<ul>
<li><strong>perform Left Factoring</strong> ï¼ˆå·¦å› å­åŒ–ï¼‰</li>
<li><strong>eliminate Left Recursion</strong> (prerequisite of the
elimination?) ï¼ˆæ¶ˆé™¤å·¦é€’å½’ï¼‰</li>
<li>remove Ambiguity ï¼ˆæ¶ˆé™¤æ­§ä¹‰ï¼‰</li>
</ul></li>
</ul>
<h2 id="bottom-up-parsing">Bottom-Up Parsing</h2>
<ul>
<li><strong>What</strong>: the construction of a parse tree beginning at
the leaves and working up to the root
ï¼ˆä»å¶å­å¼€å§‹æ„å»ºè§£ææ ‘ï¼Œç›´åˆ°æ ¹ï¼‰</li>
<li><strong>Why</strong>: not all grammars can be made LL(1)</li>
<li><strong>How</strong>: construct rightmost derivation in the reverse
order
<ul>
<li><strong>Reduction</strong>: â€œReversed Derivationâ€ï¼ˆå½’çº¦ï¼šåå‘æ´¾ç”Ÿï¼‰
<ul>
<li>from the string to the start symbol ï¼ˆä»å­—ç¬¦ä¸²åˆ°èµ·å§‹ç¬¦å·ï¼‰</li>
<li>The body of a production is replaced by the non-terminal at its
header. ï¼ˆç”¨äº§ç”Ÿå¼çš„å¤´éƒ¨æ›¿æ¢äº§ç”Ÿå¼çš„ä¸»ä½“ï¼‰</li>
</ul></li>
<li><span class="math inline">$S \overset{rm}{\Rightarrow} \gamma_0
\overset{rm}{\Rightarrow} \gamma_1 \overset{rm}{\Rightarrow} \dots
\overset{rm}{\Rightarrow} \gamma_n \overset{rm}{\Rightarrow}
\omega$</span>
<ul>
<li>find the rightmost derivation in the reverse order: â€œleftmost
reductionâ€ ï¼ˆæ‰¾åˆ°å³ä¾§æ´¾ç”Ÿçš„åå‘é¡ºåºï¼šæœ€å·¦ä¾§å½’çº¦ï¼‰</li>
</ul></li>
<li>â€œ<strong>L</strong>eft-to-Right, <strong>R</strong>ightmost
Derivation in Reverseâ€: <strong>LR Parsing</strong></li>
</ul></li>
<li><strong>Example</strong>ï¼š <img src="image-27.webp" srcset="/img/loading/loading3.gif" lazyload>
<ul>
<li><span class="math inline"><em>E</em>â€„â‡’â€„<em>T</em>â€„â‡’â€„<em>T</em>â€…*â€…<em>F</em>â€„â‡’â€„<em>T</em>â€…*â€…<em>i</em><em>d</em>â€„â‡’â€„<em>F</em>â€…*â€…<em>i</em><em>d</em>â€„â‡’â€„<em>i</em><em>d</em>â€…*â€…<em>i</em><em>d</em></span></li>
</ul></li>
</ul>
<h3 id="handles">Handles</h3>
<ul>
<li><strong>What</strong>: if <span class="math inline">$\mathbf{S}
\overset{*}{\Rightarrow} \mathbf{\alpha A \omega}
\overset{}{\Rightarrow} \mathbf{\alpha \beta \omega}$</span>, then
production <span class="math inline"><strong>A</strong>â€„<strong>â†’</strong>â€„<strong>Î²</strong></span>
in the position following <span class="math inline"><strong>Î±</strong></span> is a
<strong>handle</strong> of <span class="math inline"><strong>Î±</strong><strong>Î²</strong><strong>Ï‰</strong></span>.
<ul>
<li>a substring that matches the body of a production, representing a
step of reduction ï¼ˆä¸äº§ç”Ÿå¼çš„ä¸»ä½“åŒ¹é…çš„å­å­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºå½’çº¦çš„ä¸€æ­¥ï¼‰</li>
<li>a pair of values: <strong>(production, position)</strong></li>
</ul></li>
<li><strong>Why</strong>: handle pruning for bottom-up parsing
ï¼ˆå¤„ç†åº•å‘ä¸Šè§£æçš„å‰ªæï¼‰
<ul>
<li>identify handles and reduce them to the appropriate leftmost
non-terminals ï¼ˆè¯†åˆ«å¥æŸ„å¹¶å°†å…¶å½’çº¦åˆ°é€‚å½“çš„æœ€å·¦éç»ˆç»“ç¬¦ï¼‰</li>
</ul></li>
<li><strong>How</strong>: by using a stack to keep track of the current
position in the input string and the corresponding production rules
ï¼ˆä½¿ç”¨æ ˆæ¥è·Ÿè¸ªè¾“å…¥å­—ç¬¦ä¸²ä¸­çš„å½“å‰ä½ç½®å’Œç›¸åº”çš„äº§ç”Ÿå¼è§„åˆ™ï¼‰</li>
<li><strong>Example</strong>ï¼š <img src="image-28.webp" srcset="/img/loading/loading3.gif" lazyload></li>
</ul>
<h3 id="shift-reduce-parsing-ç§»è¿›å½’çº¦è§£æ">Shift-Reduce Parsing
ï¼ˆç§»è¿›å½’çº¦è§£æï¼‰</h3>
<ul>
<li><strong>How</strong>: Stack + Input Buffer
<ul>
<li><strong>Stack</strong>: reduced Grammar Symbols</li>
<li><strong>Input Buffer</strong>: rest of the String to be parsed</li>
</ul></li>
<li><strong>Actions</strong>
<ul>
<li><strong>Shift</strong>: move the next symbol onto stack</li>
<li><strong>Reduce</strong>: replace the handle on the top of stack</li>
<li><strong>Accept</strong>: announce the success of parsing</li>
<li><strong>Error</strong>: discover syntax errors, and call for
recovery</li>
</ul></li>
<li><strong>Example</strong>: <img src="image-29.webp" srcset="/img/loading/loading3.gif" lazyload></li>
</ul>
<h3 id="operator-precedence-parsing-è¿ç®—ç¬¦ä¼˜å…ˆè§£æ">Operator-Precedence
Parsing ï¼ˆè¿ç®—ç¬¦ä¼˜å…ˆè§£æï¼‰</h3>
<ul>
<li><strong>What</strong>: a shift-reduce parser handling
operator-precedence grammar ï¼ˆå¤„ç†è¿ç®—ç¬¦ä¼˜å…ˆæ–‡æ³•çš„ç§»ä½å½’çº¦è§£æå™¨ï¼‰
<ul>
<li>operator-precedence grammar: a subset of LR(1) grammar
ï¼ˆè¿ç®—ç¬¦ä¼˜å…ˆæ–‡æ³•ï¼šLR(1)æ–‡æ³•çš„ä¸€ä¸ªå­é›†ï¼‰</li>
<li>for each Production:
<ul>
<li>no ğ in the body ï¼ˆä¸»ä½“ä¸­æ²¡æœ‰ç©ºå­—ç¬¦ï¼‰</li>
<li>no two consecutive non-terminals in the body
ï¼ˆåœ¨ä¸»ä½“ä¸­æ²¡æœ‰ä¸¤ä¸ªè¿ç»­çš„éç»ˆç»“ç¬¦ï¼‰</li>
</ul></li>
</ul></li>
<li><strong>Why</strong>: to handle expressions with operator precedence
and associativity ï¼ˆå¤„ç†å…·æœ‰è¿ç®—ç¬¦ä¼˜å…ˆçº§å’Œç»“åˆæ€§çš„è¡¨è¾¾å¼ï¼‰</li>
<li><strong>How</strong>: find handles according precedence
<ul>
<li><strong>Precedence</strong> ï¼ˆä¼˜å…ˆçº§ï¼‰
<ul>
<li><span class="math inline"><strong>a</strong>â€„&lt;â€„Â·<strong>b</strong></span>:
aâ€™s precedence is lower than bâ€™s</li>
<li><span class="math inline"><strong>a</strong>â€„=â€„Â·<strong>b</strong></span>: â€¦
is equal to â€¦</li>
<li><span class="math inline"><strong>a</strong>â€„&gt;â€„Â·<strong>b</strong></span>:
â€¦ is higher than â€¦</li>
</ul></li>
<li><strong>Precedence Climbing Method</strong> ï¼ˆä¼˜å…ˆçº§çˆ¬å‡æ³•ï¼‰
<ul>
<li>scan the input <strong>from Left to Right</strong> until &gt;Â· is
encountered</li>
<li>then, scan <strong>backward</strong> until &lt;Â· is encountered</li>
<li>that between &lt;Â· and &gt;Â· is the <strong>handle</strong></li>
</ul></li>
<li><strong>Implementation with STACK</strong> (æ ˆå®ç°)
<ul>
<li>let <span class="math inline"><strong>a</strong></span> be the
<strong>top Terminal</strong> on the STACK ï¼ˆæ ˆé¡¶ç»ˆç»“ç¬¦ï¼‰</li>
<li>let <span class="math inline"><strong>b</strong></span> be the INPUT
Symbol under processing ï¼ˆæ­£åœ¨å¤„ç†çš„è¾“å…¥ç¬¦å·ï¼‰</li>
<li>if <span class="math inline"><strong>a</strong>â€„&lt;â€„Â·<em>o</em><em>r</em>â€„=â€„Â·<strong>b</strong></span>,
<strong>Shift</strong></li>
<li>else if <span class="math inline"><strong>a</strong>â€„&gt;â€„Â·<strong>b</strong></span>,
<strong>Reduce</strong></li>
</ul></li>
</ul></li>
<li><strong>Example</strong>: <img src="image-30.webp" srcset="/img/loading/loading3.gif" lazyload> <img src="image-31.webp" srcset="/img/loading/loading3.gif" lazyload></li>
</ul>
<h3 id="opp-precedence-relation-construction-ä¼˜å…ˆçº§å…³ç³»æ„é€ ">OPP:
Precedence Relation Construction ï¼ˆä¼˜å…ˆçº§å…³ç³»æ„é€ ï¼‰</h3>
<h4 id="precedence-relation">Precedence Relation</h4>
<ul>
<li>If operator <span class="math inline"><strong>a</strong></span> has
higher precedence than <span class="math inline"><strong>b</strong></span>
<ul>
<li><span class="math inline"><strong>a</strong>â€„&gt;â€„Â·<strong>b</strong></span></li>
<li><span class="math inline"><strong>b</strong>â€„&lt;â€„Â·<strong>a</strong></span></li>
</ul></li>
<li>If <span class="math inline"><strong>a</strong></span> and <span class="math inline"><strong>b</strong></span> has equal precedence
<ul>
<li>if left-associative, then <span class="math inline"><strong>a</strong>â€„&gt;â€„Â·<strong>b</strong></span>
and <span class="math inline"><strong>b</strong>â€„&gt;â€„Â·<strong>a</strong></span></li>
<li>if right-associative, then <span class="math inline"><strong>a</strong>â€„&lt;â€„Â·<strong>b</strong></span>
and <span class="math inline"><strong>b</strong>â€„&lt;â€„Â·<strong>a</strong></span></li>
</ul></li>
<li>For all operator <span class="math inline"><strong>a</strong></span>
<ul>
<li><span class="math inline"><strong>a</strong>â€„&lt;â€„Â·<em>i</em><em>d</em>,â€Šâ€<em>i</em><em>d</em>â€„&gt;â€„Â·<strong>a</strong></span></li>
<li><span class="math inline">$â€„&lt;â€„Â·<strong>a</strong>,â€Šâ€<strong>a</strong>â€„&gt;â€„Â·$</span></li>
<li><span class="math inline"><strong>a</strong>â€„&lt;â€„Â·(,â€Šâ€(â€„&lt;â€„Â·<strong>a</strong>,â€Šâ€<strong>a</strong>â€„&gt;â€„Â·),â€Šâ€)â€„&gt;â€„Â·<strong>a</strong></span></li>
<li><span class="math inline">(â€„=â€„Â·)</span></li>
</ul></li>
</ul>
<h4 id="leading-and-trailing">LEADING and TRAILING</h4>
<ul>
<li><strong>LEADING</strong>: the set of symbols that can appear at the
beginning of a string derived from a non-terminal
ï¼ˆå¯ä»¥å‡ºç°åœ¨ä»éç»ˆç»“ç¬¦æ´¾ç”Ÿçš„å­—ç¬¦ä¸²å¼€å¤´çš„ç¬¦å·é›†åˆï¼‰
<ul>
<li><span class="math inline">$\mathbf{LEADING(Q)} = \{\mathbf{Y},
\mathbf{N} \ | \ \mathbf{Q} \overset{+}{\Rightarrow} \mathbf{Y\delta} \
or\  \mathbf{Q} \overset{+}{\Rightarrow} \mathbf{N Y \delta}, \mathbf{N}
\in \mathbf{V_n}, \mathbf{Y} \in \mathbf{V_t}\}$</span></li>
<li>for <span class="math inline"><strong>Q</strong>â€„â†’â€„<strong>Y</strong><strong>Î´</strong></span>
or <span class="math inline"><strong>Q</strong>â€„â†’â€„<strong>N</strong><strong>Y</strong><strong>Î´</strong></span>,
we have:
<ul>
<li><span class="math inline"><strong>Y</strong>,â€†<strong>N</strong>â€„âˆˆâ€„<strong>L</strong><strong>E</strong><strong>A</strong><strong>D</strong><strong>I</strong><strong>N</strong><strong>G</strong><strong>(</strong><strong>Q</strong><strong>)</strong></span></li>
<li><span class="math inline"><strong>L</strong><strong>E</strong><strong>A</strong><strong>D</strong><strong>I</strong><strong>N</strong><strong>G</strong><strong>(</strong><strong>N</strong><strong>)</strong>â€„âŠ†â€„<strong>L</strong><strong>E</strong><strong>A</strong><strong>D</strong><strong>I</strong><strong>N</strong><strong>G</strong><strong>(</strong><strong>Q</strong><strong>)</strong></span></li>
</ul></li>
</ul></li>
<li><strong>TRAILING</strong>: the set of symbols that can appear at the
end of a string derived from a non-terminal
ï¼ˆå¯ä»¥å‡ºç°åœ¨ä»éç»ˆç»“ç¬¦æ´¾ç”Ÿçš„å­—ç¬¦ä¸²æœ«å°¾çš„ç¬¦å·é›†åˆï¼‰
<ul>
<li><span class="math inline">$\mathbf{TRAILING(P)} = \{\mathbf{X},
\mathbf{N} \ | \ \mathbf{P} \overset{+}{\Rightarrow} \mu \mathbf{X} \ or
\ \mathbf{P} \overset{+}{\Rightarrow} \mu \mathbf{X} \mathbf{N},
\mathbf{N} \in \mathbf{V_n}, \mathbf{X} \in \mathbf{V_t}\}$</span></li>
<li>for <span class="math inline"><strong>P</strong>â€„â†’â€„<em>Î¼</em><strong>X</strong></span>
or <span class="math inline"><strong>P</strong>â€„â†’â€„<em>Î¼</em><strong>X</strong><strong>N</strong></span>,
we have:
<ul>
<li><span class="math inline"><strong>X</strong>,â€†<strong>N</strong>â€„âˆˆâ€„<strong>T</strong><strong>R</strong><strong>A</strong><strong>I</strong><strong>L</strong><strong>I</strong><strong>N</strong><strong>G</strong><strong>(</strong><strong>P</strong><strong>)</strong></span></li>
<li><span class="math inline"><strong>T</strong><strong>R</strong><strong>A</strong><strong>I</strong><strong>L</strong><strong>I</strong><strong>N</strong><strong>G</strong><strong>(</strong><strong>N</strong><strong>)</strong>â€„âŠ†â€„<strong>T</strong><strong>R</strong><strong>A</strong><strong>I</strong><strong>L</strong><strong>I</strong><strong>N</strong><strong>G</strong><strong>(</strong><strong>P</strong><strong>)</strong></span></li>
</ul></li>
</ul></li>
<li><strong>Example</strong>: <img src="image-32.webp" srcset="/img/loading/loading3.gif" lazyload></li>
</ul>
<h4 id="constructing-precedence-relations">Constructing Precedence
Relations</h4>
<ul>
<li><span class="math display"><strong>X</strong>â€„=â€„Â·<strong>Y</strong></span>
<ul>
<li>if there is <span class="math inline"><strong>A</strong>â€„â†’â€„<strong>Î±</strong><strong>X</strong><strong>Y</strong><strong>Î²</strong></span>,
where <span class="math inline"><strong>X</strong>,â€†<strong>Y</strong>â€„âˆˆâ€„<strong>V</strong></span>,
<span class="math inline"><strong>Î±</strong>,â€†<strong>Î²</strong>â€„âˆˆâ€„<strong>V</strong><sup><strong>*</strong></sup></span></li>
<li>or, there is <span class="math inline"><strong>A</strong>â€„â†’â€„<strong>Î±</strong><strong>X</strong><strong>N</strong><strong>Y</strong><strong>Î²</strong></span>,
where <span class="math inline"><strong>N</strong>â€„âˆˆâ€„<strong>V</strong><sub><strong>n</strong></sub>â€…âˆªâ€…{<strong>Ïµ</strong>}</span>,
<span class="math inline"><strong>X</strong>,â€†<strong>Y</strong>â€„âˆˆâ€„<strong>V</strong><sub><strong>t</strong></sub></span>
<ul>
<li>adjacent symbols have equal precedence ï¼ˆç›¸é‚»ç¬¦å·å…·æœ‰ç›¸ç­‰çš„ä¼˜å…ˆçº§ï¼‰
<ul>
<li>at least one of them is a terminal ï¼ˆè‡³å°‘æœ‰ä¸€ä¸ªæ˜¯ç»ˆç»“ç¬¦ï¼‰</li>
</ul></li>
<li>e.g., <span class="math inline"><strong>E</strong>â€…+â€…<strong>T</strong></span>,
<span class="math inline"><strong>T</strong>â€…*â€…<strong>F</strong></span>,
<span class="math inline"><strong>E</strong>+â€„=â€„<strong>T</strong></span></li>
</ul></li>
</ul></li>
<li><span class="math display"><strong>X</strong>â€„&lt;â€„Â·<strong>Y</strong></span>
<ul>
<li>if there is <span class="math inline"><strong>A</strong>â€„â†’â€„<strong>Î±</strong><strong>X</strong><strong>Q</strong><strong>Î²</strong></span>,
and <span class="math inline">$\mathbf{Q} \overset{+}{\Rightarrow}
\mathbf{Y \delta}$</span>, where <span class="math inline"><strong>X</strong>,â€†<strong>Y</strong>â€„âˆˆâ€„<strong>V</strong></span>,
<span class="math inline"><strong>Q</strong>â€„âˆˆâ€„<strong>V</strong><sub><strong>n</strong></sub></span>,
<span class="math inline"><strong>Î±</strong>,â€†<strong>Î²</strong>,â€†<strong>Î´</strong>â€„âˆˆâ€„<strong>V</strong><sup><strong>*</strong></sup></span></li>
<li>or, there is <span class="math inline"><strong>A</strong>â€„â†’â€„<strong>Î±</strong><strong>X</strong><strong>Q</strong><strong>Î²</strong></span>,
and <span class="math inline">$\mathbf{Q} \overset{+}{\Rightarrow}
\mathbf{N Y \delta}$</span>, where <span class="math inline"><strong>N</strong>â€„âˆˆâ€„<strong>V</strong><sub><strong>n</strong></sub>â€…âˆªâ€…{<strong>Ïµ</strong>}</span>,
<span class="math inline"><strong>X</strong>,â€†<strong>Y</strong>â€„âˆˆâ€„<strong>V</strong><sub><strong>t</strong></sub></span>
<ul>
<li><span class="math inline">$\mathbf{LEADING(Q)} = \{\mathbf{Y},
\mathbf{N} \ | \ \mathbf{Q} \overset{+}{\Rightarrow} \mathbf{Y\delta} \
or\  \mathbf{Q} \overset{+}{\Rightarrow} \mathbf{N Y \delta}\}$</span>
<ul>
<li>for <span class="math inline"><strong>A</strong>â€„â†’â€„<strong>Î±</strong><strong>X</strong><strong>Q</strong><strong>Î²</strong></span>,
we have <span class="math inline"><strong>X</strong></span> &lt;Â·
Symbols in <span class="math inline"><strong>L</strong><strong>E</strong><strong>A</strong><strong>D</strong><strong>I</strong><strong>N</strong><strong>G</strong><strong>(</strong><strong>Q</strong><strong>)</strong></span></li>
</ul></li>
</ul></li>
</ul></li>
<li><span class="math display"><strong>X</strong>â€„&gt;â€„Â·<strong>Y</strong></span>
<ul>
<li>if there is <span class="math inline"><strong>A</strong>â€„â†’â€„<em>Î±</em><strong>P</strong><strong>Y</strong><em>Î²</em></span>,
and <span class="math inline">$\mathbf{P} \overset{+}{\Rightarrow} \mu
\mathbf{X}$</span>, where <span class="math inline"><strong>X</strong>,â€†<strong>Y</strong>â€„âˆˆâ€„<strong>V</strong></span>,
<span class="math inline"><strong>P</strong>â€„âˆˆâ€„<strong>V</strong><sub><strong>n</strong></sub></span>,
<span class="math inline"><em>Î±</em>,â€†<em>Î²</em>,â€†<em>Î¼</em>â€„âˆˆâ€„<strong>V</strong><sup>*</sup></span></li>
<li>or, there is <span class="math inline"><strong>A</strong>â€„â†’â€„<em>Î±</em><strong>P</strong><strong>Y</strong><em>Î²</em></span>,
and <span class="math inline">$\mathbf{P} \overset{+}{\Rightarrow} \mu
\mathbf{X} \mathbf{N}$</span>, where <span class="math inline"><strong>N</strong>â€„âˆˆâ€„<strong>V</strong><sub><strong>n</strong></sub>â€…âˆªâ€…{<em>Ïµ</em>}</span>,
<span class="math inline"><strong>P</strong>â€„âˆˆâ€„<strong>V</strong><sub><strong>n</strong></sub></span>,
<span class="math inline"><strong>X</strong>,â€†<strong>Y</strong>â€„âˆˆâ€„<strong>V</strong><sub><strong>T</strong></sub></span></li>
<li><span class="math inline">$\mathbf{TRAILING(P)} = \{\mathbf{X},
\mathbf{N} \ | \ \mathbf{P} \overset{+}{\Rightarrow} \mu \mathbf{X} \
\text{or} \ \mathbf{P} \overset{+}{\Rightarrow} \mu \mathbf{X}
\mathbf{N}\}$</span>
<ul>
<li>for <span class="math inline"><strong>A</strong>â€„â†’â€„<em>Î±</em><strong>P</strong><strong>Y</strong><em>Î²</em></span>,
we have Symbols in <span class="math inline"><strong>T</strong><strong>R</strong><strong>A</strong><strong>I</strong><strong>L</strong><strong>I</strong><strong>N</strong><strong>G</strong><strong>(</strong><strong>P</strong><strong>)</strong>â€„&gt;â€„Â·<strong>Y</strong></span></li>
</ul></li>
</ul></li>
</ul>
<h4 id="precedence-table">Precedence Table</h4>
<ul>
<li><strong>Steps</strong>ï¼š
<ul>
<li>for each production <span class="math inline"><strong>A</strong>â€„â†’â€„<strong>X</strong><sub><strong>1</strong></sub><strong>X</strong><sub><strong>2</strong></sub><strong>â€¦</strong><strong>X</strong><sub><strong>k</strong></sub></span>:
<ul>
<li>for each <span class="math inline"><strong>X</strong></span>
<ul>
<li>if <span class="math inline"><strong>X</strong><sub><strong>i</strong></sub>â€„âˆˆâ€„<strong>V</strong><sub><strong>t</strong></sub></span>
and <span class="math inline"><strong>X</strong><sub><strong>i</strong>â€…<strong>+</strong>â€…<strong>1</strong></sub>â€„âˆˆâ€„<strong>V</strong><sub><strong>t</strong></sub></span>,
then <span class="math inline"><strong>X</strong><sub><strong>i</strong></sub>â€„=â€„Â·<strong>X</strong><sub><strong>i</strong>â€…<strong>+</strong>â€…<strong>1</strong></sub></span></li>
<li>if <span class="math inline"><strong>X</strong><sub><strong>i</strong></sub>â€„âˆˆâ€„<strong>V</strong><sub><strong>t</strong></sub></span>
and <span class="math inline"><strong>X</strong><sub><strong>i</strong>â€…<strong>+</strong>â€…<strong>2</strong></sub>â€„âˆˆâ€„<strong>V</strong><sub><strong>t</strong></sub></span>
and <span class="math inline"><strong>X</strong><sub><strong>i</strong>â€…<strong>+</strong>â€…<strong>1</strong></sub>â€„âˆˆâ€„<strong>V</strong><sub><strong>n</strong></sub></span>,
then <span class="math inline"><strong>X</strong><sub><strong>i</strong></sub>â€„=â€„Â·<strong>X</strong><sub><strong>i</strong>â€…<strong>+</strong>â€…<strong>2</strong></sub></span></li>
<li>if <span class="math inline"><strong>X</strong><sub><strong>i</strong></sub>â€„âˆˆâ€„<strong>V</strong><sub><strong>t</strong></sub></span>
and <span class="math inline"><strong>X</strong><sub><strong>i</strong>â€…<strong>+</strong>â€…<strong>1</strong></sub>â€„âˆˆâ€„<strong>V</strong><sub><strong>n</strong></sub></span>,
then <span class="math inline"><strong>X</strong><sub><strong>i</strong></sub>â€„&lt;â€„Â·<strong>L</strong><strong>E</strong><strong>A</strong><strong>D</strong><strong>I</strong><strong>N</strong><strong>G</strong><strong>(</strong><strong>X</strong><sub><strong>i</strong>â€…<strong>+</strong>â€…<strong>1</strong></sub><strong>)</strong></span></li>
<li>if <span class="math inline"><strong>X</strong><sub><strong>i</strong></sub>â€„âˆˆâ€„<strong>V</strong><sub><strong>n</strong></sub></span>
and <span class="math inline"><strong>X</strong><sub><strong>i</strong>â€…<strong>+</strong>â€…<strong>1</strong></sub>â€„âˆˆâ€„<strong>V</strong><sub><strong>t</strong></sub></span>,
then <span class="math inline"><strong>X</strong><sub><strong>i</strong></sub>â€„=â€„Â·<strong>X</strong><sub><strong>i</strong>â€…<strong>+</strong>â€…<strong>1</strong></sub></span>
and <span class="math inline"><strong>T</strong><strong>R</strong><strong>A</strong><strong>I</strong><strong>L</strong><strong>I</strong><strong>N</strong><strong>G</strong><strong>(</strong><strong>X</strong><sub><strong>i</strong></sub><strong>)</strong>â€„&gt;â€„Â·<strong>X</strong><sub><strong>i</strong>â€…<strong>+</strong>â€…<strong>1</strong></sub></span></li>
</ul></li>
</ul></li>
<li>for the Start Symbol <span class="math inline"><strong>S</strong></span>:
<ul>
<li><span class="math inline">$â€„&lt;â€„Â·<strong>L</strong><strong>E</strong><strong>A</strong><strong>D</strong><strong>I</strong><strong>N</strong><strong>G</strong><strong>(</strong><strong>S</strong><strong>)</strong></span></li>
<li><span class="math inline"><strong>T</strong><strong>R</strong><strong>A</strong><strong>I</strong><strong>L</strong><strong>I</strong><strong>N</strong><strong>G</strong><strong>(</strong><strong>S</strong><strong>)</strong>â€„&gt;â€„Â·$</span></li>
</ul></li>
</ul></li>
<li><strong>Example</strong>: <img src="image-33.webp" srcset="/img/loading/loading3.gif" lazyload></li>
</ul>
<h3 id="opp-some-more">OPP: Some More</h3>
<ul>
<li>Unary Minus vs.&nbsp;Binary Minus ï¼ˆä¸€å…ƒè´Ÿå·ä¸äºŒå…ƒè´Ÿå·ï¼‰</li>
<li>Leave It to Scanners ï¼ˆç•™ç»™æ‰«æå™¨ï¼‰
<ul>
<li>return two different tokens for the two
ï¼ˆè¿”å›ä¸¤ä¸ªä¸åŒçš„tokensï¼‰</li>
<li>lookahead is required ï¼ˆéœ€è¦å‘å‰çœ‹ï¼‰</li>
</ul></li>
<li>OPPs are not used often in practice ï¼ˆè¿ç®—ç¬¦ä¼˜å…ˆçº§åœ¨å®è·µä¸­ä¸å¸¸ç”¨ï¼‰
<ul>
<li>limited scenarios and applications ï¼ˆæœ‰é™çš„åœºæ™¯å’Œåº”ç”¨ï¼‰</li>
<li>but, simple -&gt; part of a complex parsing system
ï¼ˆä½†ç®€å•ï¼Œæ˜¯å¤æ‚è§£æç³»ç»Ÿçš„ä¸€éƒ¨åˆ†ï¼‰</li>
</ul></li>
</ul>
<h2 id="lr-parsing">LR Parsing</h2>
<ul>
<li><strong>What</strong>:
<ul>
<li>left-to-right scanning</li>
<li>rightmost derivation in reverse</li>
</ul></li>
<li><strong>Why</strong>
<ul>
<li>can recognize virtually all programming languages of context-free
grammars ï¼ˆå‡ ä¹å¯ä»¥è¯†åˆ«æ‰€æœ‰ä¸Šä¸‹æ–‡æ— å…³æ–‡æ³•çš„ç¼–ç¨‹è¯­è¨€ï¼‰</li>
<li>is the most general non-backtracking shift-reduce parsing method
known ï¼ˆå·²çŸ¥çš„æœ€é€šç”¨çš„éå›æº¯ç§»ä½å½’çº¦è§£ææ–¹æ³•ï¼‰
<ul>
<li>yet is still efficient ï¼ˆä»ç„¶é«˜æ•ˆï¼‰</li>
</ul></li>
<li>can detect a syntax error as soon as possible
ï¼ˆå°½å¿«æ£€æµ‹è¯­æ³•é”™è¯¯ï¼‰</li>
<li>is a proper superset of the predictive parsing
ï¼ˆæ˜¯é¢„æµ‹è§£æçš„é€‚å½“è¶…é›†ï¼‰</li>
</ul></li>
</ul>
<h3 id="lr0-parsing">LR(0) Parsing</h3>
<h4 id="items-and-the-lr0-automaton">Items and the LR(0) Automaton</h4>
<ul>
<li><strong>Problem</strong>: when to shift and when to reduce?
<ul>
<li>how to decide whether that on the top of the stack is a handle?
ï¼ˆå¦‚ä½•åˆ¤æ–­æ ˆé¡¶çš„å¥æŸ„ï¼Ÿï¼‰</li>
</ul></li>
<li><strong>LR(0) Items</strong>: a production with a dot at some
position in its body ï¼ˆLR(0) é¡¹ç›®ï¼šåœ¨å…¶ä¸»ä½“çš„æŸä¸ªä½ç½®æœ‰ä¸€ä¸ªç‚¹çš„äº§ç”Ÿå¼ï¼‰
<ul>
<li>prefixes of a valid production, indicating how much we have seen at
the point ï¼ˆæœ‰æ•ˆäº§ç”Ÿå¼çš„å‰ç¼€ï¼ŒæŒ‡ç¤ºæˆ‘ä»¬åœ¨è¯¥ç‚¹ä¸Šå·²ç»çœ‹åˆ°å¤šå°‘ï¼‰</li>
<li>e.g.&nbsp;<span class="math inline"><strong>A</strong>â€„â†’â€„<strong>X</strong><strong>Y</strong><strong>Z</strong></span>
yields four itemsï¼ˆä¾‹å¦‚<span class="math inline"><strong>A</strong>â€„â†’â€„<strong>X</strong><strong>Y</strong><strong>Z</strong></span>äº§ç”Ÿå››ä¸ªé¡¹ï¼‰ï¼š
<ul>
<li><span class="math inline"><strong>A</strong>â€„â†’â€„â‹…<strong>X</strong><strong>Y</strong><strong>Z</strong></span>:
hope to see <span class="math inline"><strong>X</strong><strong>Y</strong><strong>Z</strong></span>
next on the input</li>
<li><span class="math inline"><strong>A</strong>â€„â†’â€„<strong>X</strong>â€…â‹…â€…<strong>Y</strong><strong>Z</strong></span>:
hope to see <span class="math inline"><strong>Y</strong><strong>Z</strong></span> next on
the input</li>
<li><span class="math inline"><strong>A</strong>â€„â†’â€„<strong>X</strong><strong>Y</strong>â€…â‹…â€…<strong>Z</strong></span>:
hope to see <span class="math inline"><strong>Z</strong></span> next on
the input</li>
<li><span class="math inline"><strong>A</strong>â€„â†’â€„<strong>X</strong><strong>Y</strong><strong>Z</strong>â‹…</span>:
hope to see nothing next on the input</li>
</ul></li>
<li>kind of state + transition â†’ automaton</li>
</ul></li>
<li><strong>Kernel and Non-Kernel Items</strong>
<ul>
<li><strong>Kernel Items</strong>: the Initial Item + those whose dots
are not at the left</li>
<li><strong>Non-Kernel Items</strong>: Otherwise</li>
</ul></li>
<li><strong>LR(0) Automaton</strong>: <strong>CLOSURE + GOTO</strong>
<ul>
<li><strong>CLOSURE</strong>: set of <strong>Items</strong>
ï¼ˆé¡¹é›†çš„é—­åŒ…ï¼‰</li>
<li><strong>GOTO</strong>: the <strong>Transition Function</strong>
ï¼ˆè½¬æ¢å‡½æ•°ï¼‰</li>
</ul></li>
</ul>
<h4 id="closure-and-goto">CLOSURE and GOTO</h4>
<ul>
<li><span class="math inline"><strong>C</strong><strong>L</strong><strong>O</strong><strong>S</strong><strong>U</strong><strong>R</strong><strong>E</strong><strong>(</strong><strong>I</strong><strong>)</strong></span>:
<ul>
<li><span class="math inline"><strong>I</strong></span>: a set of Items
for a grammar <span class="math inline"><strong>G</strong></span>ï¼ˆæ–‡æ³•<span class="math inline"><strong>G</strong></span>çš„é¡¹é›†ï¼‰</li>
<li>construct by two rules:
<ol type="1">
<li>every Item in <span class="math inline"><strong>I</strong></span> is
added in to <span class="math inline"><strong>C</strong><strong>L</strong><strong>O</strong><strong>S</strong><strong>U</strong><strong>R</strong><strong>E</strong><strong>(</strong><strong>I</strong><strong>)</strong></span>
ï¼ˆ<span class="math inline"><strong>I</strong></span>ä¸­çš„æ¯ä¸ªé¡¹ç›®éƒ½æ·»åŠ åˆ°<span class="math inline"><strong>C</strong><strong>L</strong><strong>O</strong><strong>S</strong><strong>U</strong><strong>R</strong><strong>E</strong><strong>(</strong><strong>I</strong><strong>)</strong></span>ä¸­ï¼‰</li>
<li>if <span class="math inline"><strong>A</strong>â€„â†’â€„<strong>Î±</strong>â€…â‹…â€…<strong>B</strong><strong>Î²</strong></span>
is in <span class="math inline"><strong>C</strong><strong>L</strong><strong>O</strong><strong>S</strong><strong>U</strong><strong>R</strong><strong>E</strong><strong>(</strong><strong>I</strong><strong>)</strong></span>
and <span class="math inline"><strong>B</strong>â€„â†’â€„<strong>Î³</strong></span> is a
production of <span class="math inline"><strong>G</strong></span>, then
add <span class="math inline"><strong>B</strong>â€„â†’â€„â‹…<strong>Î³</strong></span> to
<span class="math inline"><strong>C</strong><strong>L</strong><strong>O</strong><strong>S</strong><strong>U</strong><strong>R</strong><strong>E</strong><strong>(</strong><strong>I</strong><strong>)</strong></span>
ï¼ˆå¦‚æœ<span class="math inline"><strong>A</strong>â€„â†’â€„<strong>Î±</strong>â€…â‹…â€…<strong>B</strong><strong>Î²</strong></span>åœ¨<span class="math inline"><strong>C</strong><strong>L</strong><strong>O</strong><strong>S</strong><strong>U</strong><strong>R</strong><strong>E</strong><strong>(</strong><strong>I</strong><strong>)</strong></span>ä¸­ï¼Œå¹¶ä¸”<span class="math inline"><strong>B</strong>â€„â†’â€„<strong>Î³</strong></span>æ˜¯<span class="math inline"><strong>G</strong></span>çš„ä¸€ä¸ªäº§ç”Ÿå¼ï¼Œåˆ™å°†<span class="math inline"><strong>B</strong>â€„â†’â€„â‹…<strong>Î³</strong></span>æ·»åŠ åˆ°<span class="math inline"><strong>C</strong><strong>L</strong><strong>O</strong><strong>S</strong><strong>U</strong><strong>R</strong><strong>E</strong><strong>(</strong><strong>I</strong><strong>)</strong></span>ä¸­ï¼‰</li>
</ol></li>
<li><strong>Example</strong>: <img src="image-34.webp" srcset="/img/loading/loading3.gif" lazyload></li>
</ul></li>
<li><span class="math inline"><strong>G</strong><strong>O</strong><strong>T</strong><strong>O</strong><strong>(</strong><strong>I</strong><strong>,</strong>â€†<strong>X</strong><strong>)</strong></span>:
<ul>
<li><span class="math inline"><strong>I</strong></span>: a set of Items
for a grammar <span class="math inline"><strong>G</strong></span>
ï¼ˆæ–‡æ³•<span class="math inline"><strong>G</strong></span>çš„é¡¹é›†ï¼‰</li>
<li><span class="math inline"><strong>X</strong></span>: a grammar
symbol ï¼ˆæ–‡æ³•ç¬¦å·ï¼‰</li>
<li>the closure of the set of items [<span class="math inline"><strong>A</strong>â€„â†’â€„<strong>Î±</strong><strong>X</strong>â€…â‹…â€…<strong>Î²</strong></span>]
such that [<span class="math inline"><strong>A</strong>â€„â†’â€„<strong>Î±</strong>â€…â‹…â€…<strong>X</strong><strong>Î²</strong></span>]
is in <span class="math inline"><strong>I</strong></span> ï¼ˆ<span class="math inline"><strong>G</strong><strong>O</strong><strong>T</strong><strong>O</strong><strong>(</strong><strong>I</strong><strong>,</strong>â€†<strong>X</strong><strong>)</strong></span>æ˜¯<span class="math inline"><strong>I</strong></span>ä¸­æ‰€æœ‰å½¢å¦‚[<span class="math inline"><strong>A</strong>â€„â†’â€„<strong>Î±</strong>â€…â‹…â€…<strong>X</strong><strong>Î²</strong></span>]çš„é¡¹æ‰€å¯¹åº”çš„é¡¹[<span class="math inline"><strong>A</strong>â€„â†’â€„<strong>Î±</strong><strong>X</strong>â€…â‹…â€…<strong>Î²</strong></span>]çš„é›†åˆçš„é—­åŒ…ï¼‰
<ul>
<li>the transition from the state for <span class="math inline"><strong>I</strong></span> under input <span class="math inline"><strong>X</strong></span> ï¼ˆåœ¨è¾“å…¥<span class="math inline"><strong>X</strong></span>ä¸‹ï¼Œ<span class="math inline"><strong>I</strong></span>çš„çŠ¶æ€è½¬æ¢ï¼‰</li>
</ul></li>
<li>construct by
<ol type="1">
<li>for each Item <span class="math inline"><strong>A</strong>â€„â†’â€„<strong>Î±</strong>â€…â‹…â€…<strong>X</strong><strong>Î²</strong></span>
in <span class="math inline"><strong>I</strong></span></li>
<li>then every Item in <span class="math inline"><strong>C</strong><strong>L</strong><strong>O</strong><strong>S</strong><strong>U</strong><strong>R</strong><strong>E</strong><strong>(</strong><strong>A</strong>â€„<strong>â†’</strong>â€„<strong>Î±</strong><strong>X</strong>â€…<strong>â‹…</strong>â€…<strong>Î²</strong><strong>)</strong></span>
is added to <span class="math inline"><strong>G</strong><strong>O</strong><strong>T</strong><strong>O</strong><strong>(</strong><strong>I</strong><strong>,</strong>â€†<strong>X</strong><strong>)</strong></span></li>
</ol></li>
<li><strong>Example</strong>: <img src="image-35.webp" srcset="/img/loading/loading3.gif" lazyload></li>
</ul></li>
</ul>
<h4 id="automaton-construction">Automaton Construction</h4>
<ul>
<li><strong>INPUT</strong>: a grammar <span class="math inline"><strong>G</strong></span></li>
<li><strong>OUTPUT</strong>: a LR(0) automaton</li>
<li><strong>Construction</strong>:
<ol type="1">
<li>augment <span class="math inline"><strong>G</strong></span> to <span class="math inline"><strong>G</strong><sup><strong>â€²</strong></sup></span>
by adding a new start symbol <span class="math inline"><strong>S</strong><sup><strong>â€²</strong></sup></span>
and production <span class="math inline"><strong>S</strong><sup><strong>â€²</strong></sup>â€„â†’â€„<strong>S</strong></span>
ï¼ˆé€šè¿‡æ·»åŠ æ–°çš„èµ·å§‹ç¬¦å·<span class="math inline"><strong>S</strong><sup><strong>â€²</strong></sup></span>å’Œäº§ç”Ÿå¼<span class="math inline"><strong>S</strong><sup><strong>â€²</strong></sup>â€„â†’â€„<strong>S</strong></span>æ‰©å±•æ–‡æ³•<span class="math inline"><strong>G</strong></span>è‡³<span class="math inline"><strong>G</strong><sup><strong>â€²</strong></sup></span>ï¼‰</li>
<li><span class="math inline"><strong>C</strong></span>:= {<span class="math inline"><strong>C</strong><strong>L</strong><strong>O</strong><strong>S</strong><strong>U</strong><strong>R</strong><strong>E</strong><strong>(</strong><strong>S</strong><sup><strong>â€²</strong></sup>â€„<strong>â†’</strong>â€„<strong>â‹…</strong><strong>S</strong><strong>)</strong></span>}
ï¼ˆå…ˆæ±‚<span class="math inline"><strong>C</strong><strong>L</strong><strong>O</strong><strong>S</strong><strong>U</strong><strong>R</strong><strong>E</strong><strong>(</strong><strong>S</strong><sup><strong>â€²</strong></sup>â€„<strong>â†’</strong>â€„<strong>â‹…</strong><strong>S</strong><strong>)</strong></span>ï¼Œä½œä¸ºé—­åŒ…çš„é›†åˆ<span class="math inline"><strong>C</strong></span>ä¸­çš„ç¬¬ä¸€ä¸ªé—­åŒ…ï¼‰</li>
<li>repeat:
<ul>
<li>for each Item <span class="math inline"><strong>I</strong></span> in
<span class="math inline"><strong>C</strong></span> and each grammar
symbol <span class="math inline"><strong>X</strong></span> in <span class="math inline"><strong>G</strong><sup><strong>â€²</strong></sup></span>
ï¼ˆå¯¹<span class="math inline"><strong>C</strong></span>ä¸­æ¯ä¸ªé¡¹ç›®<span class="math inline"><strong>I</strong></span>å’Œ<span class="math inline"><strong>G</strong><sup><strong>â€²</strong></sup></span>ä¸­çš„æ¯ä¸ªæ–‡æ³•ç¬¦å·<span class="math inline"><strong>X</strong></span>ï¼‰
<ul>
<li>if <span class="math inline"><strong>G</strong><strong>O</strong><strong>T</strong><strong>O</strong><strong>(</strong><strong>I</strong><strong>,</strong>â€†<strong>X</strong><strong>)</strong></span>
is not empty and not in <span class="math inline"><strong>C</strong></span> ï¼ˆå¦‚æœ<span class="math inline"><strong>G</strong><strong>O</strong><strong>T</strong><strong>O</strong><strong>(</strong><strong>I</strong><strong>,</strong>â€†<strong>X</strong><strong>)</strong></span>ä¸ä¸ºç©ºä¸”ä¸åœ¨<span class="math inline"><strong>C</strong></span>ä¸­ï¼Œæ³¨æ„<span class="math inline"><strong>G</strong><strong>O</strong><strong>T</strong><strong>O</strong><strong>(</strong><strong>I</strong><strong>,</strong>â€†<strong>X</strong><strong>)</strong></span>æ˜¯é¡¹é›†<span class="math inline"><strong>I</strong></span>åœ¨è¾“å…¥ç¬¦å·<span class="math inline"><strong>X</strong></span>ä¸‹çš„è½¬æ¢çš„é—­åŒ…ï¼‰
<ul>
<li>add <span class="math inline"><strong>G</strong><strong>O</strong><strong>T</strong><strong>O</strong><strong>(</strong><strong>I</strong><strong>,</strong>â€†<strong>X</strong><strong>)</strong></span>
to <span class="math inline"><strong>C</strong></span></li>
</ul></li>
</ul></li>
</ul></li>
<li>until no new Items are added to <span class="math inline"><strong>C</strong></span></li>
</ol></li>
<li><strong>Example</strong>: <img src="image-36.webp" srcset="/img/loading/loading3.gif" lazyload></li>
</ul>
<h4 id="parsing-table-construction">Parsing Table Construction</h4>
<ul>
<li><strong>LR(0) Parsing Table <span class="math inline">ğ•‹</span></strong>:
<ul>
<li><strong>Rows</strong>: <strong>states</strong></li>
<li><strong>Columns</strong>: <strong>grammar symbols</strong>
<ul>
<li><strong>terminals</strong> for <span class="math inline"><strong>S</strong><strong>H</strong><strong>I</strong><strong>F</strong><strong>T</strong></span>
and <span class="math inline"><strong>R</strong><strong>E</strong><strong>D</strong><strong>U</strong><strong>C</strong><strong>E</strong></span>
actions</li>
<li><strong>non-terminals</strong> for <span class="math inline"><strong>G</strong><strong>O</strong><strong>T</strong><strong>O</strong></span>
actions</li>
</ul></li>
<li><strong>Construction</strong>: each edge <span class="math inline"><strong>X</strong></span>: <span class="math inline">(<em>s</em><sub><em>m</em></sub>,â€†<em>s</em><sub><em>n</em></sub>)</span>
ï¼ˆå¯¹äºæ¯æ¡è¾¹<span class="math inline"><strong>X</strong></span>ï¼Œ<span class="math inline">(<em>s</em><sub><em>m</em></sub>,â€†<em>s</em><sub><em>n</em></sub>)</span>ä¸ºå…¶èµ·å§‹å’Œç»ˆæ­¢çŠ¶æ€ï¼ŒXä¸ºæ–‡æ³•ç¬¦å·ï¼‰
<ul>
<li>if <span class="math inline"><strong>X</strong></span> is a
<strong>terminal</strong> <span class="math inline"><strong>a</strong></span>, then <span class="math inline">ğ•‹[<em>s</em><sub><em>m</em></sub>,â€†<em>a</em>]â€„=â€„<strong>S</strong><strong>H</strong><strong>I</strong><strong>F</strong><strong>T</strong>&nbsp;<em>n</em></span>
ï¼ˆè®°ä½œs nï¼‰</li>
<li>if <span class="math inline"><strong>X</strong></span> is a
<strong>non-terminal</strong> <span class="math inline"><strong>A</strong></span>, then <span class="math inline">ğ•‹[<em>s</em><sub><em>m</em></sub>,â€†<em>A</em>]â€„=â€„<strong>G</strong><strong>O</strong><strong>T</strong><strong>O</strong>&nbsp;<em>n</em></span>
ï¼ˆè®°ä½œnï¼‰</li>
<li>if <span class="math inline"><strong>A</strong>â€„â†’â€„<strong>Î²</strong>â‹…</span> is
in <span class="math inline"><em>s</em><sub><em>m</em></sub></span>,
then for each <strong>terminal</strong> <span class="math inline"><strong>a</strong></span>, <span class="math inline">ğ•‹[<em>s</em><sub><em>m</em></sub>,â€†<em>a</em>]â€„=â€„<strong>R</strong><strong>E</strong><strong>D</strong><strong>U</strong><strong>C</strong><strong>E</strong>&nbsp;<strong>A</strong>â€„â†’â€„<strong>Î²</strong></span>
ï¼ˆè®°ä½œr nï¼Œå…¶ä¸­næ˜¯äº§ç”Ÿå¼çš„ç¼–å·ï¼Œç”¨ç½—é©¬æ•°å­—è¡¨ç¤ºï¼‰</li>
<li>if <span class="math inline"><strong>S</strong><sup><strong>â€²</strong></sup>â€„â†’â€„<strong>S</strong>â‹…</span>
is in <span class="math inline"><em>s</em><sub><em>m</em></sub></span>,
then for each <strong>terminal</strong> <span class="math inline"><strong>a</strong></span>, <span class="math inline">ğ•‹[<em>s</em><sub><em>m</em></sub>,â€†<em>a</em>]â€„=â€„<strong>A</strong><strong>C</strong><strong>C</strong><strong>E</strong><strong>P</strong><strong>T</strong></span>
ï¼ˆè®°ä½œa/accï¼‰</li>
</ul></li>
<li><img src="image-37.webp" srcset="/img/loading/loading3.gif" lazyload></li>
</ul></li>
<li><strong>Example</strong>: <img src="image-38.webp" srcset="/img/loading/loading3.gif" lazyload> &gt;
æ³¨ï¼šåœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼ŒçŠ¶æ€1ã€2ã€9å‡å­˜åœ¨ç§»è¿›-å½’çº¦å†²çªï¼Œå› æ­¤ä¸å±äºLR(0)æ–‡æ³•ã€‚</li>
</ul>
<h4 id="alogrithm-and-implementation-ç®—æ³•ä¸å®ç°">Alogrithm and
Implementation ï¼ˆç®—æ³•ä¸å®ç°ï¼‰</h4>
<ul>
<li><p><strong>INPUT</strong>: an input string <span class="math inline"><strong>Ï‰</strong></span> and an LR-parsing table
<span class="math inline">ğ•‹</span> for a grammar <span class="math inline"><strong>G</strong></span></p></li>
<li><p><strong>OUTPUT</strong>: if <span class="math inline"><strong>Ï‰</strong>â€„âˆˆâ€„<strong>L</strong><strong>(</strong><strong>G</strong><strong>)</strong></span>,
the reduction steps of a bottom-up parse for <span class="math inline"><strong>Ï‰</strong></span></p></li>
<li><p><strong>STEPS</strong>: </p><figure class="shiki java"><div class="codeblock"><div class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></div><div class="code"><pre class="shiki one-dark-pro"><code><span class="line"><span style="color: #E06C75">let a be the first symbol of ğœ”$ </span><span style="color: #7F848E; font-style: italic">//è®¾aæ˜¯è¾“å…¥å­—ç¬¦ä¸²ğœ”$çš„ç¬¬ä¸€ä¸ªç¬¦å·</span></span>
<span class="line"><span style="color: #E06C75">push state </span><span style="color: #D19A66">0</span><span style="color: #E06C75"> onto the stack </span><span style="color: #7F848E; font-style: italic">//å°†çŠ¶æ€0æ¨å…¥æ ˆä¸­</span></span>
<span class="line"><span style="color: #C678DD">while</span><span style="color: #E06C75"> (</span><span style="color: #D19A66">1</span><span style="color: #E06C75">) {</span></span>
<span class="line"><span style="color: #E06C75">    let s be the state on top of the stack </span><span style="color: #7F848E; font-style: italic">//è®¾sæ˜¯æ ˆé¡¶çš„çŠ¶æ€</span></span>
<span class="line"><span style="color: #E06C75">    </span><span style="color: #C678DD">if</span><span style="color: #E06C75"> (</span><span style="color: #E5C07B">ACTION</span><span style="color: #E06C75">[s</span><span style="color: #ABB2BF">,</span><span style="color: #E06C75"> a] </span><span style="color: #56B6C2">=</span><span style="color: #E06C75"> shift t) { </span><span style="color: #7F848E; font-style: italic">//å¦‚æœACTION[s, a] = shift t</span></span>
<span class="line"><span style="color: #E06C75">        push t onto the stack </span><span style="color: #7F848E; font-style: italic">//å°†tæ¨å…¥æ ˆä¸­</span></span>
<span class="line"><span style="color: #E06C75">        let a be the next input symbol </span><span style="color: #7F848E; font-style: italic">//è®¾aæ˜¯ä¸‹ä¸€ä¸ªè¾“å…¥ç¬¦å·</span></span>
<span class="line"><span style="color: #E06C75">    }</span></span>
<span class="line"><span style="color: #E06C75">    </span><span style="color: #C678DD">else</span><span style="color: #E06C75"> </span><span style="color: #C678DD">if</span><span style="color: #E06C75"> (</span><span style="color: #E5C07B">ACTION</span><span style="color: #E06C75">[s</span><span style="color: #ABB2BF">,</span><span style="color: #E06C75"> a] </span><span style="color: #56B6C2">=</span><span style="color: #E06C75"> reduce Aâ†’ğ›½) { </span><span style="color: #7F848E; font-style: italic">//å¦‚æœACTION[s, a] = reduce Aâ†’ğ›½</span></span>
<span class="line"><span style="color: #E06C75">        pop </span><span style="color: #56B6C2">|</span><span style="color: #E06C75">ğ›½</span><span style="color: #56B6C2">|</span><span style="color: #E06C75"> symbols off the stack </span><span style="color: #7F848E; font-style: italic">//ä»æ ˆä¸­å¼¹å‡º|ğ›½|ï¼ˆğ›½åŒ…å«çš„ç¬¦å·æ•°ï¼‰ä¸ªçŠ¶æ€</span></span>
<span class="line"><span style="color: #E06C75">        let t be the top of the stack now </span><span style="color: #7F848E; font-style: italic">//è®¾tæ˜¯æ ˆé¡¶çš„çŠ¶æ€</span></span>
<span class="line"><span style="color: #E06C75">        push </span><span style="color: #E5C07B">GOTO</span><span style="color: #E06C75">[t</span><span style="color: #ABB2BF">,</span><span style="color: #E06C75"> A] onto the stack </span><span style="color: #7F848E; font-style: italic">//å°†GOTO[t, A]æ¨å…¥æ ˆä¸­</span></span>
<span class="line"><span style="color: #E06C75">    }</span></span>
<span class="line"><span style="color: #E06C75">    </span><span style="color: #C678DD">else</span><span style="color: #E06C75"> </span><span style="color: #C678DD">if</span><span style="color: #E06C75"> (</span><span style="color: #E5C07B">ACTION</span><span style="color: #E06C75">[s</span><span style="color: #ABB2BF">,</span><span style="color: #E06C75"> a] </span><span style="color: #56B6C2">=</span><span style="color: #E06C75"> accept) </span><span style="color: #C678DD">break</span><span style="color: #E06C75"> </span><span style="color: #7F848E; font-style: italic">//å¦‚æœACTION[s, a] = acceptï¼Œåˆ™ç»“æŸ</span></span>
<span class="line"><span style="color: #E06C75">    </span><span style="color: #C678DD">else</span><span style="color: #E06C75"> call error</span><span style="color: #56B6C2">-</span><span style="color: #E06C75">handling routine</span></span>
<span class="line"><span style="color: #E06C75">}</span></span></code></pre></div></div></figure><p></p></li>
<li><p><strong>Example</strong>: <img src="image-39.webp" srcset="/img/loading/loading3.gif" lazyload></p></li>
</ul>
<h4 id="lr0-conflicts">LR(0) Conflicts</h4>
<ul>
<li><strong>Reduce-Reduce Conflicts</strong>:
<ul>
<li>state has two reduce items</li>
<li>e.g.&nbsp;<span class="math inline"><strong>A</strong>â€„â†’â€„<strong>Î±</strong>â‹…</span> and
<span class="math inline"><strong>B</strong>â€„â†’â€„<strong>Î²</strong>â‹…</span></li>
</ul></li>
<li><strong>Shift-Reduce Conflicts</strong>:
<ul>
<li>state has a reduce item and a shift item</li>
<li>e.g.&nbsp;<span class="math inline"><strong>A</strong>â€„â†’â€„<strong>Î±</strong>â€…â‹…â€…<strong>k</strong><strong>Î³</strong></span>
and <span class="math inline"><strong>B</strong>â€„â†’â€„<strong>Î²</strong>â‹…</span></li>
</ul></li>
<li>To avoid conflicts: <strong>SLR(1) Parsing</strong></li>
</ul>
<h3 id="slr1-parsing">SLR(1) Parsing</h3>
<h4 id="parsing-table-construction-1">Parsing Table Construction</h4>
<ul>
<li><strong>LR(0) Parsing Table</strong> <span class="math inline">ğ•‹</span> <span class="math inline">â‡’</span>
<strong>SLR(1) Parsing Table</strong> <span class="math inline">ğ•‹</span>
<ul>
<li><strong>Rows</strong>: <strong>states</strong></li>
<li><strong>Columns</strong>: <strong>grammar symbols</strong>
<ul>
<li><strong>terminals</strong> for <span class="math inline"><strong>S</strong><strong>H</strong><strong>I</strong><strong>F</strong><strong>T</strong></span>
and <span class="math inline"><strong>R</strong><strong>E</strong><strong>D</strong><strong>U</strong><strong>C</strong><strong>E</strong></span>
actions</li>
<li><strong>non-terminals</strong> for <span class="math inline"><strong>G</strong><strong>O</strong><strong>T</strong><strong>O</strong></span>
actions</li>
</ul></li>
<li><strong>Construction</strong>: each edge <span class="math inline"><strong>X</strong></span>: <span class="math inline">(<em>s</em><sub><em>m</em></sub>,â€†<em>s</em><sub><em>n</em></sub>)</span>
<ul>
<li>if <span class="math inline"><strong>X</strong></span> is a
<strong>terminal</strong> <span class="math inline"><strong>a</strong></span>, then <span class="math inline">ğ•‹[<em>s</em><sub><em>m</em></sub>,â€†<em>a</em>]â€„=â€„<strong>S</strong><strong>H</strong><strong>I</strong><strong>F</strong><strong>T</strong>&nbsp;<em>n</em></span></li>
<li>if <span class="math inline"><strong>X</strong></span> is a
<strong>non-terminal</strong> <span class="math inline"><strong>A</strong></span>, then <span class="math inline">ğ•‹[<em>s</em><sub><em>m</em></sub>,â€†<em>A</em>]â€„=â€„<strong>G</strong><strong>O</strong><strong>T</strong><strong>O</strong>&nbsp;<em>n</em></span></li>
<li>if <span class="math inline"><strong>A</strong>â€„â†’â€„<strong>Î²</strong>â‹…</span> is
in <span class="math inline"><em>s</em><sub><em>m</em></sub></span>,
then for each <strong>terminal</strong> <span class="math inline"><strong>a</strong>â€„âˆˆâ€„<strong>F</strong><strong>O</strong><strong>L</strong><strong>L</strong><strong>O</strong><strong>W</strong><strong>(</strong><strong>A</strong><strong>)</strong></span>,
<span class="math inline">ğ•‹[<em>s</em><sub><em>m</em></sub>,â€†<em>a</em>]â€„=â€„<strong>R</strong><strong>E</strong><strong>D</strong><strong>U</strong><strong>C</strong><strong>E</strong>&nbsp;<strong>A</strong>â€„â†’â€„<strong>Î²</strong></span>
ï¼ˆåªå¯¹<span class="math inline"><strong>F</strong><strong>O</strong><strong>L</strong><strong>L</strong><strong>O</strong><strong>W</strong><strong>(</strong><strong>A</strong><strong>)</strong></span>ä¸­çš„ç»ˆç»“ç¬¦è¿›è¡Œå½’çº¦ï¼‰</li>
<li>if <span class="math inline"><strong>S</strong><sup><strong>â€²</strong></sup>â€„â†’â€„<strong>S</strong>â‹…</span>
is in <span class="math inline"><em>s</em><sub><em>m</em></sub></span>,
then <span class="math inline">ğ•‹[<em>s</em><sub><em>m</em></sub>,â€†$]â€„=â€„<strong>A</strong><strong>C</strong><strong>C</strong><strong>E</strong><strong>P</strong><strong>T</strong></span>
ï¼ˆåªå¯¹$è¿›è¡Œå½’çº¦ï¼‰</li>
</ul></li>
</ul></li>
<li><strong>Example</strong>: <img src="image-40.webp" srcset="/img/loading/loading3.gif" lazyload></li>
</ul>
<h4 id="slr1-conflicts">SLR(1) Conflicts</h4>
<ul>
<li><strong>Reduce-Reduce Conflicts</strong>:
<ul>
<li>state has two reduce items</li>
<li>e.g.&nbsp;<span class="math inline"><strong>A</strong>â€„â†’â€„<strong>Î±</strong>â‹…</span> and
<span class="math inline"><strong>B</strong>â€„â†’â€„<strong>Î²</strong>â‹…</span>
<ul>
<li>if <span class="math inline"><strong>F</strong><strong>O</strong><strong>L</strong><strong>L</strong><strong>O</strong><strong>W</strong><strong>(</strong><strong>A</strong><strong>)</strong>â€…âˆ©â€…<strong>F</strong><strong>O</strong><strong>L</strong><strong>L</strong><strong>O</strong><strong>W</strong><strong>(</strong><strong>B</strong><strong>)</strong>â€„=â€„âˆ…</span>,
safe for SLR(1) ï¼ˆå¦‚æœ<span class="math inline"><strong>F</strong><strong>O</strong><strong>L</strong><strong>L</strong><strong>O</strong><strong>W</strong><strong>(</strong><strong>A</strong><strong>)</strong>â€…âˆ©â€…<strong>F</strong><strong>O</strong><strong>L</strong><strong>L</strong><strong>O</strong><strong>W</strong><strong>(</strong><strong>B</strong><strong>)</strong>â€„=â€„âˆ…</span>ï¼Œåˆ™SLR(1)å®‰å…¨ï¼‰</li>
</ul></li>
</ul></li>
<li><strong>Shift-Reduce Conflicts</strong>:
<ul>
<li>state has a reduce item and a shift item</li>
<li>e.g.&nbsp;<span class="math inline"><strong>A</strong>â€„â†’â€„<strong>Î±</strong>â€…â‹…â€…<strong>k</strong><strong>Î³</strong></span>
and <span class="math inline"><strong>B</strong>â€„â†’â€„<strong>Î²</strong>â‹…</span>
<ul>
<li>if <span class="math inline"><strong>k</strong>â€„âˆ‰â€„<strong>F</strong><strong>O</strong><strong>L</strong><strong>L</strong><strong>O</strong><strong>W</strong><strong>(</strong><strong>B</strong><strong>)</strong></span>,
safe for SLR(1) ï¼ˆå¦‚æœ<span class="math inline"><strong>k</strong>â€„âˆ‰â€„<strong>F</strong><strong>O</strong><strong>L</strong><strong>L</strong><strong>O</strong><strong>W</strong><strong>(</strong><strong>B</strong><strong>)</strong></span>ï¼Œåˆ™SLR(1)å®‰å…¨ï¼‰</li>
</ul></li>
</ul></li>
</ul>
<h3 id="lr1-parsing">LR(1) Parsing</h3>
<ul>
<li><strong>How</strong>: check the <strong>immediate</strong> following
symbols of non-terminals for reduction
ï¼ˆæ£€æŸ¥éç»ˆç»“ç¬¦çš„ç›´æ¥åç»­ç¬¦å·ä»¥è¿›è¡Œå½’çº¦ï¼‰</li>
<li><strong>LR(1) Item</strong> = [<strong>LR(0) Item</strong>,
<strong>Following Symbol</strong>]
<ul>
<li>e.g.&nbsp;<span class="math inline">[<strong>A</strong>â€„â†’â€„<strong>X</strong><strong>Y</strong>â€…â‹…â€…<strong>Z</strong>,â€†<strong>a</strong>]</span></li>
<li>where <span class="math inline"><strong>a</strong></span> is the
following <strong>terminal</strong> symbol of <span class="math inline"><strong>A</strong></span> ï¼ˆ<span class="math inline"><strong>a</strong></span>æ˜¯<span class="math inline"><strong>A</strong></span>çš„åç»­ç»ˆç»“ç¬¦ï¼‰</li>
<li>when <span class="math inline"><strong>Z</strong></span> is not
empty, the same as LR(0) Item ï¼ˆå½“<span class="math inline"><strong>Z</strong></span>ä¸ä¸ºç©ºæ—¶ï¼Œä¸LR(0)é¡¹ç›¸åŒï¼‰</li>
<li>otherwise, <span class="math inline"><strong>A</strong>â€„â†’â€„<strong>X</strong><strong>Y</strong>â€…â‹…â€…<strong>Z</strong></span>
is applied only when the next input symbol is <span class="math inline"><strong>a</strong></span>
ï¼ˆå¦åˆ™ï¼Œåªæœ‰åœ¨ä¸‹ä¸€ä¸ªè¾“å…¥ç¬¦å·ä¸º<span class="math inline"><strong>a</strong></span>æ—¶æ‰åº”ç”¨<span class="math inline"><strong>A</strong>â€„â†’â€„<strong>X</strong><strong>Y</strong>â€…â‹…â€…<strong>Z</strong></span>ï¼‰
<ul>
<li>instead of SLR(1)â€™s ALL <span class="math inline"><strong>A</strong></span>â€™s following symbols, let
along LR(0)â€™s ALL terminal symbols ï¼ˆè€Œä¸æ˜¯SLR(1)çš„æ‰€æœ‰<span class="math inline"><strong>A</strong></span>çš„åç»­ç¬¦å·ï¼Œç”šè‡³LR(0)çš„æ‰€æœ‰ç»ˆç»“ç¬¦ï¼‰</li>
</ul></li>
</ul></li>
</ul>
<h4 id="lr1s-closure-and-goto">LR(1)â€™s CLOSURE and GOTO</h4>
<ul>
<li><strong>LR(1)â€™s <span class="math inline"><strong>C</strong><strong>L</strong><strong>O</strong><strong>S</strong><strong>U</strong><strong>R</strong><strong>E</strong><strong>(</strong><strong>I</strong><strong>)</strong></span></strong>
<ul>
<li>every Item in <span class="math inline"><strong>I</strong></span> is
added in to <span class="math inline"><strong>C</strong><strong>L</strong><strong>O</strong><strong>S</strong><strong>U</strong><strong>R</strong><strong>E</strong><strong>(</strong><strong>I</strong><strong>)</strong></span></li>
<li>repeat:
<ul>
<li>if <span class="math inline">[<strong>A</strong>â€„â†’â€„<strong>Î±</strong>â€…â‹…â€…<strong>B</strong><strong>Î²</strong>,â€†<strong>a</strong>]</span>
is in <span class="math inline"><strong>C</strong><strong>L</strong><strong>O</strong><strong>S</strong><strong>U</strong><strong>R</strong><strong>E</strong><strong>(</strong><strong>I</strong><strong>)</strong></span>
and <span class="math inline"><strong>B</strong>â€„â†’â€„<strong>Î³</strong></span> is a
production of <span class="math inline"><strong>G</strong></span>, then
for each terminal <span class="math inline"><strong>b</strong></span> in
<span class="math inline"><strong>F</strong><strong>I</strong><strong>R</strong><strong>S</strong><strong>T</strong><strong>(</strong><strong>Î²</strong><strong>a</strong><strong>)</strong></span>,
add <span class="math inline">[<strong>B</strong>â€„â†’â€„â‹…<strong>Î³</strong>,â€†<strong>b</strong>]</span>
into <span class="math inline"><strong>C</strong><strong>L</strong><strong>O</strong><strong>S</strong><strong>U</strong><strong>R</strong><strong>E</strong><strong>(</strong><strong>I</strong><strong>)</strong></span></li>
<li>until no more new Items can be added into <span class="math inline"><strong>C</strong><strong>L</strong><strong>O</strong><strong>S</strong><strong>U</strong><strong>R</strong><strong>E</strong><strong>(</strong><strong>I</strong><strong>)</strong></span></li>
</ul></li>
<li>only reduce <span class="math inline"><strong>B</strong></span> when
it is followed by that in <span class="math inline"><strong>F</strong><strong>I</strong><strong>R</strong><strong>S</strong><strong>T</strong><strong>(</strong><strong>Î²</strong><strong>a</strong><strong>)</strong></span>
ï¼ˆä»…åœ¨åé¢è·Ÿç€<span class="math inline"><strong>F</strong><strong>I</strong><strong>R</strong><strong>S</strong><strong>T</strong><strong>(</strong><strong>Î²</strong><strong>a</strong><strong>)</strong></span>ä¸­çš„é¡¹æ—¶æ‰å½’çº¦<span class="math inline"><strong>B</strong></span>ï¼‰</li>
</ul></li>
<li><strong>LR(1)â€™s <span class="math inline"><strong>G</strong><strong>O</strong><strong>T</strong><strong>O</strong><strong>(</strong><strong>I</strong><strong>,</strong>â€†<strong>B</strong><strong>)</strong></span></strong>
<ul>
<li>if <span class="math inline">[<strong>A</strong>â€„â†’â€„<strong>Î±</strong>â€…â‹…â€…<strong>B</strong><strong>Î²</strong>,â€†<strong>a</strong>]</span>
in <span class="math inline"><strong>I</strong></span></li>
<li>then every Item in <span class="math inline"><strong>C</strong><strong>L</strong><strong>O</strong><strong>S</strong><strong>U</strong><strong>R</strong><strong>E</strong><strong>(</strong><strong>{</strong><strong>[</strong><strong>A</strong>â€„<strong>â†’</strong>â€„<strong>Î±</strong><strong>B</strong>â€…<strong>â‹…</strong>â€…<strong>Î²</strong><strong>,</strong>â€†<strong>a</strong><strong>]</strong><strong>}</strong><strong>)</strong></span>
is in <span class="math inline"><strong>G</strong><strong>O</strong><strong>T</strong><strong>O</strong><strong>(</strong><strong>I</strong><strong>,</strong>â€†<strong>B</strong><strong>)</strong></span>
<ul>
<li><span class="math inline"><strong>G</strong><strong>O</strong><strong>T</strong><strong>O</strong><strong>(</strong><strong>I</strong><strong>,</strong>â€†<strong>B</strong><strong>)</strong>â€„âŠ‡â€„<strong>C</strong><strong>L</strong><strong>O</strong><strong>S</strong><strong>U</strong><strong>R</strong><strong>E</strong><strong>(</strong><strong>{</strong><strong>[</strong><strong>A</strong>â€„<strong>â†’</strong>â€„<strong>Î±</strong><strong>B</strong>â€…<strong>â‹…</strong>â€…<strong>Î²</strong><strong>,</strong>â€†<strong>a</strong><strong>]</strong><strong>}</strong><strong>)</strong></span>
<ul>
<li></li>
</ul></li>
<li><strong>Those of Kernel Items inherited from the previous
state</strong> ï¼ˆä»å‰ä¸€ä¸ªçŠ¶æ€ç»§æ‰¿çš„å†…æ ¸é¡¹ï¼‰</li>
</ul></li>
</ul></li>
<li><strong>Example</strong>: <img src="image-41.webp" srcset="/img/loading/loading3.gif" lazyload></li>
</ul>
<h4 id="automaton-construction-1">Automaton Construction</h4>
<ul>
<li><strong>INPUT</strong>: a grammar <span class="math inline"><strong>G</strong></span></li>
<li><strong>OUTPUT</strong>: a LR(1) automaton</li>
<li><strong>Construction</strong>:
<ol type="1">
<li>augment <span class="math inline"><strong>G</strong></span> to <span class="math inline"><strong>G</strong><sup><strong>â€²</strong></sup></span>
by adding a new start symbol <span class="math inline"><strong>S</strong><sup><strong>â€²</strong></sup></span>
and production <span class="math inline"><strong>S</strong><sup><strong>â€²</strong></sup>â€„â†’â€„<strong>S</strong></span>
ï¼ˆæ‰©å±•æ–‡æ³•ï¼‰</li>
<li><span class="math inline"><strong>C</strong></span>:= {<span class="math inline"><strong>C</strong><strong>L</strong><strong>O</strong><strong>S</strong><strong>U</strong><strong>R</strong><strong>E</strong><strong>(</strong><strong>[</strong><strong>S</strong><sup><strong>â€²</strong></sup>â€„<strong>â†’</strong>â€„<strong>â‹…</strong><strong>S</strong><strong>,</strong>â€†<strong>$</strong><strong>]</strong><strong>)</strong></span>}
ï¼ˆåˆå§‹åŒ–é¡¹é›†Cï¼‰</li>
<li>repeat:
<ul>
<li>for each Item <span class="math inline"><strong>I</strong></span> in
<span class="math inline"><strong>C</strong></span> and each grammar
symbol <span class="math inline"><strong>X</strong></span> in <span class="math inline"><strong>G</strong><sup><strong>â€²</strong></sup></span>
<ul>
<li>if <span class="math inline"><strong>G</strong><strong>O</strong><strong>T</strong><strong>O</strong><strong>(</strong><strong>I</strong><strong>,</strong>â€†<strong>X</strong><strong>)</strong></span>
is not empty and not in <span class="math inline"><strong>C</strong></span>
<ul>
<li>add <span class="math inline"><strong>G</strong><strong>O</strong><strong>T</strong><strong>O</strong><strong>(</strong><strong>I</strong><strong>,</strong>â€†<strong>X</strong><strong>)</strong></span>
to <span class="math inline"><strong>C</strong></span></li>
</ul></li>
</ul></li>
</ul></li>
<li>until no new Items are added to <span class="math inline"><strong>C</strong></span></li>
</ol></li>
<li><strong>Example</strong>:
<ol type="1">
<li><strong>Example</strong>: <img src="image-42.webp" srcset="/img/loading/loading3.gif" lazyload></li>
<li><strong>Exercise</strong>: <img src="image-44.webp" srcset="/img/loading/loading3.gif" lazyload></li>
</ol></li>
</ul>
<h4 id="parsing-table-construction-2">Parsing Table Construction</h4>
<ul>
<li><strong>LR(1) Parsing Table <span class="math inline">ğ•‹</span></strong>:
<ul>
<li><strong>Rows</strong>: <strong>states</strong></li>
<li><strong>Columns</strong>: <strong>grammar symbols</strong>
<ul>
<li><strong>terminals</strong> for <span class="math inline"><strong>S</strong><strong>H</strong><strong>I</strong><strong>F</strong><strong>T</strong></span>
and <span class="math inline"><strong>R</strong><strong>E</strong><strong>D</strong><strong>U</strong><strong>C</strong><strong>E</strong></span>
actions</li>
<li><strong>non-terminals</strong> for <span class="math inline"><strong>G</strong><strong>O</strong><strong>T</strong><strong>O</strong></span>
actions</li>
</ul></li>
<li><strong>Construction</strong>: each edge <span class="math inline"><strong>X</strong></span>: <span class="math inline">(<em>s</em><sub><em>m</em></sub>,â€†<em>s</em><sub><em>n</em></sub>)</span>
<ul>
<li>if <span class="math inline"><strong>X</strong></span> is a
<strong>terminal</strong> <span class="math inline"><strong>a</strong></span>, then <span class="math inline">ğ•‹[<em>s</em><sub><em>m</em></sub>,â€†<em>a</em>]â€„=â€„<strong>S</strong><strong>H</strong><strong>I</strong><strong>F</strong><strong>T</strong>&nbsp;<em>n</em></span></li>
<li>if <span class="math inline"><strong>X</strong></span> is a
<strong>non-terminal</strong> <span class="math inline"><strong>A</strong></span>, then <span class="math inline">ğ•‹[<em>s</em><sub><em>m</em></sub>,â€†<em>A</em>]â€„=â€„<strong>G</strong><strong>O</strong><strong>T</strong><strong>O</strong>&nbsp;<em>n</em></span></li>
<li>if <span class="math inline">[<strong>A</strong>â€„â†’â€„<strong>Î²</strong>â‹…,â€†<strong>a</strong>]</span>
(the kernel) is in <span class="math inline"><em>s</em><sub><em>m</em></sub></span>, then <span class="math inline">ğ•‹[<em>s</em><sub><em>m</em></sub>,â€†<em>a</em>]â€„=â€„<strong>R</strong><strong>E</strong><strong>D</strong><strong>U</strong><strong>C</strong><strong>E</strong>&nbsp;<strong>A</strong>â€„â†’â€„<strong>Î²</strong></span></li>
<li>if <span class="math inline">[<strong>S</strong><sup><strong>â€²</strong></sup>â€„â†’â€„<strong>S</strong>â‹…,â€†$]</span>
is in <span class="math inline"><em>s</em><sub><em>m</em></sub></span>,
then <span class="math inline">ğ•‹[<em>s</em><sub><em>m</em></sub>,â€†$]â€„=â€„<strong>A</strong><strong>C</strong><strong>C</strong><strong>E</strong><strong>P</strong><strong>T</strong></span></li>
</ul></li>
</ul></li>
<li><strong>Example</strong>: <img src="image-43.webp" srcset="/img/loading/loading3.gif" lazyload> &gt;
æ³¨ï¼šä¸Šè¡¨ä¸­<span class="math inline">[11,â€†<em>i</em><em>d</em>]</span>åº”ä¸º<span class="math inline"><em>s</em>12</span>ï¼Œå³<span class="math inline">ğ•‹[11,â€†<em>i</em><em>d</em>]â€„=â€„<em>s</em>12</span>ã€‚</li>
</ul>
<h3 id="lalr1-parsing">LALR(1) Parsing</h3>
<ul>
<li><strong>What</strong>: <strong>L</strong>ook <strong>A</strong>head
<strong>LR(1)</strong></li>
<li><strong>Why</strong>: smaller parsing table than
<strong>LR(1)</strong> for practiceï¼ˆæ¯”LR(1)å°çš„è§£æè¡¨ï¼‰
<ul>
<li>equal to <strong>SLR(1)</strong> in state number
ï¼ˆä¸SLR(1)çŠ¶æ€æ•°ç›¸ç­‰ï¼‰
<ul>
<li>e.g.&nbsp;In C, serveral hundred for SLR(1), serverals of thousands for
LR(1)</li>
</ul></li>
<li>more powerful than <strong>SLR(1)</strong> in processing more
grammars ï¼ˆæ¯”SLR(1)æ›´å¼ºå¤§ï¼Œèƒ½å¤„ç†æ›´å¤šæ–‡æ³•ï¼‰</li>
</ul></li>
<li><strong>How</strong>: combine <strong>Items</strong> with the same
<strong>Production Set</strong> in LR(1)
ï¼ˆå°†LR(1)ä¸­å…·æœ‰ç›¸åŒäº§ç”Ÿå¼é›†çš„é¡¹ï¼ˆåŒå¿ƒé›†ï¼‰ç»„åˆåœ¨ä¸€èµ·ï¼‰
<ul>
<li>e.g.&nbsp;<span class="math inline">[<strong>A</strong>â€„â†’â€„<strong>Î±</strong>â‹…,â€†<strong>a</strong>]</span>
and <span class="math inline">[<strong>A</strong>â€„â†’â€„<strong>Î±</strong>â‹…,â€†<strong>b</strong>]</span>
are combined into one state</li>
</ul></li>
<li>Compared to <strong>LR(1)</strong>: <img src="image-45.webp" srcset="/img/loading/loading3.gif" lazyload></li>
</ul>
<h4 id="automaton-construction-2">Automaton Construction</h4>
<ul>
<li><strong>INPUT</strong>: a grammar <span class="math inline"><strong>G</strong></span></li>
<li><strong>OUTPUT</strong>: a LALR(1) automaton</li>
<li><strong>Construction</strong>:
<ol type="1">
<li>Construct <strong>LR(0)</strong> items as <strong>LALR(1)</strong>
itemsâ€™ cores for the grammar <span class="math inline"><strong>G</strong><sup><strong>â€²</strong></sup></span>ï¼Œthen
remove the non-kernel items ï¼ˆä¸ºæ–‡æ³•<span class="math inline"><strong>G</strong><sup><strong>â€²</strong></sup></span>æ„é€ LR(0)é¡¹ä½œä¸ºLALR(1)é¡¹çš„æ ¸å¿ƒï¼Œç„¶ååˆ é™¤éæ ¸å¿ƒé¡¹ï¼‰</li>
<li>For each kernal items <span class="math inline"><strong>K</strong></span> in <span class="math inline"><strong>I</strong><sub><strong>i</strong></sub></span>
and each grammar symbol <span class="math inline"><strong>X</strong></span> in <span class="math inline"><strong>G</strong><sup><strong>â€²</strong></sup></span>,
calculate the lookahead symbolsâ€™ <strong>INIT</strong> and
<strong>PROPAGATION</strong>. ï¼ˆå¯¹äºæ¯ä¸ªé¡¹é›†<span class="math inline"><strong>I</strong><sub><strong>i</strong></sub></span>ä¸­çš„æ ¸å¿ƒé¡¹<span class="math inline"><strong>K</strong></span>å’Œæ–‡æ³•ç¬¦å·<span class="math inline"><strong>X</strong></span>ï¼Œè®¡ç®—å‰ç»ç¬¦å·çš„åˆå§‹å€¼å’Œä¼ æ’­ï¼‰
<ul>
<li>For each item <span class="math inline">(<strong>A</strong>â€„â†’â€„<strong>Î±</strong>â€…â‹…â€…<strong>Î²</strong>)</span>
in <span class="math inline"><strong>K</strong></span>
<ul>
<li><span class="math inline"><strong>J</strong>â€„:=â€„{<strong>C</strong><strong>L</strong><strong>O</strong><strong>S</strong><strong>U</strong><strong>R</strong><strong>E</strong><strong>(</strong><strong>[</strong><strong>A</strong>â€„<strong>â†’</strong>â€„<strong>Î±</strong>â€…<strong>â‹…</strong>â€…<strong>Î²</strong><strong>,</strong>â€†<strong>#</strong><strong>]</strong><strong>)</strong>}</span>
ï¼ˆåˆå§‹åŒ–<span class="math inline"><strong>J</strong></span>ï¼‰</li>
<li>if <span class="math inline">[<strong>B</strong>â€„<strong>â†’</strong>â€„<strong>Î³</strong>â€…<strong>â‹…</strong>â€…<strong>X</strong><strong>Î´</strong><strong>,</strong>â€†<strong>a</strong>]</span>
in <span class="math inline"><strong>J</strong></span> and <span class="math inline"><strong>a</strong>â€„<strong>â‰ </strong>â€„<strong>#</strong></span>,
then <span class="math inline"><strong>B</strong>â€„<strong>â†’</strong>â€„<strong>Î³</strong><strong>X</strong>â€…<strong>â‹…</strong>â€…<strong>Î´</strong></span>
in <span class="math inline"><strong>G</strong><strong>O</strong><strong>T</strong><strong>O</strong><strong>(</strong><strong>I</strong><sub><strong>i</strong></sub><strong>,</strong>â€†<strong>X</strong><strong>)</strong></span>
has a <strong>SELF-generated</strong> lookahead symbol <span class="math inline"><strong>a</strong></span> ï¼ˆ<span class="math inline"><strong>J</strong></span>ä¸­çš„é¡¹è‹¥å‡ºç°ä¸ä¸º#çš„å‰ç»ç¬¦å·ï¼Œåˆ™å®ƒæ˜¯è‡ªå‘ç”Ÿæˆçš„ï¼‰</li>
<li>if <span class="math inline">[<strong>B</strong>â€„<strong>â†’</strong>â€„<strong>Î³</strong>â€…<strong>â‹…</strong>â€…<strong>X</strong><strong>Î´</strong><strong>,</strong>â€†<strong>#</strong>]</span>
in <span class="math inline"><strong>J</strong></span>, then lookahead
symbols are <strong>propagated</strong> from <span class="math inline"><strong>A</strong>â€„<strong>â†’</strong>â€„<strong>Î±</strong>â€…<strong>â‹…</strong>â€…<strong>Î²</strong></span>
to <span class="math inline"><strong>B</strong>â€„<strong>â†’</strong>â€„<strong>Î³</strong><strong>X</strong>â€…<strong>â‹…</strong>â€…<strong>Î´</strong></span>
in <span class="math inline"><strong>G</strong><strong>O</strong><strong>T</strong><strong>O</strong><strong>(</strong><strong>I</strong><sub><strong>i</strong></sub><strong>,</strong>â€†<strong>X</strong><strong>)</strong></span>.
ï¼ˆ<span class="math inline"><strong>J</strong></span>ä¸­çš„é¡¹è‹¥å‡ºç°#çš„å‰ç»ç¬¦å·ï¼Œåˆ™è¯¥é¡¹ä¼šä¼ æ’­å‰ç»ç¬¦å·ï¼‰</li>
</ul></li>
<li>Specifically, <span class="math inline"><strong>$</strong></span> in
<span class="math inline"><strong>[</strong><strong>S</strong><sup><strong>â€²</strong></sup>â€„<strong>â†’</strong>â€„<strong>S</strong><strong>â‹…</strong><strong>,</strong>â€†<strong>$</strong><strong>]</strong></span>
is SELF-generated.</li>
</ul></li>
<li>Construct the <span class="math inline"><strong>F</strong><strong>R</strong><strong>O</strong><strong>M</strong>â€…<strong>âˆ’</strong>â€…<strong>T</strong><strong>O</strong></span>
table base on <span class="math inline"><strong>G</strong><strong>O</strong><strong>T</strong><strong>O</strong></span>
for the kernel items to show the propagation of lookahead symbols
ï¼ˆä¸ºæ ¸å¿ƒé¡¹æ„å»º<span class="math inline"><strong>F</strong><strong>R</strong><strong>O</strong><strong>M</strong>â€…<strong>âˆ’</strong>â€…<strong>T</strong><strong>O</strong></span>è¡¨ï¼Œä»¥æ˜¾ç¤ºå‰ç»ç¬¦å·çš„ä¼ æ’­ï¼‰
<ul>
<li>in step 2, we calculate <strong>propagated</strong>
relationships.</li>
</ul></li>
<li>Propagate the lookahead symbols according to the <span class="math inline"><strong>F</strong><strong>R</strong><strong>O</strong><strong>M</strong>â€…<strong>âˆ’</strong>â€…<strong>T</strong><strong>O</strong></span>
relationships until the fixed point achieved ï¼ˆæ ¹æ®<span class="math inline"><strong>F</strong><strong>R</strong><strong>O</strong><strong>M</strong>â€…<strong>âˆ’</strong>â€…<strong>T</strong><strong>O</strong></span>å…³ç³»ä¼ æ’­å‰ç»ç¬¦å·ï¼Œç›´åˆ°è¾¾åˆ°ä¸å˜ç‚¹ï¼‰
<ul>
<li>in step 2, we calculate <strong>self-generated</strong> lookahead
symbols.</li>
</ul></li>
</ol></li>
<li><strong>Example</strong>: <img src="image-54.webp" srcset="/img/loading/loading3.gif" lazyload> <img src="image-46.webp" srcset="/img/loading/loading3.gif" lazyload> &gt;
æ³¨ï¼šä¸Šå³è¡¨ä¸­ï¼Œå‰ç»ç¬¦å·åœ¨ä¼ æ’­æ—¶ï¼Œæ¯ä¸€è¡Œçš„å‰ç»ç¬¦å·å¯ä»¥å‘å³å¡«æ»¡å³ä¾§åˆ—ï¼Œæœ€å³ä¸€åˆ—æ˜¯æœ€ç»ˆç»“æœ</li>
</ul>
<h4 id="parsing-table-construction-3">Parsing Table Construction</h4>
<ul>
<li>the same as <strong>LR(1)</strong> method</li>
<li><strong>LALR(1) Parsing Table <span class="math inline">ğ•‹</span></strong>:
<ul>
<li><strong>Rows</strong>: <strong>states</strong></li>
<li><strong>Columns</strong>: <strong>grammar symbols</strong>
<ul>
<li><strong>terminals</strong> for <span class="math inline"><strong>S</strong><strong>H</strong><strong>I</strong><strong>F</strong><strong>T</strong></span>
and <span class="math inline"><strong>R</strong><strong>E</strong><strong>D</strong><strong>U</strong><strong>C</strong><strong>E</strong></span>
actions</li>
<li><strong>non-terminals</strong> for <span class="math inline"><strong>G</strong><strong>O</strong><strong>T</strong><strong>O</strong></span>
actions</li>
</ul></li>
<li><strong>Construction</strong>: each edge <span class="math inline"><strong>X</strong></span>: <span class="math inline">(<em>s</em><sub><em>m</em></sub>,â€†<em>s</em><sub><em>n</em></sub>)</span>
<ul>
<li>if <span class="math inline"><strong>X</strong></span> is a
<strong>terminal</strong> <span class="math inline"><strong>a</strong></span>, then <span class="math inline">ğ•‹[<em>s</em><sub><em>m</em></sub>,â€†<em>a</em>]â€„=â€„<strong>S</strong><strong>H</strong><strong>I</strong><strong>F</strong><strong>T</strong>&nbsp;<em>n</em></span></li>
<li>if <span class="math inline"><strong>X</strong></span> is a
<strong>non-terminal</strong> <span class="math inline"><strong>A</strong></span>, then <span class="math inline">ğ•‹[<em>s</em><sub><em>m</em></sub>,â€†<em>A</em>]â€„=â€„<strong>G</strong><strong>O</strong><strong>T</strong><strong>O</strong>&nbsp;<em>n</em></span></li>
<li>if <span class="math inline">[<strong>A</strong>â€„â†’â€„<strong>Î²</strong>â‹…,â€†<strong>a</strong>]</span>
(the kernel) is in <span class="math inline"><em>s</em><sub><em>m</em></sub></span>, then <span class="math inline">ğ•‹[<em>s</em><sub><em>m</em></sub>,â€†<em>a</em>]â€„=â€„<strong>R</strong><strong>E</strong><strong>D</strong><strong>U</strong><strong>C</strong><strong>E</strong>&nbsp;<strong>A</strong>â€„â†’â€„<strong>Î²</strong></span></li>
<li>if <span class="math inline">[<strong>S</strong><sup><strong>â€²</strong></sup>â€„â†’â€„<strong>S</strong>â‹…,â€†$]</span>
is in <span class="math inline"><em>s</em><sub><em>m</em></sub></span>,
then <span class="math inline">ğ•‹[<em>s</em><sub><em>m</em></sub>,â€†$]â€„=â€„<strong>A</strong><strong>C</strong><strong>C</strong><strong>E</strong><strong>P</strong><strong>T</strong></span></li>
</ul></li>
</ul></li>
<li><strong>Example</strong>: <img src="image-53.webp" srcset="/img/loading/loading3.gif" lazyload></li>
</ul>
<h4 id="capabilities-vs.-conflicts">Capabilities vs.&nbsp;Conflicts</h4>
<ul>
<li>LALR never introduces new SHIFT-REDUCE conflicts:
<ul>
<li><strong>SHIFT does not depend on lookaheads</strong></li>
</ul></li>
<li><strong>Example</strong>: <img src="image-47.webp" srcset="/img/loading/loading3.gif" lazyload></li>
</ul>
<h3 id="summary">Summary</h3>
<ul>
<li><strong>LR(0)</strong>, <strong>SLR(1)</strong>,
<strong>LR(1)</strong>, <strong>LALR(1)</strong>
<ul>
<li>all working in <strong>SHIFT-REDUCE</strong> mode</li>
<li>only different in Parsing Tables</li>
</ul></li>
<li><strong>Parsing Tables - Capabilities</strong>
<ul>
<li>LR(0) &lt; SLR(1) &lt; LALR(1) &lt; LR(1)</li>
<li>LR(0): Items</li>
<li>SLR(1): Items with FOLLOW</li>
<li>LALR(1): Items Combined from SLR(1) and LR(1)</li>
<li>LR(1): Items with Subset of FOLLOW</li>
</ul>
<img src="image-48.webp" srcset="/img/loading/loading3.gif" lazyload></li>
</ul>
<h2 id="using-ambiguous-grammars">Using Ambiguous Grammars</h2>
<ul>
<li>In Theory: grammar for LR parsing tables should be unambiguous
ï¼ˆåœ¨ç†è®ºä¸Šï¼šLRè§£æè¡¨çš„æ–‡æ³•åº”è¯¥æ˜¯æ— æ­§ä¹‰çš„ï¼‰</li>
<li>For ambiguous grammars:
<ul>
<li>there will be conflicts</li>
<li>add new information/restrictions to resolve ambiguity
ï¼ˆæ·»åŠ æ–°ä¿¡æ¯/é™åˆ¶ä»¥è§£å†³æ­§ä¹‰ï¼‰
<ul>
<li>precedence, associativity, etc.</li>
<li>get LR tables without conflicts</li>
</ul></li>
</ul></li>
<li>Why embracing ambiguous grammars?
<ul>
<li>some are much natural, the unambiguous one can be very complex
ï¼ˆæœ‰äº›æ˜¯éå¸¸è‡ªç„¶çš„ï¼Œæ— æ­§ä¹‰çš„å¯èƒ½éå¸¸å¤æ‚ï¼‰</li>
<li>isolate common syntactic constructs for special-case optimizations
ï¼ˆéš”ç¦»å¸¸è§çš„è¯­æ³•ç»“æ„ä»¥è¿›è¡Œç‰¹æ®Šæƒ…å†µä¼˜åŒ–ï¼‰</li>
</ul></li>
<li>Example: <img src="image-49.webp" srcset="/img/loading/loading3.gif" lazyload></li>
</ul>
<h2 id="summary-1">Summary</h2>
<p><img src="image-50.webp" srcset="/img/loading/loading3.gif" lazyload></p>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/SJTU-Notes/" class="category-chain-item">SJTU Notes</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/SJTU/" class="print-no-link">#SJTU</a>
      
        <a href="/tags/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/" class="print-no-link">#ç¼–è¯‘åŸç†</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>ç¼–è¯‘åŸç†</div>
      <div>https://youyeyejie.github.io/posts/ç¼–è¯‘åŸç†/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>ä½œè€…</div>
          <div>youyeyejie</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>å‘å¸ƒäº</div>
          <div>2025å¹´6æœˆ9æ—¥</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>æ›´æ–°äº</div>
          <div>2025å¹´7æœˆ14æ—¥</div>
        </div>
      
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/posts/%E9%A9%AC%E5%85%8B%E6%80%9D%E4%B8%BB%E4%B9%89%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86/" title="é©¬å…‹æ€ä¸»ä¹‰åŸºæœ¬åŸç†">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">é©¬å…‹æ€ä¸»ä¹‰åŸºæœ¬åŸç†</span>
                        <span class="visible-mobile">ä¸Šä¸€ç¯‡</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/posts/%E9%87%8F%E5%AD%90%E5%8A%9B%E5%AD%A6/" title="é‡å­åŠ›å­¦">
                        <span class="hidden-mobile">é‡å­åŠ›å­¦</span>
                        <span class="visible-mobile">ä¸‹ä¸€ç¯‡</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
  
  
    <article id="comments">
      
    <div id="giscus" class="giscus"></div>
    <script type="text/javascript">
      Fluid.utils.loadComments('#giscus', function() {
        var options = {"repo":"youyeyejie/youyeyejie.github.io","repo-id":"R_kgDOO-Uo1g","category":"General","category-id":"DIC_kwDOO-Uo1s4Crz5J","theme-light":"light","theme-dark":"dark","mapping":"pathname","reactions-enabled":1,"emit-metadata":0,"input-position":"top","lang":"zh-CN"};
        var attributes = {};
        for (let option in options) {
          if (!option.startsWith('theme-')) {
            var key = option.startsWith('data-') ? option : 'data-' + option;
            attributes[key] = options[option];
          }
        }
        var light = 'light';
        var dark = 'dark';
        window.GiscusThemeLight = light;
        window.GiscusThemeDark = dark;
        attributes['data-theme'] = document.documentElement.getAttribute('data-user-color-scheme') === 'dark' ? dark : light;
        for (let attribute in attributes) {
          var value = attributes[attribute];
          if (value === undefined || value === null || value === '') {
            delete attributes[attribute];
          }
        }
        var s = document.createElement('script');
        s.setAttribute('src', 'https://giscus.app/client.js');
        s.setAttribute('crossorigin', 'anonymous');
        for (let attribute in attributes) {
          s.setAttribute(attribute, attributes[attribute]);
        }
        var ss = document.getElementsByTagName('script');
        var e = ss.length > 0 ? ss[ss.length - 1] : document.head || document.documentElement;
        e.parentNode.insertBefore(s, e.nextSibling);
      });
    </script>
    <noscript>Please enable JavaScript to view the comments</noscript>


    </article>
  


          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>ç›®å½•</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>







  



  



  


  
  









    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">æœç´¢</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">å…³é”®è¯</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
  
  
</div>
<div class="footer-inner">
    <div class="powered-by">
        <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a>
        <i class="iconfont icon-love"></i>
        <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a>
    </div>
    <div class="hitokoto">
        <i class="fas fa-quote-left"></i>
        <a target="_blank" rel="noopener" href="https://developer.hitokoto.cn/" id="hitokoto_text"><span id="hitokoto">Getting poem...</span></a>
        <script src="/js/Hitokoto.js" defer></script>
    </div>
    <div class="data">
        <span class="total-word-container">
            <i class="fas fa-chart-bar"></i>
            <span id="g-total-word-id"></span>
            å­—æ±‡é•¿æ²³
        </span>
        &nbsp;
        <span id="total-posts-container">
            <i class="fas fa-file-alt"></i>
            <span id="g-total-posts-id"></span>
            <script src="/js/TotalPosts.js"></script>
            æ–‡èˆŸé å²¸
        </span>
        &nbsp;
        <span id="busuanzi_container_site_pv">
            <i class="fas fa-eye"></i>
            <span id="busuanzi_value_site_pv"></span>
            ç›®å…‰æ‰€åŠ
        </span>
        &nbsp;
        <span id="busuanzi_container_site_uv">
            <i class="fas fa-user-friends"></i>
            <span id="busuanzi_value_site_uv"></span>
            è®¿å®¢é©»è¶³
        </span>
    </div>
    <div class="duration">
        <i class="fas fa-calendar"></i>
        <span id="timeDate">Getting date...</span>
        <span id="times">Getting time...</span>
        <script src="/js/Duration.js"></script>
    </div>
</div>

<link href="/css/Footer.css" type="text/css" rel="stylesheet"/>
<script defer src="https://events.vercount.one/js"></script>
<!-- <script src="https://npm.elemecdn.com/penndu@1.0.0/bsz.js" defer></script> -->
<!-- <script src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" defer></script> -->
<!-- <script async src="https://busuanzi.icodeq.com/busuanzi.pure.mini.js"></script> -->
<!-- <script async src="https://busuanzi.sukap.cn/busuanzi.pure.mini.js"></script> -->
  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    
      <script  src="/js/img-lazyload.js" ></script>
    
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/5.0.0/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  
      <script>
        if (!window.MathJax) {
          window.MathJax = {
            tex    : {
              inlineMath: { '[+]': [['$', '$']] }
            },
            loader : {
              load: ['ui/lazy']
            },
            options: {
              renderActions: {
                insertedScript: [200, () => {
                  document.querySelectorAll('mjx-container').forEach(node => {
                    let target = node.parentNode;
                    if (target.nodeName.toLowerCase() === 'li') {
                      target.parentNode.classList.add('has-jax');
                    }
                  });
                }, '', false]
              }
            }
          };
        } else {
          MathJax.startup.document.state(0);
          MathJax.texReset();
          MathJax.typeset();
          MathJax.typesetPromise();
        }

        Fluid.events.registerRefreshCallback(function() {
          if ('MathJax' in window && MathJax.startup.document && typeof MathJax.startup.document.state === 'function') {
            MathJax.startup.document.state(0);
            MathJax.texReset();
            MathJax.typeset();
            MathJax.typesetPromise();
          }
        });
      </script>
    

  <script  src="https://lib.baomitu.com/mathjax/3.2.2/es5/tex-mml-chtml.js" ></script>

  <script  src="/js/local-search.js" ></script>

  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>




  
<script src="/js/DynamicLine.js"></script>
<script src="/js/LinkCard.js"></script>
<script src="/js/RandomBanner.js"></script>
<script src="/js/ScrollAnimation.js"></script>
<script src="/js/TabDisplay.js"></script>



<!-- ä¸»é¢˜çš„å¯åŠ¨é¡¹ï¼Œå°†å®ƒä¿æŒåœ¨æœ€åº•éƒ¨ -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  <script type="text/javascript">
  document.getElementById("g-total-word-id").innerHTML = "302k";
</script>

  <noscript>
    <div class="noscript-warning">åšå®¢åœ¨å…è®¸ JavaScript è¿è¡Œçš„ç¯å¢ƒä¸‹æµè§ˆæ•ˆæœæ›´ä½³</div>
  </noscript>
<!-- hexo injector body_end start -->
<script src="https://cdn.jsdelivr.net/npm/hexo-shiki-plugin@latest/lib/codeblock.js"></script>

  <script>
  const CODE_CONFIG = {
    beautify: true,
    highlightCopy: true,
    highlightLang: true,
    highlightHeightLimit: 360,
    isHighlightShrink: false,
    copy: {
      success: 'Copy Success',
      error: 'Copy Error',
      noSupport: 'Browser Not Support',
    }
  };
  console.log(
    `%c hexo-shiki-plugin %c v1.0.27 %c https://github.com/nova1751/hexo-shiki-plugin`,
    "color: #fff; background: #5f5f5f",
    "color: #fff; background: #80c8f8",
    ""
  );
  </script>
  <!-- hexo injector body_end end --></body>
</html>
